function mxOrgChartLayout(t,e,n,r){switch(mxGraphLayout.call(this,t),this.correctY=!1,parseInt(e)){case 0:this.branchOptimizer=mxOrgChartLayout.prototype.BRANCH_OPT_LINEAR,this.correctY=!0;break;case 1:this.branchOptimizer=mxOrgChartLayout.prototype.BRANCH_OPT_HANGER2,this.correctY=!0;break;case 3:this.branchOptimizer=mxOrgChartLayout.prototype.BRANCH_OPT_FISHBONE1;break;case 4:this.branchOptimizer=mxOrgChartLayout.prototype.BRANCH_OPT_FISHBONE2;break;case 5:this.branchOptimizer=mxOrgChartLayout.prototype.BRANCH_OPT_1COLUMN_L;break;case 6:this.branchOptimizer=mxOrgChartLayout.prototype.BRANCH_OPT_1COLUMN_R;break;case 7:this.branchOptimizer=mxOrgChartLayout.prototype.BRANCH_OPT_SMART;break;default:this.branchOptimizer=mxOrgChartLayout.prototype.BRANCH_OPT_HANGER4,this.correctY=!0}this.parentChildSpacing=0<n?n:20,this.siblingSpacing=0<r?r:20}!function(t){"use strict";var m,s,a,y,e={global:t,emptyFn:function(){},identity:function(t){return t},geti:function(t,e,n){return Bridge.hasValue(t[e])?e:n},literal:function(t,e){return e.$getType=function(){return t},e},isPlainObject:function(t){if("object"!=typeof t||null===t)return!1;if("function"!=typeof Object.getPrototypeOf)return"[object Object]"===Object.prototype.toString.call(t);t=Object.getPrototypeOf(t);return t===Object.prototype||null===t},toPlain:function(t){var e,n,r,i,o;if(!t||Bridge.isPlainObject(t)||"object"!=typeof t)return t;if("function"==typeof t.toJSON)return t.toJSON();if(Bridge.isArray(t)){for(e=[],n=0;n<t.length;n++)e.push(Bridge.toPlain(t[n]));return e}for(o in r={},t)i=t[o],Bridge.isFunction(i)||(r[o]=i);return r},ref:function(e,n){Bridge.isArray(n)&&(n=System.Array.toIndex(e,n));var t={};return Object.defineProperty(t,"v",{get:function(){return e[n]},set:function(t){e[n]=t}}),t},property:function(t,e,n,r){t[e]=n;var i,o,s,a,u="$"===e.charAt(0)?e.slice(1):e,l="get"+u,n="set"+u,u=e.lastIndexOf("$");0<(u=0<u&&0<e.length-u-1&&!isNaN(parseInt(e.substr(u+1)))?e.substring(0,u-1).lastIndexOf("$"):u)&&u!==e.length-1&&(l=e.substring(0,u)+"get"+e.substr(u+1),n=e.substring(0,u)+"set"+e.substr(u+1)),t[l]=(i=e,o=t,r?function(){return o[i]}:function(){return this[i]}),t[n]=(s=e,a=t,r?function(t){a[s]=t}:function(t){this[s]=t})},event:function(t,e,n,r){t[e]=n;var i,o,s,a,u="$"===e.charAt(0)?e.slice(1):e,l="add"+u,n="remove"+u,u=e.lastIndexOf("$");0<(u=0<u&&0<e.length-u-1&&!isNaN(parseInt(e.substr(u+1)))?e.substring(0,u-1).lastIndexOf("$"):u)&&u!==e.length-1&&(l=e.substring(0,u)+"add"+e.substr(u+1),n=e.substring(0,u)+"remove"+e.substr(u+1)),t[l]=(i=e,o=t,r?function(t){o[i]=Bridge.fn.combine(o[i],t)}:function(t){this[i]=Bridge.fn.combine(this[i],t)}),t[n]=(s=e,a=t,r?function(t){a[s]=Bridge.fn.remove(a[s],t)}:function(t){this[s]=Bridge.fn.remove(this[s],t)})},createInstance:function(t,e){return t===System.Decimal?System.Decimal.Zero:t===System.Int64?System.Int64.Zero:t===System.UInt64?System.UInt64.Zero:t===System.Double||t===System.Single||t===System.Byte||t===System.SByte||t===System.Int16||t===System.UInt16||t===System.Int32||t===System.UInt32||t===Bridge.Int?0:"function"==typeof t.getDefaultValue?t.getDefaultValue():t!==Boolean&&(t===Date?new Date(0):t===Number?0:t===String?"":t&&t.$literal?t.ctor():e&&0<e.length?Bridge.Reflection.applyConstructor(t,e):new t)},clone:function(t){return Bridge.isArray(t)?System.Array.clone(t):Bridge.isString(t)?t:Bridge.isFunction(t["System$ICloneable$clone"])?t.System$ICloneable$clone():Bridge.is(t,System.ICloneable)?t.clone():null},copy:function(t,e,n,r){for(var i,o=0,s=(n="string"==typeof n?n.split(/[,;\s]+/):n)?n.length:0;o<s;o++)i=n[o],!0===r&&null!=t[i]||(t[i]=Bridge.is(e[i],System.ICloneable)?Bridge.clone(e[i]):e[i]);return t},get:function(t){return t&&null!==t.$staticInit&&t.$staticInit(),t},ns:function(t,e){var n=t.split("."),r=0;for(e=e||Bridge.global,r=0;r<n.length;r++)void 0===e[n[r]]&&(e[n[r]]={}),e=e[n[r]];return e},ready:function(t,e){function n(){e?t.apply(e):t()}void 0!==Bridge.global.jQuery?Bridge.global.jQuery(n):void 0===Bridge.global.document||"complete"===Bridge.global.document.readyState||"loaded"===Bridge.global.document.readyState?n():Bridge.on("DOMContentLoaded",Bridge.global.document,n)},on:function(t,e,n,r){e.addEventListener?e.addEventListener(t,function(t){var e=n.apply(r||this,arguments);return!1===e&&(t.stopPropagation(),t.preventDefault()),e},!1):e.attachEvent("on"+t,function(){var t=n.call(r||e,Bridge.global.event);return!1===t&&(Bridge.global.event.returnValue=!1,Bridge.global.event.cancelBubble=!0),t})},addHash:function(t,e,n){if(isNaN(e)&&(e=17),isNaN(n)&&(n=23),Bridge.isArray(t)){for(var r=0;r<t.length;r++)e=e+((e*n|0)+(null==t[r]?0:Bridge.getHashCode(t[r])))|0;return e}return e+((e*n|0)+(null==t?0:Bridge.getHashCode(t)))|0},getHashCode:function(t,e,n){var r,i,o,s,a;if(Bridge.isEmpty(t,!0)){if(e)return 0;throw new System.InvalidOperationException("HashCode cannot be calculated for empty value")}if(!1!==n&&t.hasOwnProperty("item1")&&Bridge.isPlainObject(t)&&(n=!0),t.getHashCode&&Bridge.isFunction(t.getHashCode)&&!t.__insideHashCode&&0===t.getHashCode.length)return t.__insideHashCode=!0,e=t.getHashCode(),delete t.__insideHashCode,e;if(Bridge.isBoolean(t))return t?1:0;if(Bridge.isDate(t))return 4294967295&t.valueOf();if(t===Number.POSITIVE_INFINITY)return 2146435072;if(t===Number.NEGATIVE_INFINITY)return 4293918720;if(Bridge.isNumber(t)){if(Math.floor(t)===t)return t;t=t.toExponential()}if(Bridge.isString(t)){for(i=r=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i)&4294967295;return r}if(t.$$hashCode)return t.$$hashCode;if(n&&"object"==typeof t){for(a in o=0,t)t.hasOwnProperty(a)&&(s=Bridge.isEmpty(t[a],!0)?0:Bridge.getHashCode(t[a]),o=29*o+s);if(0!==o)return t.$$hashCode=o}return t.$$hashCode=4294967296*Math.random()|0,t.$$hashCode},getDefaultValue:function(t){return t.getDefaultValue&&0===t.getDefaultValue.length?t.getDefaultValue():t!==Boolean&&(t===Date?new Date(-864e13):t===Number?0:null)},getTypeAlias:function(t){return(t.$$name||Bridge.getTypeName(t)).replace(/[\.\(\)\,]/g,"$")},getTypeName:function(t){return Bridge.Reflection.getTypeFullName(t)},hasValue:function(t){return null!=t},hasValue$1:function(){if(0===arguments.length)return!1;for(var t=0;t<arguments.length;t++)if(null==arguments[t])return!1;return!0},is:function(t,e,n,r){var i,o;if(null==t)return!!r;if(i=t.constructor,e.constructor===Function&&t instanceof e||i===e)return!0;if(o=i.$kind||i.$$inherits,r=e.$kind,o||r){if(e.$isInterface){if(o)return i.$isArrayEnumerator?System.Array.is(t,e):e.isAssignableFrom?e.isAssignableFrom(i):0<=Bridge.Reflection.getInterfaces(i).indexOf(e);if(Bridge.isArray(t,i))return System.Array.is(t,e);if(i===String)return System.String.is(t,e)}return!0!==n&&e.$is?e.$is(t):!(!e.$literal||!Bridge.isPlainObject(t))&&(!t.$getType||Bridge.Reflection.isAssignableFrom(e,t.$getType()))}if("boolean"==(o=typeof e))return e;if("string"==o&&(e=Bridge.unroll(e)),"function"==o&&Bridge.getType(t).prototype instanceof e)return!0;if(!0!==n){if("function"==typeof e.$is)return e.$is(t);if("function"==typeof e.isAssignableFrom)return e.isAssignableFrom(Bridge.getType(t))}return Bridge.isArray(t)?System.Array.is(t,e):"object"==o&&(i===e||t instanceof e)},as:function(t,e,n){return Bridge.is(t,e,!1,n)?t:null},cast:function(t,e,n){if(null==t)return t;n=Bridge.is(t,e,!1,n)?t:null;if(null===n)throw new System.InvalidCastException("Unable to cast type "+(t?Bridge.getTypeName(t):"'null'")+" to type "+Bridge.getTypeName(e));return n},apply:function(t,e){for(var n,r=Bridge.getPropertyNames(e,!0),i=0;i<r.length;i++)"function"==typeof t[n=r[i]]&&"function"!=typeof e[n]?t[n](e[n]):t[n]=e[n];return t},merge:function(t,e,n,r){var i,o,s,a,u,l;if(t instanceof System.Decimal&&Bridge.isNumber(e))return new System.Decimal(e);if(t instanceof System.Int64&&Bridge.isNumber(e))return new System.Int64(e);if(t instanceof System.UInt64&&Bridge.isNumber(e))return new System.UInt64(e);if(t instanceof Boolean||Bridge.isBoolean(t)||t instanceof Number||Bridge.isNumber(t)||t instanceof String||Bridge.isString(t)||t instanceof Function||Bridge.isFunction(t)||t instanceof Date||Bridge.isDate(t)||Bridge.isNumber(t)||t instanceof System.Double||t instanceof System.Single||t instanceof System.Byte||t instanceof System.SByte||t instanceof System.Int16||t instanceof System.UInt16||t instanceof System.Int32||t instanceof System.UInt32||t instanceof Bridge.Int||t instanceof System.Decimal)return e;if(Bridge.isArray(e)&&Bridge.isFunction(t.add||t.push))for(a=Bridge.isArray(t)?t.push:t.add,o=0;o<e.length;o++)u=e[o],Bridge.isArray(u)||(u=[void 0===r?u:Bridge.merge(r(),u)]),a.apply(t,u);else for(i in e)s=e[i],"function"==typeof t[i]?i.match(/^\s*get[A-Z]/)?Bridge.merge(t[i](),s):t[i](s):(l="set"+i.charAt(0).toUpperCase()+i.slice(1),"function"==typeof t[l]&&"function"!=typeof s?t[l](s):s&&s.constructor===Object&&t[i]?(l=t[i],Bridge.merge(l,s)):t[i]=s);return n&&n.call(t,t),t},getEnumerator:function(t,e,n){if("string"==typeof t&&(t=System.String.toCharArray(t)),2===arguments.length&&Bridge.isFunction(e)&&(n=e,e=null),e&&t&&t[e])return t[e].call(t);if(!n&&t&&t.getEnumerator)return t.getEnumerator();var r;if(n&&Bridge.isFunction(t[r="System$Collections$Generic$IEnumerable$1$"+Bridge.getTypeAlias(n)+"$getEnumerator"])||Bridge.isFunction(t[r="System$Collections$IEnumerable$getEnumerator"]))return t[r]();if(n&&t&&t.getEnumerator)return t.getEnumerator();if("[object Array]"===Object.prototype.toString.call(t)||t&&Bridge.isDefined(t.length))return new Bridge.ArrayEnumerator(t,n);throw new System.InvalidOperationException("Cannot create enumerator")},getPropertyNames:function(t,e){var n,r=[];for(n in t)!e&&"function"==typeof t[n]||r.push(n);return r},isDefined:function(t,e){return void 0!==t&&(!e||null!==t)},isEmpty:function(t,e){return null==t||!e&&""===t||!(e||!Bridge.isArray(t))&&0===t.length},toArray:function(t){var e,n,r,i=[];if(Bridge.isArray(t))for(e=0,r=t.length;e<r;++e)i.push(t[e]);else for(e=Bridge.getEnumerator(t);e.moveNext();)n=e.getCurrent(),i.push(n);return i},toList:function(t,e){return new(System.Collections.Generic.List$1(e||Object))(t)},arrayTypes:[t.Array,t.Uint8Array,t.Int8Array,t.Int16Array,t.Uint16Array,t.Int32Array,t.Uint32Array,t.Float32Array,t.Float64Array,t.Uint8ClampedArray],isArray:function(t,e){t=e||(null!=t?t.constructor:null);return!!t&&0<=Bridge.arrayTypes.indexOf(t)},isFunction:function(t){return"function"==typeof t},isDate:function(t){return"[object Date]"===Object.prototype.toString.call(t)},isNull:function(t){return null==t},isBoolean:function(t){return"boolean"==typeof t},isNumber:function(t){return"number"==typeof t&&isFinite(t)},isString:function(t){return"string"==typeof t},unroll:function(t){for(var e=t.split("."),n=Bridge.global[e[0]],r=1;r<e.length;r++){if(!n)return null;n=n[e[r]]}return n},referenceEquals:function(t,e){return Bridge.hasValue(t)?t===e:!Bridge.hasValue(e)},staticEquals:function(t,e){return Bridge.hasValue(t)?!!Bridge.hasValue(e)&&Bridge.equals(t,e):!Bridge.hasValue(e)},equals:function(t,e){if(null==t&&null==e)return!0;if(t&&Bridge.isFunction(t.equals)&&1===t.equals.length)return t.equals(e);if(e&&Bridge.isFunction(e.equals)&&1===e.equals.length)return e.equals(t);if(Bridge.isDate(t)&&Bridge.isDate(e))return t.valueOf()===e.valueOf();if(Bridge.isNull(t)&&Bridge.isNull(e))return!0;if(Bridge.isNull(t)!==Bridge.isNull(e))return!1;var n=t===e;return n||"object"!=typeof t||"object"!=typeof e||null===t||null===e||"struct"!==t.$kind||"struct"!==e.$kind||t.$$name!==e.$$name?!n&&t&&e&&t.hasOwnProperty("item1")&&Bridge.isPlainObject(t)&&e.hasOwnProperty("item1")&&Bridge.isPlainObject(e)?Bridge.objectEquals(t,e):n:Bridge.getHashCode(t)===Bridge.getHashCode(e)&&Bridge.objectEquals(t,e)},objectEquals:function(t,e){Bridge.$$leftChain=[],Bridge.$$rightChain=[];e=Bridge.deepEquals(t,e);return delete Bridge.$$leftChain,delete Bridge.$$rightChain,e},deepEquals:function(t,e){if("object"!=typeof t||"object"!=typeof e)return Bridge.equals(t,e);if(t===e)return!0;if(-1<Bridge.$$leftChain.indexOf(t)||-1<Bridge.$$rightChain.indexOf(e))return!1;for(var n in e)if(e.hasOwnProperty(n)!==t.hasOwnProperty(n)||typeof e[n]!=typeof t[n])return!1;for(n in t){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n)||typeof t[n]!=typeof e[n])return!1;if(t[n]!==e[n])if("object"==typeof t[n]){if(Bridge.$$leftChain.push(t),Bridge.$$rightChain.push(e),!Bridge.deepEquals(t[n],e[n]))return!1;Bridge.$$leftChain.pop(),Bridge.$$rightChain.pop()}else if(!Bridge.equals(t[n],e[n]))return!1}return!0},compare:function(t,e,n,r){if(!Bridge.isDefined(t,!0)){if(n)return 0;throw new System.NullReferenceException}if(Bridge.isNumber(t)||Bridge.isString(t)||Bridge.isBoolean(t))return Bridge.isString(t)&&!Bridge.hasValue(e)?1:t<e?-1:e<t?1:0;if(Bridge.isDate(t))return Bridge.compare(t.valueOf(),e.valueOf());var i;if(r&&Bridge.isFunction(t[i="System$IComparable$1$"+Bridge.getTypeAlias(r)+"$compareTo"])||Bridge.isFunction(t[i="System$IComparable$compareTo"]))return t[i](e);if(Bridge.isFunction(t.compareTo))return t.compareTo(e);if(r&&Bridge.isFunction(e[i="System$IComparable$1$"+Bridge.getTypeAlias(r)+"$compareTo"])||Bridge.isFunction(e[i="System$IComparable$compareTo"]))return-e[i](t);if(Bridge.isFunction(e.compareTo))return-e.compareTo(t);if(n)return 0;throw new System.Exception("Cannot compare items")},equalsT:function(t,e,n){if(!Bridge.isDefined(t,!0))throw new System.NullReferenceException;return Bridge.isNumber(t)||Bridge.isString(t)||Bridge.isBoolean(t)?t===e:Bridge.isDate(t)?t.valueOf()===e.valueOf():n&&null!=t&&Bridge.isFunction(t[r="System$IEquatable$1$"+Bridge.getTypeAlias(n)+"$equalsT"])?t[r](e):n&&null!=e&&Bridge.isFunction(e[r="System$IEquatable$1$"+Bridge.getTypeAlias(n)+"$equalsT"])?e[r](t):t.equalsT?t.equalsT(e):e.equalsT(t);var r},format:function(t,e,n){return Bridge.isNumber(t)?Bridge.Int.format(t,e,n):Bridge.isDate(t)?Bridge.Date.format(t,e,n):Bridge.isFunction(t["System$IFormattable$format"])?t.System$IFormattable$format(e,n):t.format(e,n)},getType:function(t){if(null==t)throw new System.NullReferenceException("instance is null");if("number"==typeof t)return!isNaN(t)&&isFinite(t)&&Math.floor(t,0)===t?System.Int32:System.Double;if(t.$getType)return t.$getType();try{return t.constructor}catch(t){return Object}},isLower:function(t){t=String.fromCharCode(t);return t===t.toLowerCase()&&t!==t.toUpperCase()},isUpper:function(t){t=String.fromCharCode(t);return t!==t.toLowerCase()&&t===t.toUpperCase()},coalesce:function(t,e){return Bridge.hasValue(t)?t:e},fn:{equals:function(t){return this===t||null!=t&&this.constructor===t.constructor&&(this.equals===t.equals&&this.$method===t.$method&&this.$scope===t.$scope)},call:function(t,e){var n=Array.prototype.slice.call(arguments,2);return(t=t||Bridge.global)[e].apply(t,n)},makeFn:function(t,e){return function(){return t.apply(this,arguments)}},bind:function(e,n,r,i){var t,o;if(n&&n.$method===n&&n.$scope===e)return n;if(e&&e.$$bind)for(t=0;t<e.$$bind.length;t++)if(e.$$bind[t].$method===n)return e.$$bind[t];return o=2===arguments.length?Bridge.fn.makeFn(function(){Bridge.caller.unshift(this);var t=n.apply(e,arguments);return Bridge.caller.shift(this),t},n.length):Bridge.fn.makeFn(function(){var t=r||arguments;return!0===i?t=(t=Array.prototype.slice.call(arguments,0)).concat(r):"number"==typeof i&&(t=Array.prototype.slice.call(arguments,0),0===i?t.unshift.apply(t,r):i<t.length?t.splice.apply(t,[i,0].concat(r)):t.push.apply(t,r)),Bridge.caller.unshift(this),t=n.apply(e,t),Bridge.caller.shift(this),t},n.length),e&&(e.$$bind=e.$$bind||[],e.$$bind.push(o)),o.$method=n,o.$scope=e,o.equals=Bridge.fn.equals,o},bindScope:function(e,n){var t=Bridge.fn.makeFn(function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift.apply(t,[e]),Bridge.caller.unshift(this),t=n.apply(e,t),Bridge.caller.shift(this),t},n.length);return t.$method=n,t.$scope=e,t.equals=Bridge.fn.equals,t},$build:function(t){function r(){for(var t=r.$invocationList,e=null,n=0;n<t.length;n++)e=t[n].apply(null,arguments);return e}return 0===(r.$invocationList=t?Array.prototype.slice.call(t,0):[]).length?null:r},combine:function(t,e){if(!t||!e)return t||e;t=t.$invocationList||[t],e=e.$invocationList||[e];return Bridge.fn.$build(t.concat(e))},getInvocationList:function(){},remove:function(t,e){if(!t||!e)return t||null;for(var n,r,i=t.$invocationList||[t],o=e.$invocationList||[e],s=[],a=i.length-1;0<=a;a--){for(n=!1,r=0;r<o.length;r++)if(i[a]===o[r]||i[a].$method&&i[a].$method===o[r].$method&&i[a].$scope&&i[a].$scope===o[r].$scope){n=!0;break}n||s.push(i[a])}return s.reverse(),Bridge.fn.$build(s)}},sleep:function(t,e){if(Bridge.hasValue(e)&&(t=e.getTotalMilliseconds()),isNaN(t)||t<-1||2147483647<t)throw new System.ArgumentOutOfRangeException("timeout","Number must be either non-negative and less than or equal to Int32.MaxValue or -1");-1==t&&(t=2147483647);for(var n=(new Date).getTime();(new Date).getTime()-n<t&&!(2147483647<(new Date).getTime()-n););},getMetadata:function(t){return t.$getMetadata?t.$getMetadata():t.$metadata}};t.Bridge=e,t.Bridge.caller=[],t.System={},t.System.Diagnostics={},t.System.Diagnostics.Contracts={},t.System.Threading={},System.String={is:function(t,e){return!!Bridge.isString(t)&&(t.constructor===e||t instanceof e||(e===System.ICloneable||e===System.Collections.IEnumerable||e===System.Collections.Generic.IEnumerable$1(System.Char)||e===System.IComparable$1(String)||e===System.IEquatable$1(String)))},lastIndexOf:function(t,e,n,r){e=t.lastIndexOf(e,n);return e<n-r+1?-1:e},lastIndexOfAny:function(t,e,n,r){var i,o,s=t.length;if(!s)return-1;for(e=String.fromCharCode.apply(null,e),(i=(n=n||s-1)-(r=r||s)+1)<0&&(i=0),o=n;i<=o;o--)if(0<=e.indexOf(t.charAt(o)))return o;return-1},isNullOrWhiteSpace:function(t){return!t||System.Char.isWhiteSpace(t)},isNullOrEmpty:function(t){return!t},fromCharCount:function(t,e){if(0<=e)return String(Array(e+1).join(String.fromCharCode(t)));throw new System.ArgumentOutOfRangeException("count","cannot be less than zero")},format:function(t){return System.String._format(System.Globalization.CultureInfo.getCurrentCulture(),t,Array.prototype.slice.call(arguments,1))},formatProvider:function(t,e){return System.String._format(t,e,Array.prototype.slice.call(arguments,2))},_format:function(l,t,e){var c=this,g=e,h=this.decodeBraceSequence;return t.replace(/(\{+)((\d+|[a-zA-Z_$]\w+(?:\.[a-zA-Z_$]\w+|\[\d+\])*)(?:\,(-?\d*))?(?:\:([^\}]*))?)(\}+)|(\{+)|(\}+)/g,function(t,e,n,r,i,o,s,a,u){return a?h(a):u?h(u):e.length%2==0||s.length%2==0?h(e)+n+h(s):h(e,!0)+c.handleElement(l,r,i,o,g)+h(s,!0)})},handleElement:function(t,e,n,r,i){if((e=parseInt(e,10))>i.length-1)throw new System.FormatException("Input string was not in a correct format.");return null==(e=i[e])&&(e=""),e=r&&Bridge.is(e,System.IFormattable)?Bridge.format(e,r,t):""+e,n&&(n=parseInt(n,10),Bridge.isNumber(n)||(n=null)),System.String.alignString(e.toString(),n)},decodeBraceSequence:function(t,e){return t.substr(0,(t.length+(e?0:1))/2)},alignString:function(t,e,n,r,i){if(!t||!e)return t;if(n=n||" ",Bridge.isNumber(n)&&(n=String.fromCharCode(n)),r=r||(e<0?1:2),(e=Math.abs(e))+1>=(t=i&&t.length>e?t.substring(0,e):t).length)switch(r){case 2:t=Array(e+1-t.length).join(n)+t;break;case 3:var o=e-t.length,s=Math.ceil(o/2);t=Array(1+(o-s)).join(n)+t+Array(s+1).join(n);break;default:t+=Array(e+1-t.length).join(n)}return t},startsWith:function(t,e){return!e.length||!(e.length>t.length)&&(e=System.String.escape(e),null!==t.match("^"+e))},endsWith:function(t,e){return!e.length||!(e.length>t.length)&&(e=System.String.escape(e),null!==t.match(e+"$"))},contains:function(t,e){if(null==e)throw new System.ArgumentNullException;return null!=t&&-1<t.indexOf(e)},indexOfAny:function(t,e){var n,r,i,o,s;if(null==e)throw new System.ArgumentNullException;if(null==t||""===t)return-1;if((n=2<arguments.length?arguments[2]:0)<0)throw new System.ArgumentOutOfRangeException("startIndex","startIndex cannot be less than zero");if((r=3<arguments.length?arguments[3]:t.length-n)<0)throw new System.ArgumentOutOfRangeException("length","must be non-negative");if(r>t.length-n)throw new System.ArgumentOutOfRangeException("Index and length must refer to a location within the string");for(i=t.substr(n,r),o=0;o<e.length;o++)if(s=String.fromCharCode(e[o]),-1<(s=i.indexOf(s)))return s+n;return-1},indexOf:function(t,e){var n,r;if(null==e)throw new System.ArgumentNullException;if(null==t||""===t)return-1;if((n=2<arguments.length?arguments[2]:0)<0||n>t.length)throw new System.ArgumentOutOfRangeException("startIndex","startIndex cannot be less than zero and must refer to a location within the string");if(""===e)return 2<arguments.length?n:0;if((r=3<arguments.length?arguments[3]:t.length-n)<0)throw new System.ArgumentOutOfRangeException("length","must be non-negative");if(r>t.length-n)throw new System.ArgumentOutOfRangeException("Index and length must refer to a location within the string");return t=t.substr(n,r),-1<(r=5===arguments.length&&arguments[4]%2!=0?t.toLocaleUpperCase().indexOf(e.toLocaleUpperCase()):t.indexOf(e))&&(5!==arguments.length||0===System.String.compare(e,t.substr(r,e.length),arguments[4]))?r+n:-1},equals:function(){return 0===System.String.compare.apply(this,arguments)},compare:function(t,e){if(null==t)return null==e?0:-1;if(null==e)return 1;if(3<=arguments.length)if(Bridge.isBoolean(arguments[2])){if(arguments[2]&&(t=t.toLocaleUpperCase(),e=e.toLocaleUpperCase()),4===arguments.length)return t.localeCompare(e,arguments[3].name)}else switch(arguments[2]){case 1:return t.localeCompare(e,System.Globalization.CultureInfo.getCurrentCulture().name,{sensitivity:"accent"});case 2:return t.localeCompare(e,System.Globalization.CultureInfo.invariantCulture.name);case 3:return t.localeCompare(e,System.Globalization.CultureInfo.invariantCulture.name,{sensitivity:"accent"});case 4:return t===e?0:e<t?1:-1;case 5:return t.toUpperCase()===e.toUpperCase()?0:t.toUpperCase()>e.toUpperCase()?1:-1}return t.localeCompare(e)},toCharArray:function(t,e,n){var r,i;if(e<0||e>t.length||e>t.length-n)throw new System.ArgumentOutOfRangeException("startIndex","startIndex cannot be less than zero and must refer to a location within the string");if(n<0)throw new System.ArgumentOutOfRangeException("length","must be non-negative");for(Bridge.hasValue(e)||(e=0),Bridge.hasValue(n)||(n=t.length),r=[],i=e;i<e+n;i++)r.push(t.charCodeAt(i));return r},escape:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},replaceAll:function(t,e,n){e=new RegExp(System.String.escape(e),"g");return t.replace(e,n)},insert:function(t,e,n){return 0<t?e.substring(0,t)+n+e.substring(t,e.length):n+e},remove:function(t,e,n){if(null==t)throw new System.NullReferenceException;if(e<0)throw new System.ArgumentOutOfRangeException("startIndex","StartIndex cannot be less than zero");if(null!=n){if(n<0)throw new System.ArgumentOutOfRangeException("count","Count cannot be less than zero");if(n>t.length-e)throw new System.ArgumentOutOfRangeException("count","Index and count must refer to a location within the string")}else if(e>=t.length)throw new System.ArgumentOutOfRangeException("startIndex","startIndex must be less than length of string");return null==n||e+n>t.length?t.substr(0,e):t.substr(0,e)+t.substr(e+n)},split:function(t,e,n,r){for(var i,o=Bridge.hasValue(e)&&0!==e.length?new RegExp(e.map(System.String.escape).join("|"),"g"):new RegExp("\\s","g"),s=[],a=0;;a=o.lastIndex){if(!(i=o.exec(t)))return 1===r&&a===t.length||s.push(t.substr(a)),s;if(1!==r||i.index>a){if(s.length===n-1)return s.push(t.substr(a)),s;s.push(t.substring(a,i.index))}}},trimEnd:function(t,e){return t.replace(e?new RegExp("["+System.String.escape(String.fromCharCode.apply(null,e))+"]+$"):/\s*$/,"")},trimStart:function(t,e){return t.replace(e?new RegExp("^["+System.String.escape(String.fromCharCode.apply(null,e))+"]+"):/^\s*/,"")},trim:function(t,e){return System.String.trimStart(System.String.trimEnd(t,e),e)},concat:function(){for(var t,e="",n=0;n<arguments.length;n++)e+=null==(t=arguments[n])?"":t;return e}},m={nameEquals:function(t,e,n){return n?t.toLowerCase()===e.toLowerCase():t.charAt(0).toLowerCase()+t.slice(1)===e.charAt(0).toLowerCase()+e.slice(1)},checkEnumType:function(t){if(!t)throw new System.ArgumentNullException("enumType");if(t.prototype&&"enum"!==t.$kind)throw new System.ArgumentException("","enumType")},toName:function(t){return t},parse:function(t,e,n,r){var i,o,s,a,u;if(System.Enum.checkEnumType(t),i={},System.Int32.tryParse(e,i))return i.v;if((o=t).prototype&&t.prototype.$flags){for(var l=e.split(","),c=0,g=!0,h=l.length-1;0<=h;h--){for(u in s=l[h].trim(),a=!1,o)if(m.nameEquals(u,s,n)){c|=o[u],a=!0;break}if(!a){g=!1;break}}if(g)return c}else for(u in o)if(m.nameEquals(u,e,n))return o[u];if(!0!==r)throw new System.ArgumentException("Invalid Enumeration Value");return null},toString:function(t,e,n){var r,i,o,s;if(t===Number)return e.toString();if(System.Enum.checkEnumType(t),r=t,i=System.Int64.is64Bit(e),(t.prototype&&t.prototype.$flags||!0===n)&&0!==e){for(s in o=[],r)(i&&System.Int64.is64Bit(r[s])?!r[s].and(e).isZero():r[s]&e)&&o.push(m.toName(s));return o.length?o.join(", "):e.toString()}for(s in r)if(i&&System.Int64.is64Bit(r[s])?r[s].eq(e):r[s]===e)return m.toName(s);return e.toString()},getValues:function(t){var e,n,r;for(r in System.Enum.checkEnumType(t),e=[],n=t)n.hasOwnProperty(r)&&r.indexOf("$")<0&&"function"!=typeof n[r]&&e.push(n[r]);return e},format:function(t,e,n){var r;if(System.Enum.checkEnumType(t),Bridge.hasValue(e)?!Bridge.hasValue(n)&&(r="format"):r="value")throw new System.ArgumentNullException(r);switch(n){case"G":case"g":return System.Enum.toString(t,e);case"x":case"X":return e.toString(16);case"d":case"D":return e.toString();case"f":case"F":return System.Enum.toString(t,e,!0);default:throw new System.FormatException}},getNames:function(t){var e,n,r;for(r in System.Enum.checkEnumType(t),e=[],n=t)n.hasOwnProperty(r)&&r.indexOf("$")<0&&"function"!=typeof n[r]&&e.push(m.toName(r));return e},getName:function(t,e){var n,r;for(r in System.Enum.checkEnumType(t),n=t)if(n[r]===e)return r.charAt(0).toUpperCase()+r.slice(1);return null},hasFlag:function(t,e){return!!(t&e)},isDefined:function(t,e){var n,r,i;for(i in System.Enum.checkEnumType(t),n=t,r=Bridge.isString(e),n)if(r?m.nameEquals(i,e,!1):n[i]===e)return!0;return!1},tryParse:function(t,e,n,r){return n.v=0,n.v=m.parse(t,e,r,!0),null!=n.v}},System.Enum=m;function n(t){return t.test(navigator.userAgent.toLowerCase())}function r(t,e){var n;return t&&(n=e.exec(navigator.userAgent.toLowerCase()))?parseFloat(n[1]):0}var i,o=Bridge.global.document&&"CSS1Compat"===Bridge.global.document.compatMode,u=Bridge.global.document?Bridge.global.document.documentMode:null,l=n(/opera/),c=l&&n(/version\/10\.5/),g=n(/\bchrome\b/),h=n(/webkit/),f=!g&&n(/safari/),d=f&&n(/applewebkit\/4/),p=f&&n(/version\/3/),S=f&&n(/version\/4/),C=f&&n(/version\/5\.0/),x=f&&n(/version\/5/),w=!l&&(n(/msie/)||n(/trident/)),v=w&&(n(/msie 7/)&&8!==u&&9!==u&&10!==u||7===u),b=w&&(n(/msie 8/)&&7!==u&&9!==u&&10!==u||8===u),B=w&&(n(/msie 9/)&&7!==u&&8!==u&&10!==u||9===u),I=w&&(n(/msie 10/)&&7!==u&&8!==u&&9!==u||10===u),$=w&&(n(/trident\/7\.0/)&&7!==u&&8!==u&&9!==u&&10!==u||11===u),_=w&&n(/msie 6/),E=!h&&!w&&n(/gecko/),O=E&&n(/rv:1\.9/),A=E&&n(/rv:2\.0/),T=E&&n(/rv:5\./),L=E&&n(/rv:10\./),R=O&&n(/rv:1\.9\.0/),N=O&&n(/rv:1\.9\.1/),k=O&&n(/rv:1\.9\.2/),D=n(/windows|win32/),P=n(/macintosh|mac os x/),M=n(/linux/),G=r(!0,/\bchrome\/(\d+\.\d+)/),V=r(!0,/\bfirefox\/(\d+\.\d+)/),F=r(w,/msie (\d+\.\d+)/),z=r(l,/version\/(\d+\.\d+)/),q=r(f,/version\/(\d+\.\d+)/),H=r(h,/webkit\/(\d+\.\d+)/),U=!!Bridge.global.location&&/^https/i.test(Bridge.global.location.protocol),j=/iPhone/i.test(navigator.platform),W=/iPod/i.test(navigator.platform),Z=/iPad/i.test(navigator.userAgent),e=/Blackberry/i.test(navigator.userAgent),t=/Android/i.test(navigator.userAgent),u=P||D||M&&!t,W={isStrict:o,isIEQuirks:w&&!o&&(_||v||b||B),isOpera:l,isOpera10_5:c,isWebKit:h,isChrome:g,isSafari:f,isSafari3:p,isSafari4:S,isSafari5:x,isSafari5_0:C,isSafari2:d,isIE:w,isIE6:_,isIE7:v,isIE7m:_||v,isIE7p:w&&!_,isIE8:b,isIE8m:_||v||b,isIE8p:w&&!(_||v),isIE9:B,isIE9m:_||v||b||B,isIE9p:w&&!(_||v||b),isIE10:I,isIE10m:_||v||b||B||I,isIE10p:w&&!(_||v||b||B),isIE11:$,isIE11m:_||v||b||B||I||$,isIE11p:w&&!(_||v||b||B||I),isGecko:E,isGecko3:O,isGecko4:A,isGecko5:T,isGecko10:L,isFF3_0:R,isFF3_5:N,isFF3_6:k,isFF4:4<=V&&V<5,isFF5:5<=V&&V<6,isFF10:10<=V&&V<11,isLinux:M,isWindows:D,isMac:P,chromeVersion:G,firefoxVersion:V,ieVersion:F,operaVersion:z,safariVersion:q,webKitVersion:H,isSecure:U,isiPhone:j,isiPod:W,isiPad:Z,isBlackberry:e,isAndroid:t,isDesktop:u,isTablet:Z,isPhone:!u&&!Z,iOS:j||Z||W,standalone:!!Bridge.global.navigator&&!!Bridge.global.navigator.standalone};function X(t,r,i,e){var o=Bridge.define(t,{inherits:[System.IComparable,System.IFormattable],statics:{$number:!0,min:r,max:i,precision:e,$is:function(t){return"number"==typeof t&&Math.floor(t,0)===t&&r<=t&&t<=i},getDefaultValue:function(){return 0},parse:function(t,e){return Bridge.Int.parseInt(t,r,i,e)},tryParse:function(t,e,n){return Bridge.Int.tryParseInt(t,e,r,i,n)},format:function(t,e,n){return Bridge.Int.format(t,e,n,o)}}});o.$kind="",Bridge.Class.addExtend(o,[System.IComparable$1(o),System.IEquatable$1(o)])}Bridge.Browser=W,Bridge.Class={_initialize:function(){this.$initialized||(this.$initialized=Bridge.emptyFn,this.$staticInit&&this.$staticInit(),this.$initMembers&&this.$initMembers())},initConfig:function(t,e,n,r,i,o){var s,a,u,l;if(n.fields)for(a in n.fields)i[a]=n.fields[a];if(n.properties)for(a in n.properties)Bridge.property(i,a,n.properties[a],r);if(n.events)for(a in n.events)Bridge.event(i,a,n.events[a],r);if(n.alias)for(u=0;u<n.alias.length;u++)void 0===(l=i[n.alias[u]])&&o&&(l=o[n.alias[u]]),i[n.alias[u+1]]=l,u++;((s=n.init?n.init:s)||t&&!r&&e.$initMembers)&&(i.$initMembers=function(){t&&!r&&e.$initMembers&&e.$initMembers.call(this),s&&s.call(this)})},definei:function(t,e,n){!0!==n&&n||!e?n?n.$kind="interface":e={$kind:"interface"}:e.$kind="interface";n=Bridge.define(t,e,n);return n.$kind="interface",n.$isInterface=!0,n},define:function(n,t,r,e){var i,o,s,a,u,l,c,g,h,m,f,d=!1;if(!0===r?(d=!0,r=t,t=Bridge.global):r||(r=t,t=Bridge.global),Bridge.isFunction(r))return(i=function(){var t,e=Bridge.Class.getCachedType(i,arguments);return e?e.type:(t=Array.prototype.slice.call(arguments),e=r.apply(null,t),t=Bridge.define(Bridge.Class.genericName(n,t),e,!0,{fn:i,args:t}),Bridge.Class.staticInitAllow||Bridge.Class.$queue.push(t),Bridge.get(t))}).$cache=[],Bridge.Class.generic(n,t,i,r.length);d||(Bridge.Class.staticInitAllow=!1);var y,p,S,C,x,w,v,b=(r=r||{}).$inherits||r.inherits,B=r.$statics||r.statics,I=r.$entryPoint,$=r.$scope||t||Bridge.global;if(r.$kind=r.$kind||"class",r.$inherits?delete r.$inherits:delete r.inherits,I&&delete r.$entryPoint,Bridge.isFunction(B)?B=null:r.$statics?delete r.$statics:delete r.statics,(t=r.hasOwnProperty("ctor")&&r.ctor)?o=t:(o=r.$literal?function(t){return(t=t||{}).$getType=function(){return o},t}:function(){this.$initialize(),o.$base&&(o.$$inherits&&0<o.$$inherits.length&&o.$$inherits[0].$staticInit&&o.$$inherits[0].$staticInit(),o.$base.ctor.call(this))},r.ctor=o),r.$literal&&(B&&B.getDefaultValue||(o.getDefaultValue=function(){var t={$getType:function(){return o}};return t}),o.$literal=!0,delete r.$literal),d||($=Bridge.Class.set($,n,o)),e&&e.fn.$cache.push({type:o,args:e.args}),o.$$name=n,o.$kind=r.$kind,e&&d){for(o.$genericTypeDefinition=e.fn,o.$typeArguments=e.args,o.$assembly=e.fn.$assembly||Bridge.$currentAssembly,s=Bridge.Reflection.getTypeFullName(e.fn),S=0;S<e.args.length;S++)s+=(0===S?"[":",")+"["+Bridge.Reflection.getTypeQName(e.args[S])+"]";o.$$fullname=s+="]"}else o.$$fullname=o.$$name;if(a=[],u=[],b=b&&Bridge.isFunction(b)?b():b)for(l=0;l<b.length;l++){if(0<(g=((c=b[l]).$interfaces||[]).concat(c.$baseInterfaces||[])).length)for(h=0;h<g.length;h++)u.indexOf(g[h])<0&&u.push(g[h]);"interface"===c.$kind&&a.push(c)}for(v in o.$baseInterfaces=u,o.$interfaces=a,o.$allInterfaces=a.concat(u),t=!b||"interface"===b[0].$kind,y=((b=t?null:b)?b[0]:this).prototype,o.$base=y,p=b?new(b[0].$$initCtor||b[0]):{},o.$$initCtor=function(){},o.$$initCtor.prototype=p,(o.$$initCtor.prototype.constructor=o).$$initCtor.prototype.$$fullname=e&&d?o.$$fullname:o.$$name,B&&((m=B.$config||B.config)&&!Bridge.isFunction(m)&&(Bridge.Class.initConfig(b,y,m,!0,o),B.$config?delete B.$config:delete B.config)),(m=r.$config||r.config)&&!Bridge.isFunction(m)?(Bridge.Class.initConfig(b,y,m,!1,r,p),r.$config?delete r.$config:delete r.config):b&&y.$initMembers&&(r.$initMembers=function(){y.$initMembers.call(this)}),r.$initialize=Bridge.Class._initialize,f=[],r)f.push(v);for(S=0;S<f.length;S++)v=f[S],C=r[v],x="ctor"===v,w=v,(x=Bridge.isFunction(C)&&(x||null!==v.match("^\\$ctor"))?!0:x)&&(o[w]=r[v],o[w].prototype=p,o[w].prototype.constructor=o),p[w]=r[v];if(p.$$name=n,B)for(v in B)"ctor"===v?o.$ctor=B[v]:o[v]=B[v];for(b=b||[Object].concat(a),o.$$inherits=b,S=0;S<b.length;S++)($=b[S]).$$inheritors||($.$$inheritors=[]),$.$$inheritors.push(o);return i=function(){Bridge.Class.staticInitAllow&&(o.$staticInit=null,o.$initMembers&&o.$initMembers(),o.$ctor&&o.$ctor())},(I||Bridge.isFunction(p.$main))&&Bridge.Class.$queueEntry.push(o),o.$staticInit=i,d||Bridge.Class.registerType(n,o),Bridge.Reflection&&(o.$getMetadata=Bridge.Reflection.getMetadata),"enum"===o.$kind&&(o.$is=function(t){var e=o.prototype.$utype;return e===System.String?"string"==typeof t:e&&e.$is?e.$is(t):"number"==typeof t},o.getDefaultValue=function(){return o.prototype.$utype===System.String?null:0}),"interface"===o.$kind&&(o.prototype.$variance&&(o.isAssignableFrom=Bridge.Class.varianceAssignable),o.$isInterface=!0),o},varianceAssignable:function(t){function e(t,e){var n;if(e.$genericTypeDefinition===t.$genericTypeDefinition&&e.$typeArguments.length===t.$typeArguments.length){for(n=0;n<t.$typeArguments.length;n++){var r=t.prototype.$variance[n],i=t.$typeArguments[n],o=e.$typeArguments[n];switch(r){case 1:if(!Bridge.Reflection.isAssignableFrom(i,o))return;break;case 2:if(!Bridge.Reflection.isAssignableFrom(o,i))return;break;default:if(o!==i)return}}return 1}}var n,r;if("interface"===t.$kind&&e(this,t))return!0;for(n=Bridge.Reflection.getInterfaces(t),r=0;r<n.length;r++)if(n[r]===this||e(this,n[r]))return!0;return!1},registerType:function(t,e){Bridge.$currentAssembly&&((Bridge.$currentAssembly.$types[t]=e).$assembly=Bridge.$currentAssembly)},addExtend:function(t,e){var n,r,i,o;for(Array.prototype.push.apply(t.$$inherits,e),t.$interfaces=t.$interfaces||[],t.$baseInterfaces=t.$baseInterfaces||[],n=0;n<e.length;n++){if((r=e[n]).$$inheritors||(r.$$inheritors=[]),r.$$inheritors.push(t),0<(i=(r.$interfaces||[]).concat(r.$baseInterfaces||[])).length)for(o=0;o<i.length;o++)t.$baseInterfaces.indexOf(i[o])<0&&t.$baseInterfaces.push(i[o]);"interface"===r.$kind&&t.$interfaces.push(r)}t.$allInterfaces=t.$interfaces.concat(t.$baseInterfaces)},set:function(t,e,n,r){for(var i,o,s,a,u,l,c,g=e.split("."),h=0;h<g.length-1;h++)void 0===t[g[h]]&&(t[g[h]]={}),t=t[g[h]];if(s=t[i=g[g.length-1]]){if(s.$$name===e)throw"Class '"+e+"' is already defined";for(o in s)a=s[o],"function"==typeof a&&a.$$name&&function(t,e,n){Object.defineProperty(t,e,{get:function(){return Bridge.Class.staticInitAllow&&(n.$staticInit&&n.$staticInit(),Bridge.Class.defineProperty(t,e,n)),n},set:function(t){n=t},enumerable:!0,configurable:!0})}(n,o,a)}return!0!==r?(u=t,l=i,c=n,Object.defineProperty(u,l,{get:function(){return Bridge.Class.staticInitAllow&&(c.$staticInit&&c.$staticInit(),Bridge.Class.defineProperty(u,l,c)),c},set:function(t){c=t},enumerable:!0,configurable:!0})):t[i]=n,t},defineProperty:function(t,e,n){Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0})},genericName:function(t,e){for(var n,r=t,i=0;i<e.length;i++)r+="$"+((n=e[i]).$$name||Bridge.getTypeName(n));return r},getCachedType:function(t,e){for(var n,r,i,o=t.$cache,s=o.length,a=0;a<s;a++)if((n=o[a]).args.length===e.length){for(r=!0,i=0;i<n.args.length;i++)if(n.args[i]!==e[i]){r=!1;break}if(r)return n}return null},generic:function(t,e,n,r){return n.$$name=t,n.$kind="class",Bridge.Class.set(e,t,n,!0),Bridge.Class.registerType(t,n),n.$typeArgumentCount=r,n.$isGenericTypeDefinition=!0,n.$getMetadata=Bridge.Reflection.getMetadata,n},init:function(t){var e,n,r;for(Bridge.Class.staticInitAllow=!0,e=Bridge.Class.$queue.concat(Bridge.Class.$queueEntry),n=0;n<e.length;n++)(r=e[n]).$staticInit&&r.$staticInit(),r.prototype.$main&&Bridge.ready(r.prototype.$main);Bridge.Class.$queue.length=0,Bridge.Class.$queueEntry.length=0,t&&t()}},Bridge.Class.$queue=[],Bridge.Class.$queueEntry=[],Bridge.define=Bridge.Class.define,Bridge.definei=Bridge.Class.definei,Bridge.init=Bridge.Class.init,Bridge.assembly=function(t,e,n){n||(n=e,e={}),t=t||"Bridge.$Unknown";var r=System.Reflection.Assembly.assemblies[t];r?Bridge.apply(r.res,e||{}):r=new System.Reflection.Assembly(t,e),Bridge.$currentAssembly=r,n&&n.call(Bridge.global,r,Bridge.global),Bridge.init()},Bridge.define("System.Reflection.Assembly",{statics:{assemblies:{}},ctor:function(t,e){this.$initialize(),this.name=t,this.res=e||{},this.$types={},this.$={},System.Reflection.Assembly.assemblies[t]=this},toString:function(){return this.name},getManifestResourceNames:function(){return Object.keys(this.res)},getManifestResourceDataAsBase64:function(t,e){return 1===arguments.length&&(e=t,t=null),t&&(e=Bridge.Reflection.getTypeNamespace(t)+"."+e),this.res[e]||null},getManifestResourceData:function(t,e){1===arguments.length&&(e=t,t=null),t&&(e=Bridge.Reflection.getTypeNamespace(t)+"."+e);e=this.res[e];return e?System.Convert.fromBase64String(e):null},getCustomAttributes:function(e){return e&&!Bridge.isBoolean(e)?this.attr.filter(function(t){return Bridge.is(t,e)}):this.attr}}),Bridge.$currentAssembly=new System.Reflection.Assembly("mscorlib"),Bridge.SystemAssembly=Bridge.$currentAssembly,Bridge.SystemAssembly.$types["System.Reflection.Assembly"]=System.Reflection.Assembly,System.Reflection.Assembly.$assembly=Bridge.SystemAssembly,s=Bridge.$currentAssembly,Bridge.SystemAssembly.version="15.6.0",Bridge.SystemAssembly.compiler="15.6.0",Bridge.define("Bridge.Utils.SystemAssemblyVersion"),Bridge.Reflection={setMetadata:function(t,e){t.$getMetadata=Bridge.Reflection.getMetadata,t.$metadata=e},initMetaData:function(t,e){var n,r;if(e.m)for(n=0;n<e.m.length;n++)(r=e.m[n]).td=t,r.ad&&(r.ad.td=t),r.r&&(r.r.td=t),r.g&&(r.g.td=t),r.s&&(r.s.td=t);t.$metadata=e,t.$initMetaData=!0},getMetadata:function(){var t,e,n,r;if(!this.$metadata&&this.$genericTypeDefinition&&(this.$metadata=this.$genericTypeDefinition.$factoryMetadata||this.$genericTypeDefinition.$metadata),"function"==typeof(t=this.$metadata))if(this.$isGenericTypeDefinition){for(n=this.$typeArgumentCount,r=new Array(n),e=0;e<n;e++)r[e]=Object;this.$factoryMetadata=this.$metadata,t=this.$metadata.apply(null,r)}else t=this.$typeArguments?this.$metadata.apply(null,this.$typeArguments):this.$metadata();return!this.$initMetaData&&t&&Bridge.Reflection.initMetaData(this,t),t},load:function(t){return System.Reflection.Assembly.assemblies[t]||require(t)},getGenericTypeDefinition:function(t){if(t.$isGenericTypeDefinition)return t;if(!t.$genericTypeDefinition)throw new System.InvalidOperationException("This operation is only valid on generic types.");return t.$genericTypeDefinition},getGenericParameterCount:function(t){return t.$typeArgumentCount||0},getGenericArguments:function(t){return t.$typeArguments||null},isGenericTypeDefinition:function(t){return t.$isGenericTypeDefinition||!1},getBaseType:function(t){var e;if(t===Object||"interface"===t.$kind||null==t.prototype)return null;if(Object.getPrototypeOf)return Object.getPrototypeOf(t.prototype).constructor;if(t=t.prototype,Object.prototype.hasOwnProperty.call(t,"constructor"))try{return e=t.constructor,delete t.constructor,t.constructor}finally{t.constructor=e}return t.constructor},getTypeFullName:function(t){return t.$$fullname||t.$$name||(t=(t.constructor===Function?t:t.constructor).toString(),(t=/function (.{1,})\(/.exec(t))&&1<t.length?t[1]:"Object")},_makeQName:function(t,e){return t+(e?", "+e.name:"")},getTypeQName:function(t){return Bridge.Reflection._makeQName(Bridge.Reflection.getTypeFullName(t),t.$assembly)},getTypeName:function(t){var e=Bridge.Reflection.getTypeFullName(t),t=e.indexOf("["),t=e.lastIndexOf(".",0<=t?t:e.length);return 0<t?e.substr(t+1):e},getTypeNamespace:function(t){var e=Bridge.Reflection.getTypeFullName(t),n=e.indexOf("["),n=e.lastIndexOf(".",0<=n?n:e.length),n=0<n?e.substr(0,n):"";return t.$assembly&&((t=Bridge.Reflection._getAssemblyType(t.$assembly,n))&&(n=Bridge.Reflection.getTypeNamespace(t))),n},getTypeAssembly:function(t){return!System.Array.contains([Date,Number,Boolean,String,Function,Array],t)&&t.$assembly||Bridge.SystemAssembly},_getAssemblyType:function(t,e){var n,r,i,o,s=!1;if(t||(t=Bridge.SystemAssembly,s=!0),t.$types){if(n=t.$types[e]||null)return n;if("mscorlib"!==t.name)return null;t=Bridge.global}for(r=e.split("."),i=t,o=0;o<r.length;o++)if(!(i=i[r[o]]))return null;return"function"!=typeof i||!s&&i.$assembly&&t.name!==i.$assembly.name?null:i},getAssemblyTypes:function(t){var e,r,i=[];if(t.$types)for(e in t.$types)t.$types.hasOwnProperty(e)&&i.push(t.$types[e]);else(r=function(t,e){for(var n in t)t.hasOwnProperty(n)&&r(t[n],n);"function"==typeof t&&Bridge.isUpper(e.charCodeAt(0))&&i.push(t)})(t,"");return i},createAssemblyInstance:function(t,e){t=Bridge.Reflection.getType(e,t);return t?Bridge.createInstance(t):null},getInterfaces:function(t){return t.$allInterfaces||(t===Date?[System.IComparable$1(Date),System.IEquatable$1(Date),System.IComparable,System.IFormattable]:t===Number?[System.IComparable$1(Bridge.Int),System.IEquatable$1(Bridge.Int),System.IComparable,System.IFormattable]:t===Boolean?[System.IComparable$1(Boolean),System.IEquatable$1(Boolean),System.IComparable]:t===String?[System.IComparable$1(String),System.IEquatable$1(String),System.IComparable,System.ICloneable,System.Collections.IEnumerable,System.Collections.Generic.IEnumerable$1(System.Char)]:t===Array||System.Array._typedArrays[Bridge.getTypeName(t)]?[System.Collections.IEnumerable,System.Collections.ICollection,System.ICloneable,System.Collections.Generic.IEnumerable$1(Object),System.Collections.Generic.ICollection$1(Object),System.Collections.Generic.IList$1(Object)]:[])},isInstanceOfType:function(t,e){return Bridge.is(t,e)},isAssignableFrom:function(t,e){if(null==t)throw new System.NullReferenceException;if(null==e)return!1;if(t===e||t===Object)return!0;if(Bridge.isFunction(t.isAssignableFrom))return t.isAssignableFrom(e);if(e===Array)return System.Array.is([],t);if(Bridge.Reflection.isInterface(t)&&System.Array.contains(Bridge.Reflection.getInterfaces(e),t))return!0;var n,r=e.$$inherits;if(r)for(n=0;n<r.length;n++)if(Bridge.Reflection.isAssignableFrom(t,r[n]))return!0;return!1},isClass:function(t){return"class"===t.$kind||t===Array||t===Function||t===RegExp||t===String||t===Error||t===Object},isEnum:function(t){return"enum"===t.$kind},isFlags:function(t){return!(!t.prototype||!t.prototype.$flags)},isInterface:function(t){return"interface"===t.$kind},_getType:function(t,e,n){var r,i,o=!n,s=(n=n||/[[,\]]/g).lastIndex,a=n.exec(t),u=[];if(a)switch(r=t.substring(s,a.index),a[0]){case"[":if("["!==t[a.index+1])return null;for(;;){if(n.exec(t),!(i=Bridge.Reflection._getType(t,Bridge.SystemAssembly,n)))return null;if(u.push(i),"]"===(a=n.exec(t))[0])break;if(","!==a[0])return null}if((a=n.exec(t))&&","===a[0]&&(n.exec(t),!(e=System.Reflection.Assembly.assemblies[(0<n.lastIndex?t.substring(a.index+1,n.lastIndex-1):t.substring(a.index+1)).trim()])))return null;break;case",":if(n.exec(t),!(e=System.Reflection.Assembly.assemblies[(0<n.lastIndex?t.substring(a.index+1,n.lastIndex-1):t.substring(a.index+1)).trim()]))return null}else r=t.substring(s);return o&&n.lastIndex?null:(i=Bridge.Reflection._getAssemblyType(e,r.trim()),(i=u.length?i.apply(null,u):i)&&i.$staticInit&&i.$staticInit(),i)},getType:function(t,e){return t?Bridge.Reflection._getType(t,e):null},canAcceptNull:function(t){return"struct"!==t.$kind&&t!==System.Decimal&&t!==System.Int64&&t!==System.UInt64&&t!==System.Double&&t!==System.Single&&t!==System.Byte&&t!==System.SByte&&t!==System.Int16&&t!==System.UInt16&&t!==System.Int32&&t!==System.UInt32&&t!==Bridge.Int&&t!==Boolean&&t!==Date&&t!==Number},applyConstructor:function(t,e){var n,r,i,o,s,a,u,l,c,g;if(!e||0===e.length)return new t;if(t.$$initCtor&&"anonymous"!==t.$kind){if(n=0,Bridge.getMetadata(t)){for(r=Bridge.Reflection.getMembers(t,1,28),o=0;o<r.length;o++)if((s=r[o]).p&&s.p.length===e.length){for(i=!0,a=0;a<s.p.length;a++)if(u=s.p[a],!Bridge.is(e[a],u)||null==e[a]&&!Bridge.Reflection.canAcceptNull(u)){i=!1;break}i&&(t=t[s.sn],n++)}}else if(Bridge.isFunction(t.ctor)&&t.ctor.length===e.length)t=t.ctor;else for(l="$ctor",c=1;Bridge.isFunction(t[l+c]);)t[l+c].length===e.length&&(t=t[l+c],n++),c++;if(1<n)throw new System.Exception("The ambiguous constructor call")}return(g=function(){t.apply(this,e)}).prototype=t.prototype,new g},getAttributes:function(t,e,n){var r,i,o,s,a,u,l,c=[];if(n&&(u=Bridge.Reflection.getBaseType(t)))for(o=Bridge.Reflection.getAttributes(u,e,!0),r=0;r<o.length;r++)i=Bridge.getType(o[r]),(s=Bridge.getMetadata(i))&&s.ni||c.push(o[r]);if((a=Bridge.getMetadata(t))&&a.at)for(r=0;r<a.at.length;r++)if(o=a.at[r],null==e||Bridge.Reflection.isInstanceOfType(o,e)){if(i=Bridge.getType(o),!(s=Bridge.getMetadata(i))||!s.am)for(l=c.length-1;0<=l;l--)Bridge.Reflection.isInstanceOfType(c[l],i)&&c.splice(l,1);c.push(o)}return c},getMembers:function(t,n,r,i,o){var e,s,a,u,l,c,g,h,m,f=[];if(72!=(72&r)&&4!=(6&r)||(e=Bridge.Reflection.getBaseType(t))&&(f=Bridge.Reflection.getMembers(e,-2&n,r&(64&r?255:247)&(2&r?251:255),i,o)),s=function(t){if(n&t.t&&(4&r&&!t.is||8&r&&t.is)&&(!i||t.n===i)){if(o){if((t.p||[]).length!==o.length)return;for(var e=0;e<o.length;e++)if(o[e]!==t.p[e])return}f.push(t)}},(a=Bridge.getMetadata(t))&&a.m)for(u=["g","s","ad","r"],m=0;m<a.m.length;m++)for(s(l=a.m[m]),c=0;c<4;c++)l[g=u[c]]&&s(l[g]);if(256&r){for(;t;){for(h=[],m=0;m<f.length;m++)f[m].td===t&&h.push(f[m]);if(1<h.length)throw new System.Reflection.AmbiguousMatchException("Ambiguous match");if(1===h.length)return h[0];t=Bridge.Reflection.getBaseType(t)}return null}return f},midel:function(e,t,n){var r,i,o,s;if(e.is&&t)throw new System.ArgumentException("Cannot specify target for static method");if(!e.is&&!t)throw new System.ArgumentException("Must specify target for instance method");if(e.fg)r=function(){return(e.is?e.td:this)[e.fg]};else if(e.fs)r=function(t){(e.is?e.td:this)[e.fs]=t};else{if(r=e.def||(e.is||e.sm?e.td:t)[e.sn],e.tpc){if(!n||n.length!==e.tpc)throw new System.ArgumentException("Wrong number of type arguments");i=r,r=function(){return i.apply(this,n.concat(Array.prototype.slice.call(arguments)))}}else if(n&&n.length)throw new System.ArgumentException("Cannot specify type arguments for non-generic method");e.exp&&(o=r,r=function(){return o.apply(this,Array.prototype.slice.call(arguments,0,arguments.length-1).concat(arguments[arguments.length-1]))}),e.sm&&(s=r,r=function(){return s.apply(null,[this].concat(Array.prototype.slice.call(arguments)))})}return Bridge.fn.bind(t,r)},invokeCI:function(t,e){return t.exp&&(e=e.slice(0,e.length-1).concat(e[e.length-1])),t.def?t.def.apply(null,e):t.sm?t.td[t.sn].apply(null,e):Bridge.Reflection.applyConstructor(t.sn?t.td[t.sn]:t.td,e)},fieldAccess:function(t,e){if(t.is&&e)throw new System.ArgumentException("Cannot specify target for static field");if(!t.is&&!e)throw new System.ArgumentException("Must specify target for instance field");if(e=t.is?t.td:e,3!==arguments.length)return e[t.sn];e[t.sn]=arguments[2]}},Bridge.setMetadata=Bridge.Reflection.setMetadata,System.Reflection.ConstructorInfo={$is:function(t){return null!=t&&1===t.t}},System.Reflection.EventInfo={$is:function(t){return null!=t&&2===t.t}},System.Reflection.FieldInfo={$is:function(t){return null!=t&&4===t.t}},System.Reflection.MethodBase={$is:function(t){return null!=t&&(1===t.t||8===t.t)}},System.Reflection.MethodInfo={$is:function(t){return null!=t&&8===t.t}},System.Reflection.PropertyInfo={$is:function(t){return null!=t&&16===t.t}},System.AppDomain={getAssemblies:function(){return Object.keys(System.Reflection.Assembly.assemblies).map(function(t){return System.Reflection.Assembly.assemblies[t]})}},Bridge.define("System.IFormattable",{$kind:"interface",statics:{$is:function(t){return!(!Bridge.isNumber(t)&&!Bridge.isDate(t))||Bridge.is(t,System.IFormattable,!0)}}}),Bridge.define("System.IComparable",{$kind:"interface",statics:{$is:function(t){return!!(Bridge.isNumber(t)||Bridge.isDate(t)||Bridge.isBoolean(t)||Bridge.isString(t))||Bridge.is(t,System.IComparable,!0)}}}),Bridge.define("System.IFormatProvider",{$kind:"interface"}),Bridge.define("System.ICloneable",{$kind:"interface"}),Bridge.define("System.IComparable$1",function(e){return{$kind:"interface",statics:{$is:function(t){return!!(Bridge.isNumber(t)&&e.$number&&e.$is(t)||Bridge.isDate(t)&&e===Date||Bridge.isBoolean(t)&&e===Boolean||Bridge.isString(t)&&e===String)||Bridge.is(t,System.IComparable$1(e),!0)}}}}),Bridge.define("System.IEquatable$1",function(e){return{$kind:"interface",statics:{$is:function(t){return!!(Bridge.isNumber(t)&&e.$number&&e.$is(t)||Bridge.isDate(t)&&e===Date||Bridge.isBoolean(t)&&e===Boolean||Bridge.isString(t)&&e===String)||Bridge.is(t,System.IEquatable$1(e),!0)}}}}),Bridge.define("Bridge.IPromise",{$kind:"interface"}),Bridge.define("System.IDisposable",{$kind:"interface"}),W={hasValue:Bridge.hasValue,getValue:function(t){if(!Bridge.hasValue(t))throw new System.InvalidOperationException("Nullable instance doesn't have a value.");return t},getValueOrDefault:function(t,e){return Bridge.hasValue(t)?t:e},add:function(t,e){return Bridge.hasValue$1(t,e)?t+e:null},band:function(t,e){return Bridge.hasValue$1(t,e)?t&e:null},bor:function(t,e){return Bridge.hasValue$1(t,e)?t|e:null},and:function(t,e){return!0===t&&!0===e||!1!==t&&!1!==e&&null},or:function(t,e){return!0===t||!0===e||(!1!==t||!1!==e)&&null},div:function(t,e){return Bridge.hasValue$1(t,e)?t/e:null},eq:function(t,e){return Bridge.hasValue(t)?t===e:!Bridge.hasValue(e)},equals:function(t,e,n){return Bridge.hasValue(t)?n?n(t,e):Bridge.equals(t,e):!Bridge.hasValue(e)},toString:function(t,e){return Bridge.hasValue(t)?e?e(t):t.toString():""},getHashCode:function(t,e){return Bridge.hasValue(t)?e?e(t):Bridge.getHashCode(t):0},xor:function(t,e){return Bridge.hasValue$1(t,e)?t^e:null},gt:function(t,e){return Bridge.hasValue$1(t,e)&&e<t},gte:function(t,e){return Bridge.hasValue$1(t,e)&&e<=t},neq:function(t,e){return Bridge.hasValue(t)?t!==e:Bridge.hasValue(e)},lt:function(t,e){return Bridge.hasValue$1(t,e)&&t<e},lte:function(t,e){return Bridge.hasValue$1(t,e)&&t<=e},mod:function(t,e){return Bridge.hasValue$1(t,e)?t%e:null},mul:function(t,e){return Bridge.hasValue$1(t,e)?t*e:null},sl:function(t,e){return Bridge.hasValue$1(t,e)?t<<e:null},sr:function(t,e){return Bridge.hasValue$1(t,e)?t>>e:null},srr:function(t,e){return Bridge.hasValue$1(t,e)?t>>>e:null},sub:function(t,e){return Bridge.hasValue$1(t,e)?t-e:null},bnot:function(t){return Bridge.hasValue(t)?~t:null},neg:function(t){return Bridge.hasValue(t)?-t:null},not:function(t){return Bridge.hasValue(t)?!t:null},pos:function(t){return Bridge.hasValue(t)?+t:null},lift:function(){for(var t=1;t<arguments.length;t++)if(!Bridge.hasValue(arguments[t]))return null;return null==arguments[0]?null:null==arguments[0].apply?arguments[0]:arguments[0].apply(null,Array.prototype.slice.call(arguments,1))},lift1:function(t,e){return Bridge.hasValue(e)?"function"==typeof t?t.apply(null,Array.prototype.slice.call(arguments,1)):e[t].apply(e,Array.prototype.slice.call(arguments,2)):null},lift2:function(t,e,n){return Bridge.hasValue$1(e,n)?"function"==typeof t?t.apply(null,Array.prototype.slice.call(arguments,1)):e[t].apply(e,Array.prototype.slice.call(arguments,2)):null},liftcmp:function(t,e,n){return!!Bridge.hasValue$1(e,n)&&("function"==typeof t?t.apply(null,Array.prototype.slice.call(arguments,1)):e[t].apply(e,Array.prototype.slice.call(arguments,2)))},lifteq:function(t,e,n){var r=Bridge.hasValue(e),n=Bridge.hasValue(n);return!r&&!n||r&&n&&("function"==typeof t?t.apply(null,Array.prototype.slice.call(arguments,1)):e[t].apply(e,Array.prototype.slice.call(arguments,2)))},liftne:function(t,e,n){var r=Bridge.hasValue(e);return r!==Bridge.hasValue(n)||r&&("function"==typeof t?t.apply(null,Array.prototype.slice.call(arguments,1)):e[t].apply(e,Array.prototype.slice.call(arguments,2)))}},System.Nullable=W,Bridge.define("System.Nullable$1",function(e){return{$kind:"struct",statics:{getDefaultValue:function(){return null},$is:function(t){return Bridge.is(t,e)}}}}),Bridge.define("System.Char",{inherits:[System.IComparable,System.IFormattable],$kind:"struct",statics:{min:0,max:65535,$is:function(t){return"number"==typeof t&&Math.round(t,0)==t&&t>=System.Char.min&&t<=System.Char.max},getDefaultValue:function(){return 0},parse:function(t){if(!Bridge.hasValue(t))throw new System.ArgumentNullException("s");if(1!==t.length)throw new System.FormatException;return t.charCodeAt(0)},tryParse:function(t,e){var n=t&&1===t.length;return e.v=n?t.charCodeAt(0):0,n},format:function(t,e,n){return Bridge.Int.format(t,e,n)},charCodeAt:function(t,e){if(null==t)throw new System.ArgumentNullException;if(1!=t.length)throw new System.FormatException("String must be exactly one character long");return t.charCodeAt(e)},isWhiteSpace:function(t){return!/[^\s\x09-\x0D\x85\xA0]/.test(t)},isDigit:function(t){return t<256?48<=t&&t<=57:new RegExp("[0-90-9----------------------------------]").test(String.fromCharCode(t))},isLetter:function(t){return t<256?65<=t&&t<=90||97<=t&&t<=122:new RegExp("[A-Za-za-z-------------------------------------------A-Z------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]").test(String.fromCharCode(t))},isHighSurrogate:function(t){return new RegExp("[\ud800-\udbff]").test(String.fromCharCode(t))},isLowSurrogate:function(t){return new RegExp("[\udc00-\udfff]").test(String.fromCharCode(t))},isSurrogate:function(t){return new RegExp("[\ud800-\udfff]").test(String.fromCharCode(t))},isNull:function(t){return new RegExp("\0").test(String.fromCharCode(t))},isSymbol:function(t){return t<256?-1!=[36,43,60,61,62,94,96,124,126,162,163,164,165,166,167,168,169,172,174,175,176,177,180,182,184,215,247].indexOf(t):new RegExp("[-----------------]").test(String.fromCharCode(t))},isSeparator:function(t){return t<256?32==t||160==t:new RegExp("[\u2028\u2029 -]").test(String.fromCharCode(t))},isPunctuation:function(t){return t<256?-1!=[33,34,35,37,38,39,40,41,42,44,45,46,47,58,59,63,64,91,92,93,95,123,125,161,171,173,183,187,191].indexOf(t):new RegExp("[!-#%-*,-/:;?@[-]_{}--------------------------------------------------([{)]}_-!-#%-'*,./:;?@\\---------------------------------------------]").test(String.fromCharCode(t))},isNumber:function(t){return t<256?-1!=[48,49,50,51,52,53,54,55,56,57,178,179,185,188,189,190].indexOf(t):new RegExp("[0-9----------------------------------------------------------0-9--------------------------------------------------------------]").test(String.fromCharCode(t))},isControl:function(t){return t<256?0<=t&&t<=31||127<=t&&t<=159:new RegExp("[\0--]").test(String.fromCharCode(t))}}}),Bridge.Class.addExtend(System.Char,[System.IComparable$1(System.Char),System.IEquatable$1(System.Char)]),Bridge.define("System.FormattableString",{inherits:[System.IFormattable],statics:{invariant:function(t){return t.toString$1(System.Globalization.CultureInfo.invariantCulture)}},toString:function(){return this.toString$1(System.Globalization.CultureInfo.getCurrentCulture())},System$IFormattable$format:function(t,e){return this.toString$1(e)}}),Bridge.define("System.FormattableStringImpl",{inherits:[System.FormattableString],args:null,format:null,ctor:function(t,e){void 0===e&&(e=[]),this.$initialize(),System.FormattableString.ctor.call(this),this.format=t,this.args=e},getArgumentCount:function(){return this.args.length},getFormat:function(){return this.format},getArgument:function(t){return this.args[t]},getArguments:function(){return this.args},toString$1:function(t){return System.String.formatProvider.apply(System.String,[t,this.format].concat(this.args))}}),Bridge.define("System.Runtime.CompilerServices.FormattableStringFactory",{statics:{create:function(t,e){return void 0===e&&(e=[]),new System.FormattableStringImpl(t,e)}}}),Bridge.define("System.Exception",{ctor:function(t,e){this.$initialize(),this.message=t||"Exception of type '"+Bridge.getTypeName(this)+"' was thrown.",this.innerException=e||null,this.errorStack=new Error,this.data=new(System.Collections.Generic.Dictionary$2(Object,Object))},getMessage:function(){return this.message},getInnerException:function(){return this.innerException},getStackTrace:function(){return this.errorStack.stack},getData:function(){return this.data},toString:function(){return this.getMessage()},statics:{create:function(t){return Bridge.is(t,System.Exception)?t:t instanceof TypeError?new System.NullReferenceException(t.message,new Bridge.ErrorException(t)):t instanceof RangeError?new System.ArgumentOutOfRangeException(null,t.message,new Bridge.ErrorException(t)):t instanceof Error?new Bridge.ErrorException(t):new System.Exception(t?t.toString():null)}}}),Bridge.define("System.SystemException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"System error.",e)}}),Bridge.define("System.OutOfMemoryException",{inherits:[System.SystemException],ctor:function(t,e){this.$initialize(),t=t||"Insufficient memory to continue the execution of the program.",System.SystemException.ctor.call(this,t,e)}}),Bridge.define("System.IndexOutOfRangeException",{inherits:[System.SystemException],ctor:function(t,e){this.$initialize(),t=t||"Index was outside the bounds of the array.",System.SystemException.ctor.call(this,t,e)}}),Bridge.define("System.TimeoutException",{inherits:[System.SystemException],ctor:function(t,e){this.$initialize(),t=t||"The operation has timed out.",System.SystemException.ctor.call(this,t,e)}}),Bridge.define("System.RegexMatchTimeoutException",{inherits:[System.TimeoutException],_regexInput:"",_regexPattern:"",_matchTimeout:null,config:{init:function(){this._matchTimeout=System.TimeSpan.fromTicks(-1)}},ctor:function(){this.$initialize(),System.TimeoutException.ctor.call(this)},$ctor1:function(t){this.$initialize(),System.TimeoutException.ctor.call(this,t)},$ctor2:function(t,e){this.$initialize(),System.TimeoutException.ctor.call(this,t,e)},$ctor3:function(t,e,n){this.$initialize(),this._regexInput=t,this._regexPattern=e,this._matchTimeout=n,this.$ctor1("The RegEx engine has timed out while trying to match a pattern to an input string. This can occur for many reasons, including very large inputs or excessive backtracking caused by nested quantifiers, back-references and other factors.")},getPattern:function(){return this._regexPattern},getInput:function(){return this._regexInput},getMatchTimeout:function(){return this._matchTimeout}}),Bridge.define("Bridge.ErrorException",{inherits:[System.Exception],ctor:function(t){this.$initialize(),System.Exception.ctor.call(this,t.message),this.errorStack=t,this.error=t},getError:function(){return this.error}}),Bridge.define("System.ArgumentException",{inherits:[System.Exception],ctor:function(t,e,n){this.$initialize(),System.Exception.ctor.call(this,t||"Value does not fall within the expected range.",n),this.paramName=e||null},getParamName:function(){return this.paramName}}),Bridge.define("System.ArgumentNullException",{inherits:[System.ArgumentException],ctor:function(t,e,n){this.$initialize(),e||(e="Value cannot be null.",t&&(e+="\nParameter name: "+t)),System.ArgumentException.ctor.call(this,e,t,n)}}),Bridge.define("System.ArgumentOutOfRangeException",{inherits:[System.ArgumentException],ctor:function(t,e,n,r){this.$initialize(),e||(e="Value is out of range.",t&&(e+="\nParameter name: "+t)),System.ArgumentException.ctor.call(this,e,t,n),this.actualValue=r||null},getActualValue:function(){return this.actualValue}}),Bridge.define("System.Globalization.CultureNotFoundException",{inherits:[System.ArgumentException],ctor:function(t,e,n,r,i){this.$initialize(),n||(n="Culture is not supported.",t&&(n+="\nParameter name: "+t),e&&(n+="\n"+e+" is an invalid culture identifier.")),System.ArgumentException.ctor.call(this,n,t,r),this.invalidCultureName=e||null,this.invalidCultureId=i||null},getInvalidCultureName:function(){return this.invalidCultureName},getInvalidCultureId:function(){return this.invalidCultureId}}),Bridge.define("System.Collections.Generic.KeyNotFoundException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"Key not found.",e)}}),Bridge.define("System.ArithmeticException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"Overflow or underflow in the arithmetic operation.",e)}}),Bridge.define("System.DivideByZeroException",{inherits:[System.ArithmeticException],ctor:function(t,e){this.$initialize(),System.ArithmeticException.ctor.call(this,t||"Division by 0.",e)}}),Bridge.define("System.OverflowException",{inherits:[System.ArithmeticException],ctor:function(t,e){this.$initialize(),System.ArithmeticException.ctor.call(this,t||"Arithmetic operation resulted in an overflow.",e)}}),Bridge.define("System.FormatException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"Invalid format.",e)}}),Bridge.define("System.InvalidCastException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"The cast is not valid.",e)}}),Bridge.define("System.InvalidOperationException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"Operation is not valid due to the current state of the object.",e)}}),Bridge.define("System.NotImplementedException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"The method or operation is not implemented.",e)}}),Bridge.define("System.NotSupportedException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"Specified method is not supported.",e)}}),Bridge.define("System.NullReferenceException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"Object is null.",e)}}),Bridge.define("System.RankException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"Attempted to operate on an array with the incorrect number of dimensions.",e)}}),Bridge.define("Bridge.PromiseException",{inherits:[System.Exception],ctor:function(t,e,n){this.$initialize(),this.arguments=System.Array.clone(t),null==e&&(e="Promise exception: [",e+=this.arguments.map(function(t){return null==t?"null":t.toString()}).join(", "),e+="]"),System.Exception.ctor.call(this,e,n)},getArguments:function(){return this.arguments}}),Bridge.define("System.OperationCanceledException",{inherits:[System.Exception],ctor:function(t,e,n){this.$initialize(),System.Exception.ctor.call(this,t||"Operation was canceled.",n),this.cancellationToken=e||System.Threading.CancellationToken.none}}),Bridge.define("System.Threading.Tasks.TaskCanceledException",{inherits:[System.OperationCanceledException],ctor:function(t,e,n){this.$initialize(),System.OperationCanceledException.ctor.call(this,t||"A task was canceled.",null,n),this.task=e||null}}),Bridge.define("System.AggregateException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),this.innerExceptions=new(System.Collections.ObjectModel.ReadOnlyCollection$1(System.Exception))(Bridge.hasValue(e)?Bridge.toArray(e):[]),System.Exception.ctor.call(this,t||"One or more errors occurred.",this.innerExceptions.items.length?this.innerExceptions.items[0]:null)},handle:function(t){var e,n,r;if(!Bridge.hasValue(t))throw new System.ArgumentNullException("predicate");for(e=this.innerExceptions.getCount(),n=[],r=0;r<e;r++)t(this.innerExceptions.get(r))||n.push(this.innerExceptions.get(r));if(0<n.length)throw new System.AggregateException(this.getMessage(),n)},flatten:function(){var t,e,n,r,i,o=new(System.Collections.Generic.List$1(System.Exception)),s=new(System.Collections.Generic.List$1(System.AggregateException));for(s.add(this),t=0;s.getCount()>t;)for(e=s.getItem(t++).innerExceptions,n=0;n<e.getCount();n++)r=e.get(n),Bridge.hasValue(r)&&(i=Bridge.as(r,System.AggregateException),Bridge.hasValue(i)?s.add(i):o.add(r));return new System.AggregateException(this.getMessage(),o)}}),Bridge.define("System.Reflection.AmbiguousMatchException",{inherits:[System.Exception],ctor:function(t,e){this.$initialize(),System.Exception.ctor.call(this,t||"Ambiguous match.",e)}}),Bridge.define("System.Globalization.DateTimeFormatInfo",{inherits:[System.IFormatProvider,System.ICloneable],config:{alias:{getFormat:"System$IFormatProvider$getFormat"}},statics:{$allStandardFormats:{d:"shortDatePattern",D:"longDatePattern",f:"longDatePattern shortTimePattern",F:"longDatePattern longTimePattern",g:"shortDatePattern shortTimePattern",G:"shortDatePattern longTimePattern",m:"monthDayPattern",M:"monthDayPattern",o:"roundtripFormat",O:"roundtripFormat",r:"rfc1123",R:"rfc1123",s:"sortableDateTimePattern",S:"sortableDateTimePattern1",t:"shortTimePattern",T:"longTimePattern",u:"universalSortableDateTimePattern",U:"longDatePattern longTimePattern",y:"yearMonthPattern",Y:"yearMonthPattern"},ctor:function(){this.invariantInfo=Bridge.merge(new System.Globalization.DateTimeFormatInfo,{abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],abbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],amDesignator:"AM",dateSeparator:"/",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],firstDayOfWeek:0,fullDateTimePattern:"dddd, dd MMMM yyyy HH:mm:ss",longDatePattern:"dddd, dd MMMM yyyy",longTimePattern:"HH:mm:ss",monthDayPattern:"MMMM dd",monthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],pmDesignator:"PM",rfc1123:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",shortDatePattern:"MM/dd/yyyy",shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],shortTimePattern:"HH:mm",sortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",sortableDateTimePattern1:"yyyy'-'MM'-'dd",timeSeparator:":",universalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",yearMonthPattern:"yyyy MMMM",roundtripFormat:"yyyy'-'MM'-'dd'T'HH':'mm':'ss.uzzz"})}},getFormat:function(t){return t!==System.Globalization.DateTimeFormatInfo?null:this},getAbbreviatedDayName:function(t){if(t<0||6<t)throw new System.ArgumentOutOfRangeException("dayofweek");return this.abbreviatedDayNames[t]},getAbbreviatedMonthName:function(t){if(t<1||13<t)throw new System.ArgumentOutOfRangeException("month");return this.abbreviatedMonthNames[t-1]},getAllDateTimePatterns:function(t,e){var n,r,i,o,s=System.Globalization.DateTimeFormatInfo.$allStandardFormats,a=[];if(t){if(!s[t]){if(e)return null;throw new System.ArgumentException(null,"format")}(n={})[t]=s[t]}else n=s;for(s in n){for(r=n[s].split(" "),i="",o=0;o<r.length;o++)i=(0===o?"":i+" ")+this[r[o]];a.push(i)}return a},getDayName:function(t){if(t<0||6<t)throw new System.ArgumentOutOfRangeException("dayofweek");return this.dayNames[t]},getMonthName:function(t){if(t<1||13<t)throw new System.ArgumentOutOfRangeException("month");return this.monthNames[t-1]},getShortestDayName:function(t){if(t<0||6<t)throw new System.ArgumentOutOfRangeException("dayOfWeek");return this.shortestDayNames[t]},clone:function(){return Bridge.copy(new System.Globalization.DateTimeFormatInfo,this,["abbreviatedDayNames","abbreviatedMonthGenitiveNames","abbreviatedMonthNames","amDesignator","dateSeparator","dayNames","firstDayOfWeek","fullDateTimePattern","longDatePattern","longTimePattern","monthDayPattern","monthGenitiveNames","monthNames","pmDesignator","rfc1123","shortDatePattern","shortestDayNames","shortTimePattern","sortableDateTimePattern","timeSeparator","universalSortableDateTimePattern","yearMonthPattern","roundtripFormat"])}}),Bridge.define("System.Globalization.NumberFormatInfo",{inherits:[System.IFormatProvider,System.ICloneable],config:{alias:{getFormat:"System$IFormatProvider$getFormat"}},statics:{ctor:function(){this.numberNegativePatterns=["(n)","-n","- n","n-","n -"],this.currencyNegativePatterns=["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"],this.currencyPositivePatterns=["$n","n$","$ n","n $"],this.percentNegativePatterns=["-n %","-n%","-%n","%-n","%n-","n-%","n%-","-% n","n %-","% n-","% -n","n- %"],this.percentPositivePatterns=["n %","n%","%n","% n"],this.invariantInfo=Bridge.merge(new System.Globalization.NumberFormatInfo,{nanSymbol:"NaN",negativeSign:"-",positiveSign:"+",negativeInfinitySymbol:"-Infinity",positiveInfinitySymbol:"Infinity",percentSymbol:"%",percentGroupSizes:[3],percentDecimalDigits:2,percentDecimalSeparator:".",percentGroupSeparator:",",percentPositivePattern:0,percentNegativePattern:0,currencySymbol:"",currencyGroupSizes:[3],currencyDecimalDigits:2,currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyNegativePattern:0,currencyPositivePattern:0,numberGroupSizes:[3],numberDecimalDigits:2,numberDecimalSeparator:".",numberGroupSeparator:",",numberNegativePattern:1})}},getFormat:function(t){return t!==System.Globalization.NumberFormatInfo?null:this},clone:function(){return Bridge.copy(new System.Globalization.NumberFormatInfo,this,["nanSymbol","negativeSign","positiveSign","negativeInfinitySymbol","positiveInfinitySymbol","percentSymbol","percentGroupSizes","percentDecimalDigits","percentDecimalSeparator","percentGroupSeparator","percentPositivePattern","percentNegativePattern","currencySymbol","currencyGroupSizes","currencyDecimalDigits","currencyDecimalSeparator","currencyGroupSeparator","currencyNegativePattern","currencyPositivePattern","numberGroupSizes","numberDecimalDigits","numberDecimalSeparator","numberGroupSeparator","numberNegativePattern"])}}),Bridge.define("System.Globalization.CultureInfo",{inherits:[System.IFormatProvider,System.ICloneable],config:{alias:{getFormat:"System$IFormatProvider$getFormat"}},$entryPoint:!0,statics:{ctor:function(){this.cultures=this.cultures||{},this.invariantCulture=Bridge.merge(new System.Globalization.CultureInfo("iv",!0),{englishName:"Invariant Language (Invariant Country)",nativeName:"Invariant Language (Invariant Country)",numberFormat:System.Globalization.NumberFormatInfo.invariantInfo,dateTimeFormat:System.Globalization.DateTimeFormatInfo.invariantInfo}),this.setCurrentCulture(System.Globalization.CultureInfo.invariantCulture)},getCurrentCulture:function(){return this.currentCulture},setCurrentCulture:function(t){this.currentCulture=t,System.Globalization.DateTimeFormatInfo.currentInfo=t.dateTimeFormat,System.Globalization.NumberFormatInfo.currentInfo=t.numberFormat},getCultureInfo:function(t){if(!t)throw new System.ArgumentNullException("name");return this.cultures[t]},getCultures:function(){for(var t=Bridge.getPropertyNames(this.cultures),e=[],n=0;n<t.length;n++)e.push(this.cultures[t[n]]);return e}},ctor:function(t,e){if(this.$initialize(),this.name=t,System.Globalization.CultureInfo.cultures||(System.Globalization.CultureInfo.cultures={}),System.Globalization.CultureInfo.cultures[t])Bridge.copy(this,System.Globalization.CultureInfo.cultures[t],["englishName","nativeName","numberFormat","dateTimeFormat"]);else{if(!e)throw new System.Globalization.CultureNotFoundException("name",t);System.Globalization.CultureInfo.cultures[t]=this}},getFormat:function(t){switch(t){case System.Globalization.NumberFormatInfo:return this.numberFormat;case System.Globalization.DateTimeFormatInfo:return this.dateTimeFormat;default:return null}},clone:function(){return new System.Globalization.CultureInfo(this.name)}}),Bridge.Math={divRem:function(t,e,n){var r=t%e;return(t-(n.v=r))/e},round:function(t,e,n){var r,i=Math.pow(10,e||0);return(t*=i)%1==.5*(r=0<t|-(t<0))?((e=Math.floor(t))+(4===n?0<r:e%2*r))/i:Math.round(t)/i},log10:Math.log10||function(t){return Math.log(t)/Math.LN10},logWithBase:function(t,e){return isNaN(t)?t:isNaN(e)?e:1!==e&&(1===t||0!==e&&e!==Number.POSITIVE_INFINITY)?Bridge.Math.log10(t)/Bridge.Math.log10(e):NaN},log:function(t){return 0===t?Number.NEGATIVE_INFINITY:t<0||isNaN(t)?NaN:t===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:t===Number.NEGATIVE_INFINITY?NaN:Math.log(t)},sinh:Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:Math.tanh||function(t){if(t===1/0)return 1;if(t===-1/0)return-1;t=Math.exp(2*t);return(t-1)/(t+1)}},System.Boolean={trueString:"True",falseString:"False",is:function(t,e){return e===System.IComparable||e===System.IEquatable$1(Boolean)||e===System.IComparable$1(Boolean)},$is:function(t){return"boolean"==typeof t},getDefaultValue:function(){return!1},toString:function(t){return t?System.Boolean.trueString:System.Boolean.falseString},parse:function(t){if(!Bridge.hasValue(t))throw new System.ArgumentNullException("value");var e={v:!1};if(!System.Boolean.tryParse(t,e))throw new System.FormatException("Bad format for Boolean value");return e.v},tryParse:function(t,e){if(e.v=!1,!Bridge.hasValue(t))return!1;if(System.String.equals(System.Boolean.trueString,t,5))return e.v=!0;if(System.String.equals(System.Boolean.falseString,t,5))return!(e.v=!1);for(var n=0,r=t.length-1;n<t.length&&(System.Char.isWhiteSpace(t[n])||System.Char.isNull(t.charCodeAt(n)));)n++;for(;n<=r&&(System.Char.isWhiteSpace(t[r])||System.Char.isNull(t.charCodeAt(r)));)r--;return t=t.substr(n,r-n+1),System.String.equals(System.Boolean.trueString,t,5)?e.v=!0:!!System.String.equals(System.Boolean.falseString,t,5)&&!(e.v=!1)}},X("System.Byte",0,255,3),X("System.SByte",-128,127,3),X("System.Int16",-32768,32767,5),X("System.UInt16",0,65535,5),X("System.Int32",-2147483648,2147483647,10),X("System.UInt32",0,4294967295,10),Bridge.define("Bridge.Int",{inherits:[System.IComparable,System.IFormattable],statics:{$number:!0,$is:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t,0)===t},getDefaultValue:function(){return 0},format:function(t,e,n,r){var i,o,s,a,u,l,c,g=(n||System.Globalization.CultureInfo.getCurrentCulture()).getFormat(System.Globalization.NumberFormatInfo),h=g.numberDecimalSeparator,m=(g.numberGroupSeparator,t instanceof System.Decimal),f=t instanceof System.Int64||t instanceof System.UInt64,d=m||f?!t.isZero()&&t.isNegative():t<0;if(!f&&(m?!t.isFinite():!isFinite(t)))return Number.NEGATIVE_INFINITY===t||m&&d?g.negativeInfinitySymbol:isNaN(t)?g.nanSymbol:g.positiveInfinitySymbol;if(i=(e=e||"G").match(/^([a-zA-Z])(\d*)$/))switch(s=i[1].toUpperCase(),o=15<(o=parseInt(i[2],10))?15:o,s){case"D":return this.defaultFormat(t,isNaN(o)?1:o,0,0,g,!0);case"F":case"N":return isNaN(o)&&(o=g.numberDecimalDigits),this.defaultFormat(t,1,o,o,g,"F"===s);case"G":case"E":for(var y,p,S=0,C=m||f?f&&t.eq(System.Int64.MinValue)?System.Int64(t.value.toUnsigned()):t.abs():Math.abs(t),x=i[1],w=3;m||f?C.gte(10):10<=C;)m||f?C=C.div(10):C/=10,S++;for(;m||f?C.ne(0)&&C.lt(1):0!==C&&C<1;)m||f?C=C.mul(10):C*=10,S--;if("G"===s){if((a=isNaN(o))&&(o=m?29:f?t instanceof System.Int64?19:20:r&&r.precision?r.precision:15),-5<S&&S<o||m&&a)return this.defaultFormat(t,1,y=0,p=o-(0<S?S+1:1),g,!0);x="G"===x?"E":"e",w=2,y=0,p=(o||15)-1}else y=p=isNaN(o)?6:o;return 0<=S?x+=g.positiveSign:(x+=g.negativeSign,S=-S),d&&(m||f?C=C.mul(-1):C*=-1),this.defaultFormat(C,1,y,p,g)+x+this.defaultFormat(S,w,0,0,g,!0);case"P":return isNaN(o)&&(o=g.percentDecimalDigits),this.defaultFormat(100*t,1,o,o,g,!1,"percent");case"X":for(u=m?t.round().value.toHex().substr(2):(f?t:Math.round(t)).toString(16),o-=(u="X"===i[1]?u.toUpperCase():u).length;0<o--;)u="0"+u;return u;case"C":return isNaN(o)&&(o=g.currencyDecimalDigits),this.defaultFormat(t,1,o,o,g,!1,"currency");case"R":return w=m||f?t.toString():""+t,(w="."!==h?w.replace(".",h):w).replace("e","E")}if(-1!==e.indexOf(",.")||System.String.endsWith(e,",")){for(l=0,-1===(c=e.indexOf(",."))&&(c=e.length-1);-1<c&&","===e.charAt(c);)l++,c--;m||f?t=t.div(Math.pow(1e3,l)):t/=Math.pow(1e3,l)}return-1!==e.indexOf("%")&&(m||f?t=t.mul(100):t*=100),-1!==e.indexOf("")&&(m||f?t=t.mul(1e3):t*=1e3),n=e.split(";"),e=(m||f?t.lt(0):t<0)&&1<n.length?(m||f?t=t.mul(-1):t*=-1,n[1]):n[(m||f?t.ne(0):!t)&&2<n.length?2:0],this.customFormat(t,e,g,!e.match(/^[^\.]*[0#],[0#]/))},defaultFormat:function(t,e,n,r,i,o,s){s=s||"number";var a,u,l,c,g,h,m,f,d,y=(i||System.Globalization.CultureInfo.getCurrentCulture()).getFormat(System.Globalization.NumberFormatInfo),p=y[s+"GroupSizes"],S="",C=t instanceof System.Decimal,x=t instanceof System.Int64||t instanceof System.UInt64,i=C||x?!t.isZero()&&t.isNegative():t<0,w=(Math.pow(10,r),C?t.abs().toDecimalPlaces(r).toFixed():x?(t.eq(System.Int64.MinValue)?t.value.toUnsigned():t.abs()).toString():""+ +Math.abs(t).toFixed(r)),x=w.split("").every(function(t){return"0"===t||"."===t}),t=w.indexOf(".");if(0<t&&(l=y[s+"DecimalSeparator"]+w.substr(t+1),w=w.substr(0,t)),w.length<e&&(w=Array(e-w.length+1).join("0")+w),l?(l.length-1<n&&(l+=Array(n-l.length+2).join("0")),0===r?l=null:l.length-1>r&&(l=l.substr(0,r+1))):0<n&&(l=y[s+"DecimalSeparator"]+Array(n+1).join("0")),u=p[a=0],w.length<u)S=w,l&&(S+=l);else{for(c=w.length,g=!1,d=o?"":y[s+"GroupSeparator"];!g&&((h=c-(m=u))<0&&(u+=h,m+=h,g=!(h=0)),m);)f=w.substr(h,m),S=S.length?f+d+S:f,c-=m,a<p.length-1&&(u=p[++a]);l&&(S+=l)}return i&&!x?System.Globalization.NumberFormatInfo[s+"NegativePatterns"][y[s+"NegativePattern"]].replace("-",y.negativeSign).replace("%",y.percentSymbol).replace("$",y.currencySymbol).replace("n",S):System.Globalization.NumberFormatInfo[s+"PositivePatterns"]?System.Globalization.NumberFormatInfo[s+"PositivePatterns"][y[s+"PositivePattern"]].replace("%",y.percentSymbol).replace("$",y.currencySymbol).replace("n",S):S},customFormat:function(t,e,n,r){var i,o,s,a,u,l,c=0,g=-1,h=0,m=-1,f=0,d=1,y=!1,p="",S=!1,C=!1,x=!1,w=t instanceof System.Decimal,v=t instanceof System.Int64||t instanceof System.UInt64,b=w||v?!t.isZero()&&t.isNegative():t<0,B="number";for(-1!==e.indexOf("%")?B="percent":-1!==e.indexOf("$")&&(B="currency"),s=0;s<e.length;s++)if("'"===(o=e.charAt(s))||'"'===o){if((s=e.indexOf(o,s+1))<0)break}else"\\"===o?s++:("0"!==o&&"#"!==o||(h+=f,"0"===o&&(f?m=h:g<0&&(g=c)),c+=!f),f=f||"."===o);for(g=g<0?1:c-g,b&&(y=!0),b=Math.pow(10,h),v=(t=w?System.Decimal.round(t.abs().mul(b),4).div(b).toString():v?(t.eq(System.Int64.MinValue)?System.Int64(t.value.toUnsigned()):t.abs()).mul(b).div(b).toString():""+Math.round(Math.abs(t)*b)/b).split("").every(function(t){return"0"===t||"."===t}),s=(i=(b=t.indexOf("."))<0?t.length:b)-c,l={groupIndex:Math.max(i,g),sep:r?"":n[B+"GroupSeparator"]},1===i&&"0"===t.charAt(0)&&(S=!0),a=0;a<e.length;a++)if("'"===(o=e.charAt(a))||'"'===o){if(u=e.indexOf(o,a+1),p+=e.substring(a+1,u<0?e.length:u),u<0)break;a=u}else"\\"===o?(p+=e.charAt(a+1),a++):"#"===o||"0"===o?(x=!0,!C&&S&&"#"===o||(l.buffer=p,s<i?(0<=s?(d&&this.addGroup(t.substr(0,s),l),this.addGroup(t.charAt(s),l)):i-g<=s&&this.addGroup("0",l),d=0):(0<m--||s<t.length)&&this.addGroup(s>=t.length?"0":t.charAt(s),l),p=l.buffer),s++):"."===o?(x||S||(p+=t.substr(0,i),x=!0),(t.length>++s||0<m)&&(C=!0,p+=n[B+"DecimalSeparator"])):","!==o&&(p+=o);return p=y&&!v?"-"+p:p},addGroup:function(t,e){for(var n=e.buffer,r=e.sep,i=e.groupIndex,o=0,s=t.length;o<s;o++)n+=t.charAt(o),r&&1<i&&i--%3==1&&(n+=r);e.buffer=n,e.groupIndex=i},parseFloat:function(t,e){var n={};return Bridge.Int.tryParseFloat(t,e,n,!1),n.v},tryParseFloat:function(t,e,n,r){var i,o,s;if(n.v=0,null==r&&(r=!0),null==t){if(r)return!1;throw new System.ArgumentNullException("s")}t=t.trim();var a=(e||System.Globalization.CultureInfo.getCurrentCulture()).getFormat(System.Globalization.NumberFormatInfo),u=a.numberDecimalSeparator,l=a.numberGroupSeparator,c="Input string was not in a correct format.",g=t.indexOf(u),e=l?t.indexOf(l):-1;if(-1<g&&(g<e||-1<e&&g<t.indexOf(l,g)||-1<t.indexOf(u,g+1))){if(r)return!1;throw new System.FormatException(c)}if("."!==u&&"."!==l&&-1<t.indexOf(".")){if(r)return!1;throw new System.FormatException(c)}if(-1<e){for(i="",s=0;s<t.length;s++)t[s]!==l&&(i+=t[s]);t=i}if(t===a.negativeInfinitySymbol)return n.v=Number.NEGATIVE_INFINITY,!0;if(t===a.positiveInfinitySymbol)return n.v=Number.POSITIVE_INFINITY,!0;if(t===a.nanSymbol)return n.v=Number.NaN,!0;for(s=o=0;s<t.length;s++)if(System.Char.isLetter(t[s].charCodeAt(0))){if("e"!==t[s].toLowerCase()){if(r)return!1;throw new System.FormatException(c)}if(1<++o){if(r)return!1;throw new System.FormatException(c)}}if(u=parseFloat(t.replace(u,".")),isNaN(u)){if(r)return!1;throw new System.FormatException(c)}return n.v=u,!0},parseInt:function(t,e,n,r){if(r=r||10,null==t)throw new System.ArgumentNullException("str");if(r<=10&&!/^[+-]?[0-9]+$/.test(t)||16==r&&!/^[+-]?[0-9A-F]+$/gi.test(t))throw new System.FormatException("Input string was not in a correct format.");r=parseInt(t,r);if(isNaN(r))throw new System.FormatException("Input string was not in a correct format.");if(r<e||n<r)throw new System.OverflowException;return r},tryParseInt:function(t,e,n,r,i){return e.v=0,!((i=i||10)<=10&&!/^[+-]?[0-9]+$/.test(t)||16==i&&!/^[+-]?[0-9A-F]+$/gi.test(t))&&(e.v=parseInt(t,i),!(e.v<n||e.v>r))},isInfinite:function(t){return t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY},trunc:function(t){return Bridge.isNumber(t)?0<t?Math.floor(t):Math.ceil(t):Bridge.Int.isInfinite(t)?t:null},div:function(t,e){if(!Bridge.isNumber(t)||!Bridge.isNumber(e))return null;if(0===e)throw new System.DivideByZeroException;return this.trunc(t/e)},mod:function(t,e){if(!Bridge.isNumber(t)||!Bridge.isNumber(e))return null;if(0===e)throw new System.DivideByZeroException;return t%e},check:function(t,e){if(System.Int64.is64Bit(t))return System.Int64.check(t,e);if(t instanceof System.Decimal)return System.Decimal.toInt(t,e);if(Bridge.isNumber(t)&&!e.$is(t))throw new System.OverflowException;return Bridge.Int.isInfinite(t)?e===System.Int64||e===System.UInt64?e.MinValue:e.min:t},sxb:function(t){return Bridge.isNumber(t)?t|(128&t?4294967040:0):Bridge.Int.isInfinite(t)?System.SByte.min:null},sxs:function(t){return Bridge.isNumber(t)?t|(32768&t?4294901760:0):Bridge.Int.isInfinite(t)?System.Int16.min:null},clip8:function(t){return Bridge.isNumber(t)?Bridge.Int.sxb(255&t):Bridge.Int.isInfinite(t)?System.SByte.min:null},clipu8:function(t){return Bridge.isNumber(t)?255&t:Bridge.Int.isInfinite(t)?System.Byte.min:null},clip16:function(t){return Bridge.isNumber(t)?Bridge.Int.sxs(65535&t):Bridge.Int.isInfinite(t)?System.Int16.min:null},clipu16:function(t){return Bridge.isNumber(t)?65535&t:Bridge.Int.isInfinite(t)?System.UInt16.min:null},clip32:function(t){return Bridge.isNumber(t)?0|t:Bridge.Int.isInfinite(t)?System.Int32.min:null},clipu32:function(t){return Bridge.isNumber(t)?t>>>0:Bridge.Int.isInfinite(t)?System.UInt32.min:null},clip64:function(t){return Bridge.isNumber(t)?System.Int64(Bridge.Int.trunc(t)):Bridge.Int.isInfinite(t)?System.Int64.MinValue:null},clipu64:function(t){return Bridge.isNumber(t)?System.UInt64(Bridge.Int.trunc(t)):Bridge.Int.isInfinite(t)?System.UInt64.MinValue:null},sign:function(t){return Bridge.isNumber(t)?0===t?0:t<0?-1:1:null}}}),Bridge.Int.$kind="",Bridge.Class.addExtend(Bridge.Int,[System.IComparable$1(Bridge.Int),System.IEquatable$1(Bridge.Int)]),Bridge.define("System.Double",{inherits:[System.IComparable,System.IFormattable],statics:{min:-Number.MAX_VALUE,max:Number.MAX_VALUE,precision:15,$number:!0,$is:function(t){return"number"==typeof t},getDefaultValue:function(){return 0},parse:function(t,e){return Bridge.Int.parseFloat(t,e)},tryParse:function(t,e,n){return Bridge.Int.tryParseFloat(t,e,n)},format:function(t,e,n){return Bridge.Int.format(t,e,n,System.Double)}}}),System.Double.$kind="",Bridge.Class.addExtend(System.Double,[System.IComparable$1(System.Double),System.IEquatable$1(System.Double)]),Bridge.define("System.Single",{inherits:[System.IComparable,System.IFormattable],statics:{min:-34028234663852886e22,max:34028234663852886e22,precision:7,$number:!0,$is:System.Double.$is,getDefaultValue:System.Double.getDefaultValue,parse:System.Double.parse,tryParse:System.Double.tryParse,format:function(t,e,n){return Bridge.Int.format(t,e,n,System.Single)}}}),System.Single.$kind="",Bridge.Class.addExtend(System.Single,[System.IComparable$1(System.Single),System.IEquatable$1(System.Single)]),function(t){function r(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function h(t){return!0===(t&&t.__isLong__)}function e(t,e){var n,r;if(e){if((r=0<=(t>>>=0)&&t<256)&&(n=o[t]))return n;n=f(t,(0|t)<0?-1:0,!0),r&&(o[t]=n)}else{if((r=-128<=(t|=0)&&t<128)&&(n=i[t]))return n;n=f(t,t<0?-1:0,!1),r&&(i[t]=n)}return n}function m(t,e){if(isNaN(t)||!isFinite(t))return e?a:w;if(e){if(t<0)return a;if(S<=t)return s}else{if(t<=-C)return p;if(C<=t+1)return n}return t<0?m(-t,e).neg():f(t%4294967296|0,t/4294967296|0,e)}function f(t,e,n){return new r(t,e,n)}function u(t,e,n){var r,i,o,s,a;if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return w;if(e="number"==typeof e?(n=e,!1):!!e,(n=n||10)<2||36<n)throw RangeError("radix");if(0<(r=t.indexOf("-")))throw Error("interior hyphen");if(0===r)return u(t.substring(1),e,n).neg();for(r=m(l(n,8)),i=w,o=0;o<t.length;o+=8)s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n),i=s<8?(s=m(l(n,s)),i.mul(s).add(m(a))):(i=i.mul(r)).add(m(a));return i.unsigned=e,i}function d(t){return t instanceof r?t:"number"==typeof t?m(t):"string"==typeof t?u(t):f(t.low,t.high,t.unsigned)}var i,o,l,a,c,g,y,n,s,p;t.Bridge.$Long=r,Object.defineProperty(r.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),r.isLong=h,i={},o={},r.fromInt=e,r.fromNumber=m,r.fromBits=f,l=Math.pow,r.fromString=u,r.fromValue=d;var S=0x10000000000000000,C=S/2,x=e(16777216),w=e(0);r.ZERO=w,a=e(0,!0),r.UZERO=a,c=e(1),r.ONE=c,g=e(1,!0),r.UONE=g,y=e(-1),r.NEG_ONE=y,n=f(-1,2147483647,!1),r.MAX_VALUE=n,s=f(-1,-1,!0),r.MAX_UNSIGNED_VALUE=s,p=f(0,-2147483648,!1),r.MIN_VALUE=p,(t=r.prototype).toInt=function(){return this.unsigned?this.low>>>0:this.low},t.toNumber=function(){return this.unsigned?4294967296*(this.high>>>0)+(this.low>>>0):4294967296*this.high+(this.low>>>0)},t.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(p)){var e=m(t),e=(n=this.div(e)).mul(e).sub(this);return n.toString(t)+e.toInt().toString(t)}return(void 0===t||10===t?"-":"")+this.neg().toString(t)}for(var n=m(l(t,6),this.unsigned),e=this,r="";;){var i=e.div(n),o=(e.sub(i.mul(n)).toInt()>>>0).toString(t);if((e=i).isZero())return o+r;for(;o.length<6;)o="0"+o;r=""+o+r}},t.getHighBits=function(){return this.high},t.getHighBitsUnsigned=function(){return this.high>>>0},t.getLowBits=function(){return this.low},t.getLowBitsUnsigned=function(){return this.low>>>0},t.getNumBitsAbs=function(){if(this.isNegative())return this.eq(p)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;0<e&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},t.isZero=function(){return 0===this.high&&0===this.low},t.isNegative=function(){return!this.unsigned&&this.high<0},t.isPositive=function(){return this.unsigned||0<=this.high},t.isOdd=function(){return 1==(1&this.low)},t.isEven=function(){return 0==(1&this.low)},t.equals=function(t){return h(t)||(t=d(t)),(this.unsigned===t.unsigned||1!=this.high>>>31||1!=t.high>>>31)&&(this.high===t.high&&this.low===t.low)},t.eq=t.equals,t.notEquals=function(t){return!this.eq(t)},t.neq=t.notEquals,t.lessThan=function(t){return this.comp(t)<0},t.lt=t.lessThan,t.lessThanOrEqual=function(t){return this.comp(t)<=0},t.lte=t.lessThanOrEqual,t.greaterThan=function(t){return 0<this.comp(t)},t.gt=t.greaterThan,t.greaterThanOrEqual=function(t){return 0<=this.comp(t)},t.gte=t.greaterThanOrEqual,t.compare=function(t){if(h(t)||(t=d(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},t.comp=t.compare,t.negate=function(){return!this.unsigned&&this.eq(p)?p:this.not().add(c)},t.neg=t.negate,t.add=function(t){h(t)||(t=d(t));var e=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=t.high>>>16,o=65535&t.high,s=t.low>>>16,a=(65535&this.low)+(65535&t.low);return t=a>>>16,r=(t+=r+s)>>>16,f((65535&t)<<16|65535&a,(e+i+((r+=n+o)>>>16)&65535)<<16|65535&r,this.unsigned)},t.subtract=function(t){return h(t)||(t=d(t)),this.add(t.neg())},t.sub=t.subtract,t.multiply=function(t){var e,n;if(this.isZero()||(t=!h(t)?d(t):t).isZero())return w;if(this.eq(p))return t.isOdd()?p:w;if(t.eq(p))return this.isOdd()?p:w;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(x)&&t.lt(x))return m(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,o=this.low>>>16,s=65535&this.low,a=t.high>>>16,u=65535&t.high,l=t.low>>>16,c=(n=0+s*(t=65535&t.low))>>>16,g=(c+=o*t)>>>16;return g+=(c=(65535&c)+s*l)>>>16,e=(g+=i*t)>>>16,e+=(g=(65535&g)+o*l)>>>16,g&=65535,f((c&=65535)<<16|65535&n,(r*t+i*l+o*u+s*a+(e+=(g+=s*u)>>>16)&65535)<<16|(g&=65535),this.unsigned)},t.mul=t.multiply,t.divide=function(t){var e,n;if((t=!h(t)?d(t):t).isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?a:w;if(this.unsigned)t.unsigned||(t=t.toUnsigned());else{if(this.eq(p))return t.eq(c)||t.eq(y)?p:t.eq(p)?c:(r=this.shr(1).div(t).shl(1)).eq(w)?t.isNegative()?c:y:(e=this.sub(t.mul(r)),r.add(e.div(t)));if(t.eq(p))return this.unsigned?a:w;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg()}if(this.unsigned){if(t.gt(this))return a;if(t.gt(this.shru(1)))return g;n=a}else n=w;for(e=this;e.gte(t);){for(var r=Math.max(1,Math.floor(e.toNumber()/t.toNumber())),i=(i=Math.ceil(Math.log(r)/Math.LN2))<=48?1:l(2,i-48),o=m(r),s=o.mul(t);s.isNegative()||s.gt(e);)s=(o=m(r-=i,this.unsigned)).mul(t);o.isZero()&&(o=c),n=n.add(o),e=e.sub(s)}return n},t.div=t.divide,t.modulo=function(t){return h(t)||(t=d(t)),this.sub(this.div(t).mul(t))},t.mod=t.modulo,t.not=function(){return f(~this.low,~this.high,this.unsigned)},t.and=function(t){return h(t)||(t=d(t)),f(this.low&t.low,this.high&t.high,this.unsigned)},t.or=function(t){return h(t)||(t=d(t)),f(this.low|t.low,this.high|t.high,this.unsigned)},t.xor=function(t){return h(t)||(t=d(t)),f(this.low^t.low,this.high^t.high,this.unsigned)},t.shiftLeft=function(t){return h(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?f(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):f(0,this.low<<t-32,this.unsigned)},t.shl=t.shiftLeft,t.shiftRight=function(t){return h(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?f(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):f(this.high>>t-32,0<=this.high?0:-1,this.unsigned)},t.shr=t.shiftRight,t.shiftRightUnsigned=function(t){if(h(t)&&(t=t.toInt()),0===(t&=63))return this;var e=this.high;return t<32?f(this.low>>>t|e<<32-t,e>>>t,this.unsigned):f(32===t?e:e>>>t-32,0,this.unsigned)},t.shru=t.shiftRightUnsigned,t.toSigned=function(){return this.unsigned?f(this.low,this.high,!1):this},t.toUnsigned=function(){return this.unsigned?this:f(this.low,this.high,!0)}}(Bridge.global),System.Int64=function(t){if(this.constructor!==System.Int64)return new System.Int64(t);Bridge.hasValue(t)||(t=0),this.T=System.Int64,this.unsigned=!1,this.value=System.Int64.getValue(t)},System.Int64.$$name="System.Int64",System.Int64.prototype.$$name="System.Int64",System.Int64.$kind="struct",System.Int64.prototype.$kind="struct",System.Int64.$$inherits=[],Bridge.Class.addExtend(System.Int64,[System.IComparable,System.IFormattable,System.IComparable$1(System.Int64),System.IEquatable$1(System.Int64)]),System.Int64.$is=function(t){return t instanceof System.Int64},System.Int64.is64Bit=function(t){return t instanceof System.Int64||t instanceof System.UInt64},System.Int64.getDefaultValue=function(){return System.Int64.Zero},System.Int64.getValue=function(t){return Bridge.hasValue(t)?t instanceof Bridge.$Long?t:t instanceof System.Int64?t.value:t instanceof System.UInt64?t.value.toSigned():Bridge.isArray(t)?new Bridge.$Long(t[0],t[1]):Bridge.isString(t)?Bridge.$Long.fromString(t):Bridge.isNumber(t)?Bridge.$Long.fromNumber(t):t instanceof System.Decimal?Bridge.$Long.fromString(t.toString()):Bridge.$Long.fromValue(t):null},System.Int64.create=function(t){return Bridge.hasValue(t)?t instanceof System.Int64?t:new System.Int64(t):null},System.Int64.lift=function(t){return Bridge.hasValue(t)?System.Int64.create(t):null},System.Int64.toNumber=function(t){return t?t.toNumber():null},System.Int64.prototype.toNumberDivided=function(t){var e=this.div(t),t=this.mod(t).toNumber()/t;return e.toNumber()+t},System.Int64.prototype.toJSON=function(){return this.toNumber()},System.Int64.prototype.toString=function(t,e){return t||e?Bridge.isNumber(t)&&!e?this.value.toString(t):Bridge.Int.format(this,t,e):this.value.toString()},System.Int64.prototype.format=function(t,e){return Bridge.Int.format(this,t,e)},System.Int64.prototype.isNegative=function(){return this.value.isNegative()},System.Int64.prototype.abs=function(){if(this.T===System.Int64&&this.eq(System.Int64.MinValue))throw new System.OverflowException;return new this.T(this.value.isNegative()?this.value.neg():this.value)},System.Int64.prototype.compareTo=function(t){return this.value.compare(this.T.getValue(t))},System.Int64.prototype.add=function(t,e){var n=this.T.getValue(t),r=new this.T(this.value.add(n));if(e){var i=this.value.isNegative(),t=n.isNegative(),e=r.value.isNegative();if(i&&t&&!e||!i&&!t&&e||this.T===System.UInt64&&r.lt(System.UInt64.max(this,n)))throw new System.OverflowException}return r},System.Int64.prototype.sub=function(t,e){var n=this.T.getValue(t),r=new this.T(this.value.sub(n));if(e){var i=this.value.isNegative(),t=n.isNegative(),e=r.value.isNegative();if(i&&!t&&!e||!i&&t&&e||this.T===System.UInt64&&this.value.lt(n))throw new System.OverflowException}return r},System.Int64.prototype.isZero=function(){return this.value.isZero()},System.Int64.prototype.mul=function(t,e){var n,r=this.T.getValue(t),i=new this.T(this.value.mul(r));if(e){var o=this.sign(),t=r.isZero()?0:r.isNegative()?-1:1,e=i.sign();if(this.T===System.Int64){if(this.eq(System.Int64.MinValue)||this.eq(System.Int64.MaxValue)){if(r.neq(1)&&r.neq(0))throw new System.OverflowException;return i}if(r.eq(Bridge.$Long.MIN_VALUE)||r.eq(Bridge.$Long.MAX_VALUE)){if(this.neq(1)&&this.neq(0))throw new System.OverflowException;return i}if(-1===o&&-1==t&&1!==e||1===o&&1==t&&1!==e||-1===o&&1==t&&-1!==e||1===o&&-1==t&&-1!==e)throw new System.OverflowException;if((n=i.abs()).lt(this.abs())||n.lt(System.Int64(r).abs()))throw new System.OverflowException}else{if(this.eq(System.UInt64.MaxValue)){if(r.neq(1)&&r.neq(0))throw new System.OverflowException;return i}if(r.eq(Bridge.$Long.MAX_UNSIGNED_VALUE)){if(this.neq(1)&&this.neq(0))throw new System.OverflowException;return i}if((n=i.abs()).lt(this.abs())||n.lt(System.Int64(r).abs()))throw new System.OverflowException}}return i},System.Int64.prototype.div=function(t){return new this.T(this.value.div(this.T.getValue(t)))},System.Int64.prototype.mod=function(t){return new this.T(this.value.mod(this.T.getValue(t)))},System.Int64.prototype.neg=function(t){if(t&&this.T===System.Int64&&this.eq(System.Int64.MinValue))throw new System.OverflowException;return new this.T(this.value.neg())},System.Int64.prototype.inc=function(t){return this.add(1,t)},System.Int64.prototype.dec=function(t){return this.sub(1,t)},System.Int64.prototype.sign=function(){return this.value.isZero()?0:this.value.isNegative()?-1:1},System.Int64.prototype.clone=function(){return new this.T(this)},System.Int64.prototype.ne=function(t){return this.value.neq(this.T.getValue(t))},System.Int64.prototype.neq=function(t){return this.value.neq(this.T.getValue(t))},System.Int64.prototype.eq=function(t){return this.value.eq(this.T.getValue(t))},System.Int64.prototype.lt=function(t){return this.value.lt(this.T.getValue(t))},System.Int64.prototype.lte=function(t){return this.value.lte(this.T.getValue(t))},System.Int64.prototype.gt=function(t){return this.value.gt(this.T.getValue(t))},System.Int64.prototype.gte=function(t){return this.value.gte(this.T.getValue(t))},System.Int64.prototype.equals=function(t){return this.value.eq(this.T.getValue(t))},System.Int64.prototype.equalsT=function(t){return this.equals(t)},System.Int64.prototype.getHashCode=function(){return 397*(397*this.sign()+this.value.high|0)+this.value.low|0},System.Int64.prototype.toNumber=function(){return this.value.toNumber()},System.Int64.parse=function(t){if(null==t)throw new System.ArgumentNullException("str");if(!/^[+-]?[0-9]+$/.test(t))throw new System.FormatException("Input string was not in a correct format.");var e=new System.Int64(t);if(t!==e.toString())throw new System.OverflowException;return e},System.Int64.tryParse=function(t,e){try{return null!=t&&/^[+-]?[0-9]+$/.test(t)?(e.v=new System.Int64(t),t===e.v.toString()||(e.v=System.Int64(Bridge.$Long.ZERO),!1)):(e.v=System.Int64(Bridge.$Long.ZERO),!1)}catch(t){return e.v=System.Int64(Bridge.$Long.ZERO),!1}},System.Int64.divRem=function(t,e,n){t=System.Int64(t),e=System.Int64(e);var r=t.mod(e);return n.v=r,t.sub(r).div(e)},System.Int64.min=function(){for(var t,e=[],n=0,r=arguments.length;n<r;n++)e.push(System.Int64.getValue(arguments[n]));for(t=e[n=0];++n<e.length;)e[n].lt(t)&&(t=e[n]);return new System.Int64(t)},System.Int64.max=function(){for(var t,e=[],n=0,r=arguments.length;n<r;n++)e.push(System.Int64.getValue(arguments[n]));for(t=e[n=0];++n<e.length;)e[n].gt(t)&&(t=e[n]);return new System.Int64(t)},System.Int64.prototype.and=function(t){return new this.T(this.value.and(this.T.getValue(t)))},System.Int64.prototype.not=function(){return new this.T(this.value.not())},System.Int64.prototype.or=function(t){return new this.T(this.value.or(this.T.getValue(t)))},System.Int64.prototype.shl=function(t){return new this.T(this.value.shl(t))},System.Int64.prototype.shr=function(t){return new this.T(this.value.shr(t))},System.Int64.prototype.shru=function(t){return new this.T(this.value.shru(t))},System.Int64.prototype.xor=function(t){return new this.T(this.value.xor(this.T.getValue(t)))},System.Int64.check=function(t,e){if(Bridge.Int.isInfinite(t))return e===System.Int64||e===System.UInt64?e.MinValue:e.min;if(!t)return null;var n,r;if(e===System.Int64){if(t instanceof System.Int64)return t;if((n=t.value.toString())!==(r=new System.Int64(n)).value.toString())throw new System.OverflowException;return r}if(e!==System.UInt64)return Bridge.Int.check(t.toNumber(),e);if(t instanceof System.UInt64)return t;if(t.value.isNegative())throw new System.OverflowException;if((n=t.value.toString())!==(r=new System.UInt64(n)).value.toString())throw new System.OverflowException;return r},System.Int64.clip8=function(t){return t?Bridge.Int.sxb(255&t.value.low):Bridge.Int.isInfinite(t)?System.SByte.min:null},System.Int64.clipu8=function(t){return t?255&t.value.low:Bridge.Int.isInfinite(t)?System.Byte.min:null},System.Int64.clip16=function(t){return t?Bridge.Int.sxs(65535&t.value.low):Bridge.Int.isInfinite(t)?System.Int16.min:null},System.Int64.clipu16=function(t){return t?65535&t.value.low:Bridge.Int.isInfinite(t)?System.UInt16.min:null},System.Int64.clip32=function(t){return t?0|t.value.low:Bridge.Int.isInfinite(t)?System.Int32.min:null},System.Int64.clipu32=function(t){return t?t.value.low>>>0:Bridge.Int.isInfinite(t)?System.UInt32.min:null},System.Int64.clip64=function(t){return t?new System.Int64(t.value.toSigned()):Bridge.Int.isInfinite(t)?System.Int64.MinValue:null},System.Int64.clipu64=function(t){return t?new System.UInt64(t.value.toUnsigned()):Bridge.Int.isInfinite(t)?System.UInt64.MinValue:null},System.Int64.Zero=System.Int64(Bridge.$Long.ZERO),System.Int64.MinValue=System.Int64(Bridge.$Long.MIN_VALUE),System.Int64.MaxValue=System.Int64(Bridge.$Long.MAX_VALUE),System.Int64.precision=19,System.UInt64=function(t){if(this.constructor!==System.UInt64)return new System.UInt64(t);Bridge.hasValue(t)||(t=0),this.T=System.UInt64,this.unsigned=!0,this.value=System.UInt64.getValue(t,!0)},System.UInt64.$$name="System.UInt64",System.UInt64.prototype.$$name="System.UInt64",System.UInt64.$kind="struct",System.UInt64.prototype.$kind="struct",System.UInt64.$$inherits=[],Bridge.Class.addExtend(System.UInt64,[System.IComparable,System.IFormattable,System.IComparable$1(System.UInt64),System.IEquatable$1(System.UInt64)]),System.UInt64.$is=function(t){return t instanceof System.UInt64},System.UInt64.getDefaultValue=function(){return System.UInt64.Zero},System.UInt64.getValue=function(t){return Bridge.hasValue(t)?t instanceof Bridge.$Long?t:t instanceof System.UInt64?t.value:t instanceof System.Int64?t.value.toUnsigned():Bridge.isArray(t)?new Bridge.$Long(t[0],t[1],!0):Bridge.isString(t)?Bridge.$Long.fromString(t,!0):Bridge.isNumber(t)?Bridge.$Long.fromNumber(t,!0):t instanceof System.Decimal?Bridge.$Long.fromString(t.toString(),!0):Bridge.$Long.fromValue(t):null},System.UInt64.create=function(t){return Bridge.hasValue(t)?t instanceof System.UInt64?t:new System.UInt64(t):null},System.UInt64.lift=function(t){return Bridge.hasValue(t)?System.UInt64.create(t):null},System.UInt64.prototype.toJSON=System.Int64.prototype.toJSON,System.UInt64.prototype.toString=System.Int64.prototype.toString,System.UInt64.prototype.format=System.Int64.prototype.format,System.UInt64.prototype.isNegative=System.Int64.prototype.isNegative,System.UInt64.prototype.abs=System.Int64.prototype.abs,System.UInt64.prototype.compareTo=System.Int64.prototype.compareTo,System.UInt64.prototype.add=System.Int64.prototype.add,System.UInt64.prototype.sub=System.Int64.prototype.sub,System.UInt64.prototype.isZero=System.Int64.prototype.isZero,System.UInt64.prototype.mul=System.Int64.prototype.mul,System.UInt64.prototype.div=System.Int64.prototype.div,System.UInt64.prototype.toNumberDivided=System.Int64.prototype.toNumberDivided,System.UInt64.prototype.mod=System.Int64.prototype.mod,System.UInt64.prototype.neg=System.Int64.prototype.neg,System.UInt64.prototype.inc=System.Int64.prototype.inc,System.UInt64.prototype.dec=System.Int64.prototype.dec,System.UInt64.prototype.sign=System.Int64.prototype.sign,System.UInt64.prototype.clone=System.Int64.prototype.clone,System.UInt64.prototype.ne=System.Int64.prototype.ne,System.UInt64.prototype.neq=System.Int64.prototype.neq,System.UInt64.prototype.eq=System.Int64.prototype.eq,System.UInt64.prototype.lt=System.Int64.prototype.lt,System.UInt64.prototype.lte=System.Int64.prototype.lte,System.UInt64.prototype.gt=System.Int64.prototype.gt,System.UInt64.prototype.gte=System.Int64.prototype.gte,System.UInt64.prototype.equals=System.Int64.prototype.equals,System.UInt64.prototype.equalsT=System.Int64.prototype.equalsT,System.UInt64.prototype.getHashCode=System.Int64.prototype.getHashCode,System.UInt64.prototype.toNumber=System.Int64.prototype.toNumber,System.UInt64.parse=function(t){if(null==t)throw new System.ArgumentNullException("str");if(!/^[+-]?[0-9]+$/.test(t))throw new System.FormatException("Input string was not in a correct format.");var e=new System.UInt64(t);if(e.value.isNegative())throw new System.OverflowException;if(t!==e.toString())throw new System.OverflowException;return e},System.UInt64.tryParse=function(t,e){try{return null!=t&&/^[+-]?[0-9]+$/.test(t)?(e.v=new System.UInt64(t),!e.v.isNegative()&&t===e.v.toString()||(e.v=System.UInt64(Bridge.$Long.UZERO),!1)):(e.v=System.UInt64(Bridge.$Long.UZERO),!1)}catch(t){return e.v=System.UInt64(Bridge.$Long.UZERO),!1}},System.UInt64.min=function(){for(var t,e=[],n=0,r=arguments.length;n<r;n++)e.push(System.UInt64.getValue(arguments[n]));for(t=e[n=0];++n<e.length;)e[n].lt(t)&&(t=e[n]);return new System.UInt64(t)},System.UInt64.max=function(){for(var t,e=[],n=0,r=arguments.length;n<r;n++)e.push(System.UInt64.getValue(arguments[n]));for(t=e[n=0];++n<e.length;)e[n].gt(t)&&(t=e[n]);return new System.UInt64(t)},System.UInt64.divRem=function(t,e,n){t=System.UInt64(t),e=System.UInt64(e);var r=t.mod(e);return n.v=r,t.sub(r).div(e)},System.UInt64.prototype.and=System.Int64.prototype.and,System.UInt64.prototype.not=System.Int64.prototype.not,System.UInt64.prototype.or=System.Int64.prototype.or,System.UInt64.prototype.shl=System.Int64.prototype.shl,System.UInt64.prototype.shr=System.Int64.prototype.shr,System.UInt64.prototype.shru=System.Int64.prototype.shru,System.UInt64.prototype.xor=System.Int64.prototype.xor,System.UInt64.Zero=System.UInt64(Bridge.$Long.UZERO),System.UInt64.MinValue=System.UInt64.Zero,System.UInt64.MaxValue=System.UInt64(Bridge.$Long.MAX_UNSIGNED_VALUE),System.UInt64.precision=20,function(t){function C(t){var e,n,r,i=t.length-1,o="",s=t[0];if(0<i){for(o+=s,e=1;e<i;e++)r=t[e]+"",(n=At-r.length)&&(o+=a(n)),o+=r;s=t[e],(n=At-(r=s+"").length)&&(o+=a(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function f(t,e,n){if(t!==~~t||t<e||n<t)throw Error(wt+t)}function x(t,e,n,r){for(var i,o,s=t[0];10<=s;s/=10)--e;return--e<0?(e+=At,i=0):(i=Math.ceil((e+1)/At),e%=At),s=Bt(10,At-e),o=t[i]%s|0,null==r?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),n<4&&99999==o||3<n&&49999==o||5e4==o||0==o):(n<4&&o+1==s||3<n&&o+1==s/2)&&(t[i+1]/s/100|0)==Bt(10,e-2)-1||(o==s/2||0==o)&&0==(t[i+1]/s/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),(r||n<4)&&9999==o||!r&&3<n&&4999==o):((r||n<4)&&o+1==s||!r&&3<n&&o+1==s/2)&&(t[i+1]/s/1e3|0)==Bt(10,e-3)-1}function d(t,e,n){for(var r,i,o=[0],s=0,a=t.length;s<a;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=ft.indexOf(t.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function O(t,e,n,r){var i,o,s,a,u,l,c,g,h=t.constructor;t:if(null!=e){if(!(c=t.d))return t;for(i=1,a=c[0];10<=a;a/=10)i++;if((o=e-i)<0)o+=At,s=e,u=(l=c[g=0])/Bt(10,i-s-1)%10|0;else if(g=Math.ceil((o+1)/At),(a=c.length)<=g){if(!r)break t;for(;a++<=g;)c.push(0);l=u=0,s=(o%=At)-At+(i=1)}else{for(l=a=c[g],i=1;10<=a;a/=10)i++;u=(s=(o%=At)-At+i)<0?0:l/Bt(10,i-s-1)%10|0}if(r=r||e<0||void 0!==c[g+1]||(s<0?l:l%Bt(10,i-s-1)),u=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):5<u||5==u&&(4==n||r||6==n&&(0<o?0<s?l/Bt(10,i-s):0:c[g-1])%10&1||n==(t.s<0?8:7)),e<1||!c[0])return c.length=0,u?(e-=t.e+1,c[0]=Bt(10,(At-e%At)%At),t.e=-e||0):c[0]=t.e=0,t;if(0==o?(c.length=g,a=1,g--):(c.length=g+1,a=Bt(10,At-o),c[g]=0<s?(l/Bt(10,i-s)%Bt(10,s)|0)*a:0),u)for(;;){if(0==g){for(o=1,s=c[0];10<=s;s/=10)o++;for(s=c[0]+=a,a=1;10<=s;s/=10)a++;o!=a&&(t.e++,c[0]==Ot&&(c[0]=1));break}if(c[g]+=a,c[g]!=Ot)break;c[g--]=0,a=1}for(o=c.length;0===c[--o];)c.pop()}return Ct&&(t.e>h.maxE?(t.d=null,t.e=NaN):t.e<h.minE&&(t.e=0,t.d=[0])),t}function y(t,e,n){if(!t.isFinite())return b(t);var r,i=t.e,o=C(t.d),s=o.length;return e?(n&&0<(r=n-s)?o=o.charAt(0)+"."+o.slice(1)+a(r):1<s&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+a(-i-1)+o,n&&0<(r=n-s)&&(o+=a(r))):s<=i?(o+=a(i+1-s),n&&0<(r=n-i-1)&&(o=o+"."+a(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&0<(r=n-s)&&(i+1===s&&(o+="."),o+=a(r))),o}function p(t,e){for(var n=1,r=t[0];10<=r;r/=10)n++;return n+e*At-1}function w(t,e,n){if(Tt<e)throw Ct=!0,n&&(t.precision=n),Error(vt);return O(new t(dt),e,1,!0)}function m(t,e,n){if(Lt<e)throw Error(vt);return O(new t(yt),e,n,!0)}function S(t){var e=t.length-1,n=e*At+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];10<=e;e/=10)n++}return n}function a(t){for(var e="";t--;)e+="0";return e}function c(t,e,n,r){var i,o=new t(1),s=Math.ceil(r/At+4);for(Ct=!1;;){if(n%2&&(u((o=o.times(e)).d,s)&&(i=!0)),0===(n=bt(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}u((e=e.times(e)).d,s)}return Ct=!0,o}function o(t){return 1&t.d[t.d.length-1]}function e(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(!(r=new t(e[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function g(t,e){var n,r,i,o,s,a,u,l=0,c=0,g=0,h=t.constructor,m=h.rounding,f=h.precision;if(!t.d||!t.d[0]||17<t.e)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(u=null==e?(Ct=!1,f):e,a=new h(.03125);-2<t.e;)t=t.times(a),g+=5;for(u+=r=Math.log(Bt(2,g))/Math.LN10*2+5|0,n=o=s=new h(1),h.precision=u;;){if(o=O(o.times(t),u,1),n=n.times(++c),C((a=s.plus(gt(o,n,u,1))).d).slice(0,u)===C(s.d).slice(0,u)){for(i=g;i--;)s=O(s.times(s),u,1);if(null!=e)return h.precision=f,s;if(!(l<3&&x(s.d,u-r,m,l)))return O(s,h.precision=f,m,Ct=!0);h.precision=u+=10,n=o=a=new h(1),c=0,l++}s=a}}function v(t,e){var n,r,i,o,s,a,u,l,c,g,h,m=1,f=t,d=f.d,y=f.constructor,p=y.rounding,S=y.precision;if(f.s<0||!d||!d[0]||!f.e&&1==d[0]&&1==d.length)return new y(d&&!d[0]?-1/0:1!=f.s?NaN:d?0:f);if(c=null==e?(Ct=!1,S):e,y.precision=c+=10,r=(n=C(d)).charAt(0),!(Math.abs(o=f.e)<15e14))return l=w(y,c+2,S).times(o+""),f=v(new y(r+"."+n.slice(1)),c-10).plus(l),y.precision=S,null==e?O(f,S,p,Ct=!0):f;for(;r<7&&1!=r||1==r&&3<n.charAt(1);)r=(n=C((f=f.times(t)).d)).charAt(0),m++;for(o=f.e,1<r?(f=new y("0."+n),o++):f=new y(r+"."+n.slice(1)),u=s=f=gt((g=f).minus(1),f.plus(1),c,1),h=O(f.times(f),c,1),i=3;;){if(s=O(s.times(h),c,1),C((l=u.plus(gt(s,new y(i),c,1))).d).slice(0,c)===C(u.d).slice(0,c)){if(u=u.times(2),0!==o&&(u=u.plus(w(y,c+2,S).times(o+""))),u=gt(u,new y(m),c,1),null!=e)return y.precision=S,u;if(!x(u.d,c-10,p,a))return O(u,y.precision=S,p,Ct=!0);y.precision=c+=10,l=s=f=gt(g.minus(1),g.plus(1),c,1),h=O(f.times(f),c,1),i=a=1}u=l,i+=2}}function b(t){return String(t.s*t.s/0)}function s(t,e){var n,r,i;for(0<(r=(e=-1<(n=e.indexOf("."))?e.replace(".",""):e).search(/e/i))?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%At,n<0&&(r+=At),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=At;r<i;)t.d.push(+e.slice(r,r+=At));e=e.slice(r),r=At-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),Ct&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function h(t,e,n,r,i){var o,s,a,u,l=t.precision,c=Math.ceil(l/At);for(Ct=!1,u=n.times(n),a=new t(r);;){if(s=gt(a.times(u),new t(e++*e++),l,1),a=i?r.plus(s):r.minus(s),r=gt(s.times(u),new t(e++*e++),l,1),void 0!==(s=a.plus(r)).d[c]){for(o=c;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=r,r=s,s=o,0}return Ct=!0,s.d.length=c+1,s}function i(t,e){var n=e.s<0,r=m(t,t.precision,1),i=r.times(.5);if((e=e.abs()).lte(i))return ct=n?4:1,e;if((t=e.divToInt(r)).isZero())ct=n?3:2;else{if((e=e.minus(t.times(r))).lte(i))return ct=o(t)?n?2:3:n?4:1,e;ct=o(t)?n?1:4:n?3:2}return e.minus(r).abs()}function n(t,e,n,r){var i,o,s,a,u,l,c,g,h=t.constructor,m=void 0!==n;if(m?(f(n,1,mt),void 0===r?r=h.rounding:f(r,0,8)):(n=h.precision,r=h.rounding),t.isFinite()){for(m?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,0<=(s=(l=y(t)).indexOf("."))&&(l=l.replace(".",""),(g=new h(1)).e=l.length-s,g.d=d(y(g),10,i),g.e=g.d.length),o=a=(c=d(l,10,i)).length;0==c[--a];)c.pop();if(c[0]){if(s<0?o--:((t=new h(t)).d=c,t.e=o,c=(t=gt(t,g,n,r,0,i)).d,o=t.e,u=lt),s=c[n],g=i/2,u=u||void 0!==c[n+1],u=r<4?(void 0!==s||u)&&(0===r||r===(t.s<0?3:2)):g<s||s===g&&(4===r||u||6===r&&1&c[n-1]||r===(t.s<0?8:7)),c.length=n,u)for(;++c[--n]>i-1;)c[n]=0,n||(++o,c.unshift(1));for(a=c.length;!c[a-1];--a);for(s=0,l="";s<a;s++)l+=ft.charAt(c[s]);if(m){if(1<a)if(16==e||8==e){for(s=16==e?4:3,--a;a%s;a++)l+="0";for(a=(c=d(l,i,e)).length;!c[a-1];--a);for(s=1,l="1.";s<a;s++)l+=ft.charAt(c[s])}else l=l.charAt(0)+"."+l.slice(1);l=l+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)l="0"+l;l="0."+l}else if(++o>a)for(o-=a;o--;)l+="0";else o<a&&(l=l.slice(0,o)+"."+l.slice(o))}else l=m?"0p+0":"0";l=(16==e?"0x":2==e?"0b":8==e?"0o":"")+l}else l=b(t);return t.s<0?"-"+l:l}function u(t,e){return t.length>e&&(t.length=e,1)}function l(t){return new this(t).abs()}function B(t){return new this(t).acos()}function I(t){return new this(t).acosh()}function $(t,e){return new this(t).plus(e)}function _(t){return new this(t).asin()}function E(t){return new this(t).asinh()}function A(t){return new this(t).atan()}function T(t){return new this(t).atanh()}function L(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?m(this,r,i):new this(0)).s=t.s:!t.d||e.isZero()?(n=m(this,o,1).times(.5)).s=t.s:n=e.s<0?(this.precision=o,this.rounding=1,n=this.atan(gt(t,e,o,1)),e=m(this,o,1),this.precision=r,this.rounding=i,t.s<0?n.minus(e):n.plus(e)):this.atan(gt(t,e,o,1)):(n=m(this,o,1).times(0<e.s?.25:.75)).s=t.s:n=new this(NaN),n}function R(t){return new this(t).cbrt()}function N(t){return O(t=new this(t),t.e+1,2)}function k(t){if(!t||"object"!=typeof t)throw Error(xt+"Object expected");for(var e,n,r=["precision",1,mt,"rounding",0,8,"toExpNeg",-ht,0,"toExpPos",0,ht,"maxE",0,ht,"minE",-ht,0,"modulo",0,9],i=0;i<r.length;i+=3)if(void 0!==(n=t[e=r[i]])){if(!(bt(n)===n&&r[i+1]<=n&&n<=r[i+2]))throw Error(wt+e+": "+n);this[e]=n}if(t.hasOwnProperty(e="crypto"))if(void 0===(n=t[e]))this[e]=n;else{if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(wt+e+": "+n);this[e]=!(!n||!St||!St.getRandomValues&&!St.randomBytes)}return this}function D(t){return new this(t).cos()}function P(t){return new this(t).cosh()}function M(t){function o(t){var e,n,r,i=this;if(!(i instanceof o))return new o(t);if(t instanceof(i.constructor=o))return i.s=t.s,i.e=t.e,void(i.d=(t=t.d)?t.slice():t);if("number"==(r=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,n=t;10<=n;n/=10)e++;return i.e=e,void(i.d=[t])}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):s(i,t.toString())}if("string"!=r)throw Error(wt+t);return 45===t.charCodeAt(0)?(t=t.slice(1),i.s=-1):i.s=1,(Et.test(t)?s:function(t,e){var n,r,i,o,s,a,u,l;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if($t.test(e))l=16,e=e.toLowerCase();else if(It.test(e))l=2;else{if(!_t.test(e))throw Error(wt+e);l=8}for(i=(e=0<(i=e.search(/p/i))?(a=+e.slice(i+1),e.substring(2,i)):e.slice(2)).indexOf("."),n=t.constructor,(o=0<=i)&&(i=(s=(e=e.replace(".","")).length)-i,r=c(n,new n(l),i,2*i)),i=l=(u=d(e,l,Ot)).length-1;0===u[i];--i)u.pop();return i<0?new n(0*t.s):(t.e=p(u,l),t.d=u,Ct=!1,o&&(t=gt(t,r,4*s)),a&&(t=t.times((Math.abs(a)<54?Math:pt).pow(2,a))),Ct=!0,t)})(i,t)}var e,n,r;if(o.prototype=Rt,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=k,o.clone=M,o.abs=l,o.acos=B,o.acosh=I,o.add=$,o.asin=_,o.asinh=E,o.atan=A,o.atanh=T,o.atan2=L,o.cbrt=R,o.ceil=N,o.cos=D,o.cosh=P,o.div=G,o.exp=V,o.floor=F,o.fromJSON=z,o.hypot=q,o.ln=H,o.log=U,o.log10=W,o.log2=j,o.max=Z,o.min=X,o.mod=K,o.mul=Y,o.pow=J,o.random=Q,o.round=tt,o.sign=et,o.sin=nt,o.sinh=rt,o.sqrt=it,o.sub=ot,o.tan=st,o.tanh=at,o.trunc=ut,t=void 0===t?{}:t)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return o.config(t),o}function G(t,e){return new this(t).div(e)}function V(t){return new this(t).exp()}function F(t){return O(t=new this(t),t.e+1,3)}function z(t){var e,n,r,i;if("string"!=typeof t||!t)throw Error(wt+t);if(r=t.length,i=ft.indexOf(t.charAt(0)),1===r)return new this(81<i?[-1/0,1/0,NaN][i-82]:40<i?-(i-41):i);if(64&i)e=(n=16&i)?(7&i)-3:(15&i)-7,r=1;else{if(2===r)return new this(2816<=(i=88*i+ft.indexOf(t.charAt(1)))?-(i-2816)-41:i+41);if(n=32&i,!(31&i))return t=d(t.slice(1),88,10).join(""),new this(n?"-"+t:t);r=(e=15&i)+1,e=1===e?ft.indexOf(t.charAt(1)):2===e?88*ft.indexOf(t.charAt(1))+ft.indexOf(t.charAt(2)):+d(t.slice(1,r),88,10).join(""),16&i&&(e=-e)}return t=(t=d(t.slice(r),88,10).join(""))+"e"+(e=e-t.length+1),new this(n?"-"+t:t)}function q(){var t,e,n=new this(0);for(Ct=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return Ct=!0,new this(1/0);n=e}return Ct=!0,n.sqrt()}function H(t){return new this(t).ln()}function U(t,e){return new this(t).log(e)}function j(t){return new this(t).log(2)}function W(t){return new this(t).log(10)}function Z(){return e(this,arguments,"lt")}function X(){return e(this,arguments,"gt")}function K(t,e){return new this(t).mod(e)}function Y(t,e){return new this(t).mul(e)}function J(t,e){return new this(t).pow(e)}function Q(t){var e,n,r,i,o=0,s=new this(1),a=[];if(void 0===t?t=this.precision:f(t,1,mt),r=Math.ceil(t/At),!1===this.crypto)for(;o<r;)a[o++]=1e7*Math.random()|0;else if(St&&St.getRandomValues)for(e=St.getRandomValues(new Uint32Array(r));o<r;)429e7<=(i=e[o])?e[o]=St.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else if(St&&St.randomBytes){for(e=St.randomBytes(r*=4);o<r;)214e7<=(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))?St.randomBytes(4).copy(e,o):(a.push(i%1e7),o+=4);o=r/4}else{if(this.crypto)throw Error(xt+"crypto unavailable");for(;o<r;)a[o++]=1e7*Math.random()|0}for(r=a[--o],t%=At,r&&t&&(i=Bt(10,At-t),a[o]=(r/i|0)*i);0===a[o];o--)a.pop();if(o<0)a=[n=0];else{for(n=-1;0===a[0];n-=At)a.shift();for(r=1,i=a[0];10<=i;i/=10)r++;r<At&&(n-=At-r)}return s.e=n,s.d=a,s}function tt(t){return O(t=new this(t),t.e+1,this.rounding)}function et(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function nt(t){return new this(t).sin()}function rt(t){return new this(t).sinh()}function it(t){return new this(t).sqrt()}function ot(t,e){return new this(t).sub(e)}function st(t){return new this(t).tan()}function at(t){return new this(t).tanh()}function ut(t){return O(t=new this(t),t.e+1,1)}var lt,r,ct,gt,ht=9e15,mt=1e9,ft="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%()*+,-./:;=?@[]^_`{|}~",dt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",yt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",pt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ht,maxE:ht,crypto:void 0},St="undefined"!=typeof crypto?crypto:null,Ct=!0,xt="[DecimalError] ",wt=xt+"Invalid argument: ",vt=xt+"Precision limit exceeded",bt=Math.floor,Bt=Math.pow,It=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,$t=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_t=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Et=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ot=1e7,At=7,Tt=dt.length-1,Lt=yt.length-1,Rt={};if(Rt.absoluteValue=Rt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),O(t)},Rt.ceil=function(){return O(new this.constructor(this),this.e+1,2)},Rt.comparedTo=Rt.cmp=function(t){var e,n,r=this,i=r.d,o=(t=new r.constructor(t)).d,s=r.s,a=t.s;if(!i||!o)return s&&a?s!==a?s:i===o?0:!i^s<0?1:-1:NaN;if(!i[0]||!o[0])return i[0]?s:o[0]?-a:0;if(s!==a)return s;if(r.e!==t.e)return r.e>t.e^s<0?1:-1;for(e=0,n=(r=i.length)<(t=o.length)?r:t;e<n;++e)if(i[e]!==o[e])return i[e]>o[e]^s<0?1:-1;return r===t?0:t<r^s<0?1:-1},Rt.cosine=Rt.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+At,r.rounding=1,n=function(t,e){var n,r,i,o=(o=e.d.length)<32?(n=Math.ceil(o/3),Math.pow(4,-n).toString()):(n=16,"2.3283064365386962890625e-10");for(t.precision+=n,e=h(t,1,e.times(o),new t(1)),r=n;r--;)e=(i=e.times(e)).times(i).minus(i).times(8).plus(1);return t.precision-=n,e}(r,i(r,n)),r.precision=t,r.rounding=e,O(2==ct||3==ct?n.neg():n,t,e,!0)):new r(1):new r(NaN)},Rt.cubeRoot=Rt.cbrt=function(){var t,e,n,r,i,o,s,a,u,l,c=this,g=c.constructor;if(!c.isFinite()||c.isZero())return new g(c);for(Ct=!1,(o=c.s*Math.pow(c.s*c,1/3))&&Math.abs(o)!=1/0?r=new g(o.toString()):(n=C(c.d),(o=((t=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=Math.pow(n,1/3),t=bt((t+1)/3)-(t%3==(t<0?-1:2)),(r=new g(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),s=(t=g.precision)+3;;)if(l=(u=(a=r).times(a).times(a)).plus(c),r=gt(l.plus(c).times(a),l.plus(u),s+2,1),C(a.d).slice(0,s)===(n=C(r.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(O(r,t+1,1),e=!r.times(r).times(r).eq(c));break}if(!i&&(O(a,t+1,0),a.times(a).times(a).eq(c))){r=a;break}s+=4,i=1}return Ct=!0,O(r,t,g.rounding,e)},Rt.decimalPlaces=Rt.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=((t=e.length-1)-bt(this.e/At))*At,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},Rt.dividedBy=Rt.div=function(t){return gt(this,new this.constructor(t))},Rt.dividedToIntegerBy=Rt.divToInt=function(t){var e=this.constructor;return O(gt(this,new e(t),0,1,1),e.precision,e.rounding)},Rt.equals=Rt.eq=function(t){return 0===this.cmp(t)},Rt.floor=function(){return O(new this.constructor(this),this.e+1,3)},Rt.greaterThan=Rt.gt=function(t){return 0<this.cmp(t)},Rt.greaterThanOrEqualTo=Rt.gte=function(t){t=this.cmp(t);return 1==t||0===t},Rt.hyperbolicCosine=Rt.cosh=function(){var t,e,n,r,i,o,s,a=this,u=a.constructor,l=new u(1);if(!a.isFinite())return new u(a.s?1/0:NaN);if(a.isZero())return l;for(e=u.precision,n=u.rounding,u.precision=e+Math.max(a.e,a.sd())+4,u.rounding=1,r=(r=a.d.length)<32?(t=Math.ceil(r/3),Math.pow(4,-t).toString()):(t=16,"2.3283064365386962890625e-10"),a=h(u,1,a.times(r),new u(1),!0),o=t,s=new u(8);o--;)i=a.times(a),a=l.minus(i.times(s.minus(i.times(s))));return O(a,u.precision=e,u.rounding=n,!0)},Rt.hyperbolicSine=Rt.sinh=function(){var t,e,n,r=(s=this).constructor;if(!s.isFinite()||s.isZero())return new r(s);if(t=r.precision,e=r.rounding,r.precision=t+Math.max(s.e,s.sd())+4,r.rounding=1,(n=s.d.length)<3)s=h(r,2,s,s,!0);else for(var i,o=16<(o=1.4*Math.sqrt(n))?16:0|o,s=h(r,2,s=s.times(Math.pow(5,-o)),s,!0),a=new r(5),u=new r(16),l=new r(20);o--;)i=s.times(s),s=s.times(a.plus(i.times(u.times(i).plus(l))));return O(s,r.precision=t,r.rounding=e,!0)},Rt.hyperbolicTangent=Rt.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,gt(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},Rt.inverseCosine=Rt.acos=function(){var t=this,e=t.constructor,n=t.abs().cmp(1),r=e.precision,i=e.rounding;return-1!==n?0===n?t.isNeg()?m(e,r,i):new e(0):new e(NaN):t.isZero()?m(e,r+4,i).times(.5):(e.precision=r+6,e.rounding=1,t=t.asin(),n=m(e,r+4,i).times(.5),e.precision=r,e.rounding=i,n.minus(t))},Rt.inverseHyperbolicCosine=Rt.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Ct=!1,n=n.times(n).minus(1).sqrt().plus(n),Ct=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},Rt.inverseHyperbolicSine=Rt.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Ct=!1,n=n.times(n).plus(1).sqrt().plus(n),Ct=!0,r.precision=t,r.rounding=e,n.ln())},Rt.inverseHyperbolicTangent=Rt.atanh=function(){var t,e,n,r=this,i=r.constructor;return r.isFinite()?0<=r.e?new i(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(t=i.precision,e=i.rounding,n=r.sd(),Math.max(n,t)<2*-r.e-1?O(new i(r),t,e,!0):(i.precision=n=n-r.e,r=gt(r.plus(1),new i(1).minus(r),n+t,1),i.precision=t+4,i.rounding=1,r=r.ln(),i.precision=t,i.rounding=e,r.times(.5))):new i(NaN)},Rt.inverseSine=Rt.asin=function(){var t,e,n,r=this,i=r.constructor;return r.isZero()?new i(r):(t=r.abs().cmp(1),e=i.precision,n=i.rounding,-1!==t?0===t?((t=m(i,e+4,n).times(.5)).s=r.s,t):new i(NaN):(i.precision=e+6,i.rounding=1,r=r.div(new i(1).minus(r.times(r)).sqrt().plus(1)).atan(),i.precision=e,i.rounding=n,r.times(2)))},Rt.inverseTangent=Rt.atan=function(){var t,e,n,r,i,o,s,a,u,l=this,c=l.constructor,g=c.precision,h=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&g+4<=Lt)return(s=m(c,g+4,h).times(.25)).s=l.s,s}else{if(!l.s)return new c(NaN);if(g+4<=Lt)return(s=m(c,g+4,h).times(.5)).s=l.s,s}for(c.precision=a=g+10,c.rounding=1,t=n=Math.min(28,a/At+2|0);t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Ct=!1,e=Math.ceil(a/At),r=1,u=l.times(l),s=new c(l),i=l;-1!==t;)if(i=i.times(u),o=s.minus(i.div(r+=2)),i=i.times(u),void 0!==(s=o.plus(i.div(r+=2))).d[e])for(t=e;s.d[t]===o.d[t]&&t--;);return n&&(s=s.times(2<<n-1)),Ct=!0,O(s,c.precision=g,c.rounding=h,!0)},Rt.isFinite=function(){return!!this.d},Rt.isInteger=Rt.isInt=function(){return!!this.d&&bt(this.e/At)>this.d.length-2},Rt.isNaN=function(){return!this.s},Rt.isNegative=Rt.isNeg=function(){return this.s<0},Rt.isPositive=Rt.isPos=function(){return 0<this.s},Rt.isZero=function(){return!!this.d&&0===this.d[0]},Rt.lessThan=Rt.lt=function(t){return this.cmp(t)<0},Rt.lessThanOrEqualTo=Rt.lte=function(t){return this.cmp(t)<1},Rt.logarithm=Rt.log=function(t){var e,n,r,i,o,s,a,u,l=this,c=l.constructor,g=c.precision,h=c.rounding;if(null==t)t=new c(10),e=!0;else{if(n=(t=new c(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new c(n&&!n[0]?-1/0:1!=l.s?NaN:n?0:1/0);if(e)if(1<n.length)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(Ct=!1,s=v(l,a=g+5),r=e?w(c,a+10):v(t,a),x((u=gt(s,r,a,1)).d,i=g,h))do{if(s=v(l,a+=10),r=e?w(c,a+10):v(t,a),u=gt(s,r,a,1),!o){+C(u.d).slice(i+1,i+15)+1==1e14&&(u=O(u,g+1,0));break}}while(x(u.d,i+=10,h));return Ct=!0,O(u,g,h)},Rt.minus=Rt.sub=function(t){var e,n,r,i,o,s,a,u,l,c,g,h=this,m=h.constructor;if(t=new m(t),!h.d||!t.d)return h.s&&t.s?h.d?t.s=-t.s:t=new m(t.d||h.s!==t.s?h:NaN):t=new m(NaN),t;if(h.s!=t.s)return t.s=-t.s,h.plus(t);if(l=h.d,g=t.d,a=m.precision,u=m.rounding,!l[0]||!g[0]){if(g[0])t.s=-t.s;else{if(!l[0])return new m(3===u?-0:0);t=new m(h)}return Ct?O(t,a,u):t}if(n=bt(t.e/At),h=bt(h.e/At),l=l.slice(),o=h-n){for(s=(c=o<0)?(e=l,o=-o,g.length):(e=g,n=h,l.length),(r=Math.max(Math.ceil(a/At),s)+2)<o&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((c=(r=l.length)<(s=g.length))&&(s=r),r=0;r<s;r++)if(l[r]!=g[r]){c=l[r]<g[r];break}o=0}for(c&&(e=l,l=g,g=e,t.s=-t.s),s=l.length,r=g.length-s;0<r;--r)l[s++]=0;for(r=g.length;o<r;){if(l[--r]<g[r]){for(i=r;i&&0===l[--i];)l[i]=Ot-1;--l[i],l[r]+=Ot}l[r]-=g[r]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=p(l,n),Ct?O(t,a,u):t):new m(3===u?-0:0)},Rt.modulo=Rt.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?O(new r(n),r.precision,r.rounding):(Ct=!1,9==r.modulo?(e=gt(n,t.abs(),0,3,1)).s*=t.s:e=gt(n,t,0,r.modulo,1),e=e.times(t),Ct=!0,n.minus(e))},Rt.naturalExponential=Rt.exp=function(){return g(this)},Rt.naturalLogarithm=Rt.ln=function(){return v(this)},Rt.negated=Rt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,O(t)},Rt.plus=Rt.add=function(t){var e,n,r,i,o,s,a,u,l=this,c=l.constructor;if(t=new c(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new c(t.d||l.s===t.s?l:NaN)):t=new c(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(a=l.d,u=t.d,o=c.precision,s=c.rounding,!a[0]||!u[0])return u[0]||(t=new c(l)),Ct?O(t,o,s):t;if(c=bt(l.e/At),l=bt(t.e/At),a=a.slice(),r=c-l){for((i=(i=r<0?(n=a,r=-r,u.length):(n=u,l=c,a.length))<(c=Math.ceil(o/At))?c+1:i+1)<r&&(r=i,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for((i=a.length)-(r=u.length)<0&&(r=i,n=u,u=a,a=n),e=0;r;)e=(a[--r]=a[r]+u[r]+e)/Ot|0,a[r]%=Ot;for(e&&(a.unshift(e),++l),i=a.length;0==a[--i];)a.pop();return t.d=a,t.e=p(a,l),Ct?O(t,o,s):t},Rt.precision=Rt.sd=function(t){var e;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(wt+t);return this.d?(e=S(this.d),t&&this.e+1>e&&(e=this.e+1)):e=NaN,e},Rt.round=function(){var t=this.constructor;return O(new t(this),this.e+1,t.rounding)},Rt.sine=Rt.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+At,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return h(t,2,e,e);n=16<(n=1.4*Math.sqrt(r))?16:0|n,e=h(t,2,e=e.times(Math.pow(5,-n)),e);for(var i,o=new t(5),s=new t(16),a=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(s.times(i).minus(a))));return e}(r,i(r,n)),r.precision=t,r.rounding=e,O(2<ct?n.neg():n,t,e,!0)):new r(NaN)},Rt.squareRoot=Rt.sqrt=function(){var t,e,n,r,i,o,s=this,a=s.d,u=s.e,l=s.s,c=s.constructor;if(1!==l||!a||!a[0])return new c(!l||l<0&&(!a||a[0])?NaN:a?s:1/0);for(Ct=!1,r=0==(l=Math.sqrt(+s))||l==1/0?(((e=C(a)).length+u)%2==0&&(e+="0"),l=Math.sqrt(e),u=bt((u+1)/2)-(u<0||u%2),new c(e=l==1/0?"1e"+u:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+u)):new c(l.toString()),n=(u=c.precision)+3;;)if(r=(o=r).plus(gt(s,o,n+2,1)).times(.5),C(o.d).slice(0,n)===(e=C(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(O(r,u+1,1),t=!r.times(r).eq(s));break}if(!i&&(O(o,u+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}return Ct=!0,O(r,u,c.rounding,t)},Rt.tangent=Rt.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=gt(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,O(2==ct||4==ct?n.neg():n,t,e,!0)):new r(NaN)},Rt.times=Rt.mul=function(t){var e,n,r,i,o,s,a,u,l,c=this.constructor,g=this.d,h=(t=new c(t)).d;if(t.s*=this.s,!(g&&g[0]&&h&&h[0]))return new c(!t.s||g&&!g[0]&&!h||h&&!h[0]&&!g?NaN:g&&h?0*t.s:t.s/0);for(n=bt(this.e/At)+bt(t.e/At),(u=g.length)<(l=h.length)&&(o=g,g=h,h=o,s=u,u=l,l=s),o=[],r=s=u+l;r--;)o.push(0);for(r=l;0<=--r;){for(e=0,i=u+r;r<i;)a=o[i]+h[r]*g[i-r-1]+e,o[i--]=a%Ot|0,e=a/Ot|0;o[i]=(o[i]+e)%Ot|0}for(;!o[--s];)o.pop();for(e?++n:o.shift(),r=o.length;!o[--r];)o.pop();return t.d=o,t.e=p(o,n),Ct?O(t,c.precision,c.rounding):t},Rt.toBinary=function(t,e){return n(this,2,t,e)},Rt.toDecimalPlaces=Rt.toDP=function(t,e){var n=this.constructor,r=new n(this);return void 0===t?r:(f(t,0,mt),void 0===e?e=n.rounding:f(e,0,8),O(r,t+r.e+1,e))},Rt.toExponential=function(t,e){var n=this,r=n.constructor,t=void 0===t?y(n,!0):(f(t,0,mt),void 0===e?e=r.rounding:f(e,0,8),y(n=O(new r(n),t+1,e),!0,t+1));return n.isNeg()&&!n.isZero()?"-"+t:t},Rt.toFixed=function(t,e){var n=this,r=n.constructor,i=void 0===t?y(n):(f(t,0,mt),void 0===e?e=r.rounding:f(e,0,8),y(i=O(new r(n),t+n.e+1,e),!1,t+i.e+1));return n.isNeg()&&!n.isZero()?"-"+i:i},Rt.toFraction=function(t){var e,n,r,i,o,s,a,u,l,c,g=this,h=g.d,m=g.constructor;if(!h)return new m(g);if(u=n=new m(1),r=a=new m(0),o=(e=new m(r)).e=S(h)-g.e-1,e.d[0]=Bt(10,(l=o%At)<0?At+l:l),null==t)t=0<o?e:u;else{if(!(s=new m(t)).isInt()||s.lt(u))throw Error(wt+s);t=s.gt(e)?0<o?e:u:s}for(Ct=!1,s=new m(C(h)),l=m.precision,m.precision=o=h.length*At*2;c=gt(s,e,0,1,1),1!=(i=n.plus(c.times(r))).cmp(t);)n=r,r=i,i=u,u=a.plus(c.times(i)),a=i,i=e,e=s.minus(c.times(i)),s=i;return i=gt(t.minus(n),r,0,1,1),a=a.plus(i.times(u)),n=n.plus(i.times(r)),a.s=u.s=g.s,g=gt(u,r,o,1).minus(g).abs().cmp(gt(a,n,o,1).minus(g).abs())<1?[u,r]:[a,n],m.precision=l,Ct=!0,g},Rt.toHexadecimal=Rt.toHex=function(t,e){return n(this,16,t,e)},Rt.toJSON=function(){var t,e,n,r,i,o,s,a=this,u=a.s<0;if(!a.d)return ft.charAt(a.s?u?82:83:84);if(e=a.e,1===a.d.length&&e<4&&0<=e&&(o=a.d[0])<2857)return o<41?ft.charAt(u?o+41:o):(o-=41,u&&(o+=2816),ft.charAt(r=o/88|0)+ft.charAt(o-88*r));if(a=C(a.d),s="",!u&&e<=8&&-7<=e)r=64+e+7;else if(u&&e<=4&&-3<=e)r=80+e+3;else if(a.length===e+1)r=32*u;else if(r=32*u+16*(e<0),(e=Math.abs(e))<88)r+=1,s=ft.charAt(e);else if(e<7744)r+=2,s=ft.charAt(o=e/88|0)+ft.charAt(e-88*o);else for(r+=i=(t=d(String(e),10,88)).length,n=0;n<i;n++)s+=ft.charAt(t[n]);for(s=ft.charAt(r)+s,i=(t=d(a,10,88)).length,n=0;n<i;n++)s+=ft.charAt(t[n]);return s},Rt.toNearest=function(t,e){var n=(r=this).constructor,r=new n(r);if(null==t){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),void 0!==e&&f(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Ct=!1,r=gt(r,t,0,e=e<4?[4,5,7,8][e]:e,1).times(t),Ct=!0,O(r)):(t.s=r.s,r=t),r},Rt.toNumber=function(){return+this},Rt.toOctal=function(t,e){return n(this,8,t,e)},Rt.toPower=Rt.pow=function(t){var e,n,r,i,o,s,a=this,u=a.constructor,l=+(t=new u(t));if(!(a.d&&t.d&&a.d[0]&&t.d[0]))return new u(Bt(+a,l));if((a=new u(a)).eq(1))return a;if(r=u.precision,o=u.rounding,t.eq(1))return O(a,r,o);if(e=bt(t.e/At),n=t.d.length-1,s=a.s,n<=e){if((n=l<0?-l:l)<=9007199254740991)return i=c(u,a,n,r),t.s<0?new u(1).div(i):O(i,r,o)}else if(s<0)return new u(NaN);return s=s<0&&1&t.d[Math.max(e,n)]?-1:1,(e=0!=(n=Bt(+a,l))&&isFinite(n)?new u(n+"").e:bt(l*(Math.log("0."+C(a.d))/Math.LN10+a.e+1)))>u.maxE+1||e<u.minE-1?new u(0<e?s/0:0):(Ct=!1,u.rounding=a.s=1,n=Math.min(12,(e+"").length),x((i=O(i=g(t.times(v(a,r+n)),r),r+5,1)).d,r,o)&&(+C((i=O(g(t.times(v(a,(e=r+10)+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=O(i,r+1,0))),i.s=s,Ct=!0,O(i,r,u.rounding=o))},Rt.toPrecision=function(t,e){var n=this,r=n.constructor,t=void 0===t?y(n,n.e<=r.toExpNeg||n.e>=r.toExpPos):(f(t,1,mt),void 0===e?e=r.rounding:f(e,0,8),y(n=O(new r(n),t,e),t<=n.e||n.e<=r.toExpNeg,t));return n.isNeg()&&!n.isZero()?"-"+t:t},Rt.toSignificantDigits=Rt.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(f(t,1,mt),void 0===e?e=n.rounding:f(e,0,8)),O(new n(this),t,e)},Rt.toString=function(){var t=this,e=t.constructor,e=y(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+e:e},Rt.truncated=Rt.trunc=function(){return O(new this.constructor(this),this.e+1,1)},Rt.valueOf=function(){var t=this,e=t.constructor,e=y(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+e:e},gt=function(t,e,n,r,i,o){var s,a,u,l,c,g,h,m,f,d,y,p,S,C,x,w,v,b,B,I=t.constructor,$=t.s==e.s?1:-1,_=t.d,E=e.d;if(!(_&&_[0]&&E&&E[0]))return new I(t.s&&e.s&&(_?!E||_[0]!=E[0]:E)?_&&0==_[0]||!E?0*$:$/0:NaN);for(a=o?(c=1,t.e-e.e):(o=Ot,bt(t.e/(c=At))-bt(e.e/c)),b=E.length,w=_.length,f=($=new I($)).d=[],u=0;E[u]==(_[u]||0);u++);if(E[u]>(_[u]||0)&&a--,null==n?(S=n=I.precision,r=I.rounding):S=i?n+(t.e-e.e)+1:n,S<0)f.push(1),g=!0;else{if(S=S/c+2|0,u=0,1==b){for(E=E[l=0],S++;(u<w||l)&&S--;u++)C=l*o+(_[u]||0),f[u]=C/E|0,l=C%E|0;g=l||u<w}else{for(1<(l=o/(E[0]+1)|0)&&(E=Nt(E,l,o),_=Nt(_,l,o),b=E.length,w=_.length),x=b,y=(d=_.slice(0,b)).length;y<b;)d[y++]=0;for((B=E.slice()).unshift(0),v=E[0],E[1]>=o/2&&++v;l=0,(s=kt(E,d,b,y))<0?(p=d[0],1<(l=(p=b!=y?p*o+(d[1]||0):p)/v|0)?1==(s=kt(h=Nt(E,l=o<=l?o-1:l,o),d,m=h.length,y=d.length))&&(l--,Dt(h,b<m?B:E,m,o)):(0==l&&(s=l=1),h=E.slice()),(m=h.length)<y&&h.unshift(0),Dt(d,h,y,o),-1==s&&((s=kt(E,d,b,y=d.length))<1&&(l++,Dt(d,b<y?B:E,y,o))),y=d.length):0===s&&(l++,d=[0]),f[u++]=l,s&&d[0]?d[y++]=_[x]||0:(d=[_[x]],y=1),(x++<w||void 0!==d[0])&&S--;);g=void 0!==d[0]}f[0]||f.shift()}if(1==c)$.e=a,lt=g;else{for(u=1,l=f[0];10<=l;l/=10)u++;$.e=u+a*c-1,O($,i?n+$.e+1:n,r,g)}return $},pt=M(pt),dt=new pt(dt),yt=new pt(yt),Bridge.$Decimal=pt,"function"==typeof define&&define.amd)define(function(){return pt});else if("undefined"!=typeof module&&module.exports){if(module.exports=pt,!St)try{St=require("crypto")}catch(t){}}else t=t||("undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),r=t.Decimal,pt.noConflict=function(){return t.Decimal=r,pt},t.Decimal=pt;function Nt(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function kt(t,e,n,r){var i,o;if(n!=r)o=r<n?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function Dt(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&1<t.length;)t.shift()}}(Bridge.global),System.Decimal=function(t,e,n){var r;if(this.constructor!==System.Decimal)return new System.Decimal(t,e,n);if("string"==typeof(t=null==t?0:t)){if((r=(e=e||System.Globalization.CultureInfo.getCurrentCulture())&&e.getFormat(System.Globalization.NumberFormatInfo))&&"."!==r.numberDecimalSeparator&&(t=t.replace(r.numberDecimalSeparator,".")),!/^\s*[+-]?(\d+|\d+.|\d*\.\d+)((e|E)[+-]?\d+)?\s*$/.test(t))throw new System.FormatException;t=t.replace(/\s/g,"")}n&&n.precision&&"number"==typeof t&&(r=Bridge.Int.trunc(t),r=n.precision-(r+"").length,t=t.toFixed(r=r<0?0:r)),this.value=System.Decimal.getValue(t)},System.Decimal.$$name="System.Decimal",System.Decimal.prototype.$$name="System.Decimal",System.Decimal.$kind="struct",System.Decimal.prototype.$kind="struct",System.Decimal.$$inherits=[],Bridge.Class.addExtend(System.Decimal,[System.IComparable,System.IFormattable,System.IComparable$1(System.Decimal),System.IEquatable$1(System.Decimal)]),System.Decimal.$is=function(t){return t instanceof System.Decimal},System.Decimal.getDefaultValue=function(){return new System.Decimal(0)},System.Decimal.getValue=function(t){return Bridge.hasValue(t)?t instanceof System.Decimal?t.value:t instanceof System.Int64||t instanceof System.UInt64?new Bridge.$Decimal(t.toString()):new Bridge.$Decimal(t):this.getDefaultValue()},System.Decimal.create=function(t){return Bridge.hasValue(t)?t instanceof System.Decimal?t:new System.Decimal(t):null},System.Decimal.lift=function(t){return null==t?null:System.Decimal.create(t)},System.Decimal.prototype.toString=function(t,e){return t||e?Bridge.Int.format(this,t,e):this.value.toString()},System.Decimal.prototype.toFloat=function(){return this.value.toNumber()},System.Decimal.prototype.toJSON=function(){return this.value.toNumber()},System.Decimal.prototype.format=function(t,e){return Bridge.Int.format(this.toFloat(),t,e)},System.Decimal.prototype.decimalPlaces=function(){return this.value.decimalPlaces()},System.Decimal.prototype.dividedToIntegerBy=function(t){return new System.Decimal(this.value.dividedToIntegerBy(System.Decimal.getValue(t)))},System.Decimal.prototype.exponential=function(){return new System.Decimal(this.value.exponential())},System.Decimal.prototype.abs=function(){return new System.Decimal(this.value.abs())},System.Decimal.prototype.floor=function(){return new System.Decimal(this.value.floor())},System.Decimal.prototype.ceil=function(){return new System.Decimal(this.value.ceil())},System.Decimal.prototype.trunc=function(){return new System.Decimal(this.value.trunc())},System.Decimal.round=function(t,e){var n;return t=System.Decimal.create(t),n=Bridge.$Decimal.rounding,Bridge.$Decimal.rounding=e,t=new System.Decimal(t.value.round()),Bridge.$Decimal.rounding=n,t},System.Decimal.toDecimalPlaces=function(t,e,n){return t=System.Decimal.create(t),new System.Decimal(t.value.toDecimalPlaces(e,n))},System.Decimal.prototype.compareTo=function(t){return this.value.comparedTo(System.Decimal.getValue(t))},System.Decimal.prototype.add=function(t){return new System.Decimal(this.value.plus(System.Decimal.getValue(t)))},System.Decimal.prototype.sub=function(t){return new System.Decimal(this.value.minus(System.Decimal.getValue(t)))},System.Decimal.prototype.isZero=function(){return this.value.isZero},System.Decimal.prototype.mul=function(t){return new System.Decimal(this.value.times(System.Decimal.getValue(t)))},System.Decimal.prototype.div=function(t){return new System.Decimal(this.value.dividedBy(System.Decimal.getValue(t)))},System.Decimal.prototype.mod=function(t){return new System.Decimal(this.value.modulo(System.Decimal.getValue(t)))},System.Decimal.prototype.neg=function(){return new System.Decimal(this.value.negated())},System.Decimal.prototype.inc=function(){return new System.Decimal(this.value.plus(System.Decimal.getValue(1)))},System.Decimal.prototype.dec=function(){return new System.Decimal(this.value.minus(System.Decimal.getValue(1)))},System.Decimal.prototype.sign=function(){return this.value.isZero()?0:this.value.isNegative()?-1:1},System.Decimal.prototype.clone=function(){return new System.Decimal(this)},System.Decimal.prototype.ne=function(t){return!!this.compareTo(t)},System.Decimal.prototype.lt=function(t){return this.compareTo(t)<0},System.Decimal.prototype.lte=function(t){return this.compareTo(t)<=0},System.Decimal.prototype.gt=function(t){return 0<this.compareTo(t)},System.Decimal.prototype.gte=function(t){return 0<=this.compareTo(t)},System.Decimal.prototype.equals=function(t){return!this.compareTo(t)},System.Decimal.prototype.equalsT=function(t){return!this.compareTo(t)},System.Decimal.prototype.getHashCode=function(){for(var t=397*this.sign()+this.value.e|0,e=0;e<this.value.d.length;e++)t=397*t+this.value.d[e]|0;return t},System.Decimal.toInt=function(t,e){var n,r;if(!t)return null;if(e){if(e===System.Int64){if((n=t.value.trunc().toString())!==(r=new System.Int64(n)).value.toString())throw new System.OverflowException;return r}if(e!==System.UInt64)return Bridge.Int.check(Bridge.Int.trunc(t.value.toNumber()),e);if(t.value.isNegative())throw new System.OverflowException;if((n=t.value.trunc().toString())!==(r=new System.UInt64(n)).value.toString())throw new System.OverflowException;return r}if(t=Bridge.Int.trunc(System.Decimal.getValue(t).toNumber()),!Bridge.Int.$is(t))throw new System.OverflowException;return t},System.Decimal.tryParse=function(t,e,n){try{return n.v=new System.Decimal(t,e),!0}catch(t){return n.v=new System.Decimal(0),!1}},System.Decimal.toFloat=function(t){return t?System.Decimal.getValue(t).toNumber():null},System.Decimal.setConfig=function(t){Bridge.$Decimal.config(t)},System.Decimal.min=function(){for(var t=[],e=0,n=arguments.length;e<n;e++)t.push(System.Decimal.getValue(arguments[e]));return new System.Decimal(Bridge.$Decimal.min.apply(Bridge.$Decimal,t))},System.Decimal.max=function(){for(var t=[],e=0,n=arguments.length;e<n;e++)t.push(System.Decimal.getValue(arguments[e]));return new System.Decimal(Bridge.$Decimal.max.apply(Bridge.$Decimal,t))},System.Decimal.random=function(t){return new System.Decimal(Bridge.$Decimal.random(t))},System.Decimal.exp=function(t){return new System.Decimal(System.Decimal.getValue(t).exp())},System.Decimal.exp=function(t){return new System.Decimal(System.Decimal.getValue(t).exp())},System.Decimal.ln=function(t){return new System.Decimal(System.Decimal.getValue(t).ln())},System.Decimal.log=function(t,e){return new System.Decimal(System.Decimal.getValue(t).log(e))},System.Decimal.pow=function(t,e){return new System.Decimal(System.Decimal.getValue(t).pow(e))},System.Decimal.sqrt=function(t){return new System.Decimal(System.Decimal.getValue(t).sqrt())},System.Decimal.prototype.isFinite=function(){return this.value.isFinite()},System.Decimal.prototype.isInteger=function(){return this.value.isInteger()},System.Decimal.prototype.isNaN=function(){return this.value.isNaN()},System.Decimal.prototype.isNegative=function(){return this.value.isNegative()},System.Decimal.prototype.isZero=function(){return this.value.isZero()},System.Decimal.prototype.log=function(t){return new System.Decimal(this.value.log(t))},System.Decimal.prototype.ln=function(){return new System.Decimal(this.value.ln())},System.Decimal.prototype.precision=function(){return this.value.precision()},System.Decimal.prototype.round=function(){var t,e=Bridge.$Decimal.rounding;return Bridge.$Decimal.rounding=6,t=new System.Decimal(this.value.round()),Bridge.$Decimal.rounding=e,t},System.Decimal.prototype.sqrt=function(){return new System.Decimal(this.value.sqrt())},System.Decimal.prototype.toDecimalPlaces=function(t,e){return new System.Decimal(this.value.toDecimalPlaces(t,e))},System.Decimal.prototype.toExponential=function(t,e){return this.value.toExponential(t,e)},System.Decimal.prototype.toFixed=function(t,e){return this.value.toFixed(t,e)},System.Decimal.prototype.pow=function(t){return new System.Decimal(this.value.pow(t))},System.Decimal.prototype.toPrecision=function(t,e){return this.value.toPrecision(t,e)},System.Decimal.prototype.toSignificantDigits=function(t,e){return new System.Decimal(this.value.toSignificantDigits(t,e))},System.Decimal.prototype.valueOf=function(){return this.value.valueOf()},System.Decimal.prototype.toFormat=function(t,e,n){var r,i=Bridge.$Decimal.format,e=(n&&!n.getFormat?(r=Bridge.merge({},i||{}),Bridge.$Decimal.format=Bridge.merge(r,n)):(n=(n=n||System.Globalization.CultureInfo.getCurrentCulture())&&n.getFormat(System.Globalization.NumberFormatInfo))&&(Bridge.$Decimal.format.decimalSeparator=n.numberDecimalSeparator,Bridge.$Decimal.format.groupSeparator=n.numberGroupSeparator,Bridge.$Decimal.format.groupSize=n.numberGroupSizes[0]),this.value.toFormat(t,e));return Bridge.$Decimal.format=i,e},Bridge.$Decimal.config({precision:29}),System.Decimal.Zero=System.Decimal(0),System.Decimal.One=System.Decimal(1),System.Decimal.MinusOne=System.Decimal(-1),System.Decimal.MinValue=System.Decimal("-79228162514264337593543950335"),System.Decimal.MaxValue=System.Decimal("79228162514264337593543950335"),System.Decimal.precision=29,Bridge.define("System.DayOfWeek",{$kind:"enum",$statics:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6}}),Bridge.Date={getDefaultValue:function(){return new Date(-864e13)},utcNow:function(){var t=new Date;return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())},today:function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())},timeOfDay:function(t){return new System.TimeSpan(1e4*(t-new Date(t.getFullYear(),t.getMonth(),t.getDate())))},isUseGenitiveForm:function(t,e,n,r){for(var i=0,o=e-1;0<=o&&t[o]!==r;o--);if(0<=o){for(;0<=--o&&t[o]===r;)i++;if(i<=1)return!0}for(o=e+n;o<t.length&&t[o]!==r;o++);if(o<t.length){for(i=0;++o<t.length&&t[o]===r;)i++;if(i<=1)return!0}return!1},format:function(t,i,e){var o=this,s=(e||System.Globalization.CultureInfo.getCurrentCulture()).getFormat(System.Globalization.DateTimeFormatInfo),a=t.getFullYear(),u=t.getMonth(),l=t.getDate(),c=t.getDay(),g=t.getHours(),h=t.getMinutes(),m=t.getSeconds(),f=t.getMilliseconds(),d=t.getTimezoneOffset();return 1===(i=i||"G").length?(t=s.getAllDateTimePatterns(i,!0),i=t?t[0]:i):2===i.length&&"%"===i.charAt(0)&&(i=i.charAt(1)),i.replace(/(\\.|'[^']*'|"[^"]*"|d{1,4}|M{1,4}|yyyy|yy|y|HH?|hh?|mm?|ss?|tt?|f{1,3}|z{1,3}|\:|\/)/g,function(t,e,n){var r=t;switch(t){case"dddd":r=s.dayNames[c];break;case"ddd":r=s.abbreviatedDayNames[c];break;case"dd":r=l<10?"0"+l:l;break;case"d":r=l;break;case"MMMM":r=(o.isUseGenitiveForm(i,n,4,"d")?s.monthGenitiveNames:s.monthNames)[u];break;case"MMM":r=(o.isUseGenitiveForm(i,n,3,"d")?s.abbreviatedMonthGenitiveNames:s.abbreviatedMonthNames)[u];break;case"MM":r=u+1<10?"0"+(u+1):u+1;break;case"M":r=u+1;break;case"yyyy":r=a;break;case"yy":1===(r=(a%100).toString()).length&&(r="0"+r);break;case"y":r=a%100;break;case"h":case"hh":(r=g%12)?"hh"===t&&1===r.length&&(r="0"+r):r="12";break;case"HH":1===(r=g.toString()).length&&(r="0"+r);break;case"H":r=g;break;case"mm":1===(r=h.toString()).length&&(r="0"+r);break;case"m":r=h;break;case"ss":1===(r=m.toString()).length&&(r="0"+r);break;case"s":r=m;break;case"t":case"tt":r=g<12?s.amDesignator:s.pmDesignator,"t"===t&&(r=r.charAt(0));break;case"f":case"ff":case"fff":(r=f.toString()).length<3&&(r=Array(3-r.length).join("0")+r),"ff"===t?r=r.substr(0,2):"f"===t&&(r=r.charAt(0));break;case"z":r=(0<=(r=d/60)?"-":"+")+Math.floor(Math.abs(r));break;case"zz":case"zzz":r=(0<=(r=d/60)?"-":"+")+System.String.alignString(Math.floor(Math.abs(r)).toString(),2,"0",2),"zzz"===t&&(r+=s.timeSeparator+System.String.alignString(Math.floor(Math.abs(d%60)).toString(),2,"0",2));break;case":":r=s.timeSeparator;break;case"/":r=s.dateSeparator;break;default:r=t.substr(1,t.length-1-("\\"!==t.charAt(0)))}return r})},parse:function(t,e,n,r){n=this.parseExact(t,null,e,n,!0);if(null!==n)return n;if(n=Date.parse(t),!isNaN(n))return new Date(n);if(!r)throw new System.FormatException("String does not contain a valid string representation of a date and time.")},parseExact:function(t,e,n,r,i){var o,s;if(e=e||["G","g","F","f","D","d","R","r","s","S","U","u","O","o","Y","y","M","m","T","t"],Bridge.isArray(e)){for(o=0;o<e.length;o++)if(null!=(s=Bridge.Date.parseExact(t,e[o],n,r,!0)))return s;if(i)return null;throw new System.FormatException("String does not contain a valid string representation of a date and time.")}var a,u,l,c,g,h,m,f,d,y=(n||System.Globalization.CultureInfo.getCurrentCulture()).getFormat(System.Globalization.DateTimeFormatInfo),p=y.amDesignator,S=y.pmDesignator,C=0,x=0,w=0,v=0,b=1,B=1,I=0,$=0,_=0,E=0,O="",A=0,T=0,L=!1,R=!1;if(null==t)throw new System.ArgumentNullException("str");for(1===(e=e||"G").length?e=(d=y.getAllDateTimePatterns(e,!0))?d[0]:e:2===e.length&&"%"===e.charAt(0)&&(e=e.charAt(1));x<e.length;){if(a=e.charAt(x),u="","\\"===R)u+=a,x++;else for(;e.charAt(x)===a&&x<e.length;)u+=a,x++;if(f=!0,!R)if("yyyy"===u||"yy"===u||"y"===u){if("yyyy"===u?v=this.subparseInt(t,C,4,4):"yy"===u?v=this.subparseInt(t,C,2,2):"y"===u&&(v=this.subparseInt(t,C,2,4)),null==v){L=!0;break}C+=v.length,2===v.length&&(v=(30<(v=~~v)?1900:2e3)+v)}else if("MMM"===u||"MMMM"===u){for(b=0,h="MMM"===u?this.isUseGenitiveForm(e,x,3,"d")?y.abbreviatedMonthGenitiveNames:y.abbreviatedMonthNames:this.isUseGenitiveForm(e,x,4,"d")?y.monthGenitiveNames:y.monthNames,w=0;w<h.length;w++)if(m=h[w],t.substring(C,C+m.length).toLowerCase()===m.toLowerCase()){b=w%12+1,C+=m.length;break}if(b<1||12<b){L=!0;break}}else if("MM"===u||"M"===u){if(null==(b=this.subparseInt(t,C,u.length,2))||b<1||12<b){L=!0;break}C+=b.length}else if("dddd"===u||"ddd"===u){for(h="ddd"===u?y.abbreviatedDayNames:y.dayNames,w=0;w<h.length;w++)if(m=h[w],t.substring(C,C+m.length).toLowerCase()===m.toLowerCase()){C+=m.length;break}}else if("dd"===u||"d"===u){if(null==(B=this.subparseInt(t,C,u.length,2))||B<1||31<B){L=!0;break}C+=B.length}else if("hh"===u||"h"===u){if(null==(I=this.subparseInt(t,C,u.length,2))||I<1||12<I){L=!0;break}C+=I.length}else if("HH"===u||"H"===u){if(null==(I=this.subparseInt(t,C,u.length,2))||I<0||23<I){L=!0;break}C+=I.length}else if("mm"===u||"m"===u){if(null==($=this.subparseInt(t,C,u.length,2))||$<0||59<$)return null;C+=$.length}else if("ss"===u||"s"===u){if(null==(_=this.subparseInt(t,C,u.length,2))||_<0||59<_){L=!0;break}C+=_.length}else if("u"===u){if(null==(E=this.subparseInt(t,C,1,7))){L=!0;break}C+=E.length,3<E.length&&(E=E.substring(0,3))}else if("fffffff"===u||"ffffff"===u||"fffff"===u||"ffff"===u||"fff"===u||"ff"===u||"f"===u){if(null==(E=this.subparseInt(t,C,u.length,7))){L=!0;break}C+=E.length,3<E.length&&(E=E.substring(0,3))}else if("t"===u){if(t.substring(C,C+1).toLowerCase()===p.charAt(0).toLowerCase())O=p;else{if(t.substring(C,C+1).toLowerCase()!==S.charAt(0).toLowerCase()){L=!0;break}O=S}C+=1}else if("tt"===u){if(t.substring(C,C+2).toLowerCase()===p.toLowerCase())O=p;else{if(t.substring(C,C+2).toLowerCase()!==S.toLowerCase()){L=!0;break}O=S}C+=2}else if("z"===u||"zz"===u){if("-"===(c=t.charAt(C)))g=!0;else{if("+"!==c){L=!0;break}g=!1}if(C++,null==(A=this.subparseInt(t,C,1,2))||14<A){L=!0;break}C+=A.length,g&&(A=-A)}else if("zzz"===u){if(m=t.substring(C,C+6),C+=6,6!==m.length){L=!0;break}if("-"===(c=m.charAt(0)))g=!0;else{if("+"!==c){L=!0;break}g=!1}if(null==(A=this.subparseInt(m,l=1,1,2))||14<A){L=!0;break}if(l+=A.length,g&&(A=-A),m.charAt(l)!==y.timeSeparator){L=!0;break}if(l++,null==(T=this.subparseInt(m,l,1,2))||59<A){L=!0;break}}else f=!1;if(R||!f){if(m=t.substring(C,C+u.length),!R&&(":"===u&&m!==y.timeSeparator||"/"===u&&m!==y.dateSeparator)||m!==u&&"'"!==u&&'"'!==u&&"\\"!==u){L=!0;break}if("\\"===R&&(R=!1),"'"!==u&&'"'!==u&&"\\"!==u)C+=u.length;else if(!1===R)R=u;else{if(R!==u){L=!0;break}R=!1}}}if((L=R?!0:L)||(C!==t.length?L=!0:2===b?v%4==0&&v%100!=0||v%400==0?29<B&&(L=!0):28<B&&(L=!0):(4===b||6===b||9===b||11===b)&&30<B&&(L=!0)),L){if(i)return null;throw new System.FormatException("String does not contain a valid string representation of a date and time.")}return I<12&&O===S?I=+I+12:11<I&&O===p&&(I-=12),0!==A||0!==T||r?new Date(Date.UTC(v,b-1,B,I-A,$-T,_,E)):new Date(v,b-1,B,I,$,_,E)},subparseInt:function(t,e,n,r){for(var i,o=r;n<=o;o--){if((i=t.substring(e,e+o)).length<n)return null;if(/^\d+$/.test(i))return i}return null},tryParse:function(t,e,n,r){return n.v=this.parse(t,e,r,!0),null!=n.v||(n.v=new Date(-864e13),!1)},tryParseExact:function(t,e,n,r,i){return r.v=this.parseExact(t,e,n,i,!0),null!=r.v||(r.v=new Date(-864e13),!1)},isDaylightSavingTime:function(t){var e=Bridge.Date.today();return e.setMonth(0),e.setDate(1),e.getTimezoneOffset()!==t.getTimezoneOffset()},toUTC:function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())},toLocal:function(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},dateAddSubTimespan:function(t,e,n){t=new Date(t.getTime());return t.setDate(t.getDate()+n*e.getDays()),t.setHours(t.getHours()+n*e.getHours()),t.setMinutes(t.getMinutes()+n*e.getMinutes()),t.setSeconds(t.getSeconds()+n*e.getSeconds()),t.setMilliseconds(t.getMilliseconds()+n*e.getMilliseconds()),t},subdt:function(t,e){return Bridge.hasValue$1(t,e)?this.dateAddSubTimespan(t,e,-1):null},adddt:function(t,e){return Bridge.hasValue$1(t,e)?this.dateAddSubTimespan(t,e,1):null},subdd:function(t,e){return Bridge.hasValue$1(t,e)?new System.TimeSpan(1e4*(t-e)):null},gt:function(t,e){return!!Bridge.hasValue$1(t,e)&&e<t},gte:function(t,e){return!!Bridge.hasValue$1(t,e)&&e<=t},lt:function(t,e){return!!Bridge.hasValue$1(t,e)&&t<e},lte:function(t,e){return!!Bridge.hasValue$1(t,e)&&t<=e}},Bridge.define("System.TimeSpan",{inherits:[System.IComparable],config:{alias:["compareTo","System$IComparable$compareTo"]},$kind:"struct",statics:{fromDays:function(t){return new System.TimeSpan(864e9*t)},fromHours:function(t){return new System.TimeSpan(36e9*t)},fromMilliseconds:function(t){return new System.TimeSpan(1e4*t)},fromMinutes:function(t){return new System.TimeSpan(6e8*t)},fromSeconds:function(t){return new System.TimeSpan(1e7*t)},fromTicks:function(t){return new System.TimeSpan(t)},ctor:function(){this.zero=new System.TimeSpan(System.Int64.Zero),this.maxValue=new System.TimeSpan(System.Int64.MaxValue),this.minValue=new System.TimeSpan(System.Int64.MinValue)},getDefaultValue:function(){return new System.TimeSpan(System.Int64.Zero)},neg:function(t){return Bridge.hasValue(t)?new System.TimeSpan(t.ticks.neg()):null},sub:function(t,e){return Bridge.hasValue$1(t,e)?new System.TimeSpan(t.ticks.sub(e.ticks)):null},eq:function(t,e){return Bridge.hasValue$1(t,e)?t.ticks.eq(e.ticks):null},neq:function(t,e){return Bridge.hasValue$1(t,e)?t.ticks.ne(e.ticks):null},plus:function(t){return Bridge.hasValue(t)?new System.TimeSpan(t.ticks):null},add:function(t,e){return Bridge.hasValue$1(t,e)?new System.TimeSpan(t.ticks.add(e.ticks)):null},gt:function(t,e){return!!Bridge.hasValue$1(t,e)&&t.ticks.gt(e.ticks)},gte:function(t,e){return!!Bridge.hasValue$1(t,e)&&t.ticks.gte(e.ticks)},lt:function(t,e){return!!Bridge.hasValue$1(t,e)&&t.ticks.lt(e.ticks)},lte:function(t,e){return!!Bridge.hasValue$1(t,e)&&t.ticks.lte(e.ticks)}},ctor:function(){this.$initialize(),this.ticks=System.Int64.Zero,1===arguments.length?this.ticks=arguments[0]instanceof System.Int64?arguments[0]:new System.Int64(arguments[0]):3===arguments.length?this.ticks=new System.Int64(arguments[0]).mul(60).add(arguments[1]).mul(60).add(arguments[2]).mul(1e7):4===arguments.length?this.ticks=new System.Int64(arguments[0]).mul(24).add(arguments[1]).mul(60).add(arguments[2]).mul(60).add(arguments[3]).mul(1e7):5===arguments.length&&(this.ticks=new System.Int64(arguments[0]).mul(24).add(arguments[1]).mul(60).add(arguments[2]).mul(60).add(arguments[3]).mul(1e3).add(arguments[4]).mul(1e4))},getTicks:function(){return this.ticks},getDays:function(){return this.ticks.div(864e9).toNumber()},getHours:function(){return this.ticks.div(36e9).mod(24).toNumber()},getMilliseconds:function(){return this.ticks.div(1e4).mod(1e3).toNumber()},getMinutes:function(){return this.ticks.div(6e8).mod(60).toNumber()},getSeconds:function(){return this.ticks.div(1e7).mod(60).toNumber()},getTotalDays:function(){return this.ticks.toNumberDivided(864e9)},getTotalHours:function(){return this.ticks.toNumberDivided(36e9)},getTotalMilliseconds:function(){return this.ticks.toNumberDivided(1e4)},getTotalMinutes:function(){return this.ticks.toNumberDivided(6e8)},getTotalSeconds:function(){return this.ticks.toNumberDivided(1e7)},get12HourHour:function(){return 12<this.getHours()?this.getHours()-12:0===this.getHours()?12:this.getHours()},add:function(t){return new System.TimeSpan(this.ticks.add(t.ticks))},subtract:function(t){return new System.TimeSpan(this.ticks.sub(t.ticks))},duration:function(){return new System.TimeSpan(this.ticks.abs())},negate:function(){return new System.TimeSpan(this.ticks.neg())},compareTo:function(t){return this.ticks.compareTo(t.ticks)},equals:function(t){return t.ticks.eq(this.ticks)},equalsT:function(t){return t.ticks.eq(this.ticks)},format:function(t,e){return this.toString(t,e)},getHashCode:function(){return this.ticks.getHashCode()},toString:function(t,e){function n(t,e,n,r){return System.String.alignString((0|t).toString(),e||2,"0",n||2,r||!1)}var r=this.ticks,i="",o=this,s=(e||System.Globalization.CultureInfo.getCurrentCulture()).getFormat(System.Globalization.DateTimeFormatInfo);return t?t.replace(/(\\.|'[^']*'|"[^"]*"|dd?|HH?|hh?|mm?|ss?|tt?|f{1,7}|\:|\/)/g,function(t){switch(t){case"d":return o.getDays();case"dd":return n(o.getDays());case"H":return o.getHours();case"HH":return n(o.getHours());case"h":return o.get12HourHour();case"hh":return n(o.get12HourHour());case"m":return o.getMinutes();case"mm":return n(o.getMinutes());case"s":return o.getSeconds();case"ss":return n(o.getSeconds());case"t":return(o.getHours()<12?s.amDesignator:s.pmDesignator).substring(0,1);case"tt":return o.getHours()<12?s.amDesignator:s.pmDesignator;case"f":case"ff":case"fff":case"ffff":case"fffff":case"ffffff":case"fffffff":return n(o.getMilliseconds(),t.length,1,!0);default:return t.substr(1,t.length-1-("\\"!==t.charAt(0)))}}):(r.abs().gte(864e9)&&(i+=n(r.toNumberDivided(864e9))+".",r=r.mod(864e9)),i+=n(r.toNumberDivided(36e9))+":",r=r.mod(36e9),i+=n(0|r.toNumberDivided(6e8))+":",r=r.mod(6e8),i+=n(r.toNumberDivided(1e7)),(r=r.mod(1e7)).gt(0)&&(i+="."+n(r.toNumber(),7)),i)}}),Bridge.Class.addExtend(System.TimeSpan,[System.IComparable$1(System.TimeSpan),System.IEquatable$1(System.TimeSpan)]),Bridge.define("System.Text.StringBuilder",{ctor:function(){this.$initialize(),this.buffer=[],this.capacity=16,1===arguments.length?this.append(arguments[0]):2===arguments.length?(this.append(arguments[0]),this.setCapacity(arguments[1])):3===arguments.length&&this.append(arguments[0],arguments[1],arguments[2])},getLength:function(){if(this.buffer.length<2)return this.buffer[0]?this.buffer[0].length:0;var t=this.buffer.join("");return this.buffer=[],(this.buffer[0]=t).length},getCapacity:function(){var t=this.getLength();return this.capacity>t?this.capacity:t},setCapacity:function(t){this.getLength()<t&&(this.capacity=t)},toString:function(){var t,e,n=this.buffer.join("");return this.buffer=[],this.buffer[0]=n,2===arguments.length?(this.checkLimits(n,t=arguments[0],e=arguments[1]),n.substr(t,e)):n},append:function(t){var e,n;if(null==t)return this;if(2===arguments.length){if(0===(n=arguments[1]))return this;if(n<0)throw new System.ArgumentOutOfRangeException("count","cannot be less than zero");t=Array(n+1).join(t).toString()}else if(3===arguments.length){if(e=arguments[1],0===(n=arguments[2]))return this;this.checkLimits(t,e,n),t=t.substr(e,n)}return this.buffer[this.buffer.length]=t,this},appendFormat:function(){return this.append(System.String.format.apply(System.String,arguments))},clear:function(){return this.buffer=[],this},appendLine:function(){return 1===arguments.length&&this.append(arguments[0]),this.append("\r\n")},equals:function(t){return null!=t&&(t===this||this.toString()===t.toString())},remove:function(t,e){var n=this.buffer.join("");return this.checkLimits(n,t,e),n.length===e&&0===t?this.clear():(0<e&&(this.buffer=[],this.buffer[0]=n.substring(0,t),this.buffer[1]=n.substring(t+e,n.length)),this)},insert:function(t,e){var n;if(null==e)return this;if(3===arguments.length){if(0===(n=arguments[2]))return this;if(n<0)throw new System.ArgumentOutOfRangeException("count","cannot be less than zero");e=Array(n+1).join(e).toString()}return n=this.buffer.join(""),this.buffer=[],t<1?(this.buffer[0]=e,this.buffer[1]=n):t>=n.length?(this.buffer[0]=n,this.buffer[1]=e):(this.buffer[0]=n.substring(0,t),this.buffer[1]=e,this.buffer[2]=n.substring(t,n.length)),this},replace:function(t,e){var n,r,i=new RegExp(t,"g"),o=this.buffer.join("");return this.buffer=[],4===arguments.length?(t=o.substr(n=arguments[2],r=arguments[3]),this.checkLimits(o,n,r),this.buffer[0]=o.substring(0,n),this.buffer[1]=t.replace(i,e),this.buffer[2]=o.substring(n+r,o.length)):this.buffer[0]=o.replace(i,e),this},checkLimits:function(t,e,n){if(n<0)throw new System.ArgumentOutOfRangeException("length","must be non-negative");if(e<0)throw new System.ArgumentOutOfRangeException("startIndex","startIndex cannot be less than zero");if(n>t.length-e)throw new System.ArgumentOutOfRangeException("Index and length must refer to a location within the string")}}),i=RegExp("[-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]","g"),Bridge.regexpEscape=function(t){return t.replace(i,"\\$&")},System.Diagnostics.Debug={writeln:function(t){Bridge.Console.debug(t)},_fail:function(t){System.Diagnostics.Debug.writeln(t)},assert:function(t,e){t||(e="Assert failed: "+e,confirm(e+"\r\n\r\nBreak into debugger?")&&System.Diagnostics.Debug._fail(e))},fail:function(t){System.Diagnostics.Debug._fail(t)}},Bridge.define("System.Diagnostics.Stopwatch",{ctor:function(){this.$initialize(),this._stopTime=System.Int64.Zero,this._startTime=System.Int64.Zero,this.isRunning=!1},reset:function(){this._stopTime=this._startTime=System.Diagnostics.Stopwatch.getTimestamp(),this.isRunning=!1},ticks:function(){return(this.isRunning?System.Diagnostics.Stopwatch.getTimestamp():this._stopTime).sub(this._startTime)},milliseconds:function(){return this.ticks().mul(1e3).div(System.Diagnostics.Stopwatch.frequency)},timeSpan:function(){return new System.TimeSpan(this.milliseconds().mul(1e4))},start:function(){this.isRunning||(this._startTime=System.Diagnostics.Stopwatch.getTimestamp(),this.isRunning=!0)},stop:function(){this.isRunning&&(this._stopTime=System.Diagnostics.Stopwatch.getTimestamp(),this.isRunning=!1)},restart:function(){this.isRunning=!1,this.start()},statics:{startNew:function(){var t=new System.Diagnostics.Stopwatch;return t.start(),t}}}),"undefined"!=typeof window&&window.performance&&window.performance.now?(System.Diagnostics.Stopwatch.frequency=new System.Int64(1e6),System.Diagnostics.Stopwatch.isHighResolution=!0,System.Diagnostics.Stopwatch.getTimestamp=function(){return new System.Int64(Math.round(1e3*window.performance.now()))}):"undefined"!=typeof process&&process.hrtime?(System.Diagnostics.Stopwatch.frequency=new System.Int64(1e9),System.Diagnostics.Stopwatch.isHighResolution=!0,System.Diagnostics.Stopwatch.getTimestamp=function(){var t=process.hrtime();return new System.Int64(t[0]).mul(1e9).add(t[1])}):(System.Diagnostics.Stopwatch.frequency=new System.Int64(1e3),System.Diagnostics.Stopwatch.isHighResolution=!1,System.Diagnostics.Stopwatch.getTimestamp=function(){return new System.Int64((new Date).valueOf())}),System.Diagnostics.Contracts.Contract={reportFailure:function(t,e,n,r,i){var o=n.toString(),n=(o=(o=o.substring(o.indexOf("return")+7)).substr(0,o.lastIndexOf(";")))?"Contract '"+o+"' failed":"Contract failed",n=e?n+": "+e:n;throw i?new i(o,e):new System.Diagnostics.Contracts.ContractException(t,n,e,o,r)},assert:function(t,e,n){e()||System.Diagnostics.Contracts.Contract.reportFailure(t,n,e,null)},requires:function(t,e,n){e()||System.Diagnostics.Contracts.Contract.reportFailure(0,n,e,null,t)},forAll:function(t,e,n){if(!n)throw new System.ArgumentNullException("predicate");for(;t<e;t++)if(!n(t))return!1;return!0},forAll$1:function(t,e){if(!t)throw new System.ArgumentNullException("collection");if(!e)throw new System.ArgumentNullException("predicate");var n=Bridge.getEnumerator(t);try{for(;n.moveNext();)if(!e(n.getCurrent()))return!1;return!0}finally{n.dispose()}},exists:function(t,e,n){if(!n)throw new System.ArgumentNullException("predicate");for(;t<e;t++)if(n(t))return!0;return!1},exists$1:function(t,e){if(!t)throw new System.ArgumentNullException("collection");if(!e)throw new System.ArgumentNullException("predicate");var n=Bridge.getEnumerator(t);try{for(;n.moveNext();)if(e(n.getCurrent()))return!0;return!1}finally{n.dispose()}}},Bridge.define("System.Diagnostics.Contracts.ContractFailureKind",{$kind:"enum",$statics:{precondition:0,postcondition:1,postconditionOnException:2,invarian:3,assert:4,assume:5}}),Bridge.define("System.Diagnostics.Contracts.ContractException",{inherits:[System.Exception],ctor:function(t,e,n,r,i){this.$initialize(),System.Exception.ctor.call(this,e,i),this._kind=t,this._failureMessage=e||null,this._userMessage=n||null,this._condition=r||null},getKind:function(){return this._kind},getFailure:function(){return this._failureMessage},getUserMessage:function(){return this._userMessage},getCondition:function(){return this._condition}}),a={toIndex:function(t,e){if(e.length!==(t.$s?t.$s.length:1))throw new System.ArgumentException("Invalid number of indices");if(e[0]<0||e[0]>=(t.$s?t.$s[0]:t.length))throw new System.ArgumentException("Index 0 out of range");var n,r=e[0];if(t.$s)for(n=1;n<t.$s.length;n++){if(e[n]<0||e[n]>=t.$s[n])throw new System.ArgumentException("Index "+n+" out of range");r=r*t.$s[n]+e[n]}return r},$get:function(t){t=this[System.Array.toIndex(this,t)];return void 0!==t?t:this.$v},get:function(t){var e,n,r;if(arguments.length<2)throw new System.ArgumentNullException("indices");for(e=Array.prototype.slice.call(arguments,1),n=0;n<e.length;n++)if(!Bridge.hasValue(e[n]))throw new System.ArgumentNullException("indices");return void 0!==(r=t[System.Array.toIndex(t,e)])?r:t.$v},$set:function(t,e){this[System.Array.toIndex(this,Array.prototype.slice.call(t,0))]=e},set:function(t,e){var n=Array.prototype.slice.call(arguments,2);t[System.Array.toIndex(t,n)]=e},getLength:function(t,e){if(e<0||e>=(t.$s?t.$s.length:1))throw new System.IndexOutOfRangeException;return t.$s?t.$s[e]:t.length},getRank:function(t){return t.$s?t.$s.length:1},getLower:function(t,e){return System.Array.getLength(t,e),0},create:function(t,e){var n,r,i,o,s,a,u=[],l=2<arguments.length?1:0;for(u.$v=t,u.$s=[],u.get=System.Array.$get,u.set=System.Array.$set,n=2;n<arguments.length;n++)l*=arguments[n],u.$s[n-2]=arguments[n];if(u.length=l,e)for(n=0;n<u.length;n++){for(s=[],a=n,r=u.$s.length-1;0<=r;r--)o=a%u.$s[r],s.unshift(o),a=Bridge.Int.div(a-o,u.$s[r]);for(i=e,o=0;o<s.length;o++)i=i[s[o]];u[n]=i}return u},init:function(t,e,n){for(var r=new Array(t),i=!0!==n&&Bridge.isFunction(e),o=0;o<t;o++)r[o]=i?e():e;return r},toEnumerable:function(t){return new Bridge.ArrayEnumerable(t)},toEnumerator:function(t,e){return new Bridge.ArrayEnumerator(t,e)},_typedArrays:{Float32Array:!0,Float64Array:!0,Int8Array:!0,Int16Array:!0,Int32Array:!0,Uint8Array:!0,Uint8ClampedArray:!0,Uint16Array:!0,Uint32Array:!0},is:function(t,e){return t instanceof Bridge.ArrayEnumerator?!!(t.constructor===e||t instanceof e||e===Bridge.ArrayEnumerator||e.$$name&&System.String.startsWith(e.$$name,"System.Collections.IEnumerator")||e.$$name&&System.String.startsWith(e.$$name,"System.Collections.Generic.IEnumerator")):!!Bridge.isArray(t)&&(t.constructor===e||t instanceof e||(!!(e===System.Collections.IEnumerable||e===System.Collections.ICollection||e===System.ICloneable||e.$$name&&System.String.startsWith(e.$$name,"System.Collections.Generic.IEnumerable$1")||e.$$name&&System.String.startsWith(e.$$name,"System.Collections.Generic.ICollection$1")||e.$$name&&System.String.startsWith(e.$$name,"System.Collections.Generic.IList$1"))||!!System.Array._typedArrays[String.prototype.slice.call(Object.prototype.toString.call(t),8,-1)]))},clone:function(t){return 1===t.length?[t[0]]:t.slice(0)},getCount:function(t,e){var n;return Bridge.isArray(t)?t.length:Bridge.isFunction(t[n="System$Collections$ICollection$getCount"])||e&&Bridge.isFunction(t[n="System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(e)+"$getCount"])?t[n]():Bridge.isFunction(t.getCount)?t.getCount():0},getIsReadOnly:function(t,e){var n;return Bridge.isArray(t)?!!e:Bridge.isFunction(t[n="System$Collections$ICollection$getIsReadOnly"])||e&&Bridge.isFunction(t[n="System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(e)+"$getIsReadOnly"])?t[n]():Bridge.isFunction(t.getIsReadOnly)?t.getIsReadOnly():0},add:function(t,e,n){var r;Bridge.isArray(t)?t.push(e):n&&Bridge.isFunction(t[r="System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(n)+"$add"])?t[r](e):Bridge.isFunction(t.add)&&t.add(e)},clear:function(t,e){var n;Bridge.isArray(t)?System.Array.fill(t,e?e.getDefaultValue||Bridge.getDefaultValue(e):null,0,t.length):e&&Bridge.isFunction(t[n="System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(e)+"$clear"])?t[n]():Bridge.isFunction(t.clear)&&t.clear()},fill:function(t,e,n,r){if(!Bridge.hasValue(t))throw new System.ArgumentNullException("dst");if(n<0||r<0||n+r>t.length)throw new System.IndexOutOfRangeException;for(var i=Bridge.isFunction(e);0<=--r;)t[n+r]=i?e():e},copy:function(t,e,n,r,i){if(!n)throw new System.ArgumentNullException("dest","Value cannot be null");if(!t)throw new System.ArgumentNullException("src","Value cannot be null");if(e<0||r<0||i<0)throw new System.ArgumentOutOfRangeException("Number was less than the array's lower bound in the first dimension");if(i>t.length-e||i>n.length-r)throw new System.ArgumentException("Destination array was not long enough. Check destIndex and length, and the array's lower bounds");if(e<r&&t===n)for(;0<=--i;)n[r+i]=t[e+i];else for(var o=0;o<i;o++)n[r+o]=t[e+o]},copyTo:function(t,e,n,r){var i;if(Bridge.isArray(t))System.Array.copy(t,0,e,n,t?t.length:0);else if(Bridge.isFunction(t.copyTo))t.copyTo(e,n);else{if(!r||!Bridge.isFunction(t[i="System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(r)+"$copyTo"]))throw new System.NotImplementedException("copyTo");t[i](e,n)}},indexOf:function(t,e,n,r,i){var o,s,a,u;if(Bridge.isArray(t)){for(u=(n=n||0)+(r=r||t.length),s=n;s<u;s++)if((a=t[s])===e||System.Collections.Generic.EqualityComparer$1.$default.equals2(a,e))return s}else{if(i&&Bridge.isFunction(t[o="System$Collections$Generic$IList$1$"+Bridge.getTypeAlias(i)+"$indexOf"]))return t[o](e);if(Bridge.isFunction(t.indexOf))return t.indexOf(e)}return-1},contains:function(t,e,n){var r;return Bridge.isArray(t)?-1<System.Array.indexOf(t,e):n&&Bridge.isFunction(t[r="System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(n)+"$contains"])?t[r](e):!!Bridge.isFunction(t.contains)&&t.contains(e)},remove:function(t,e,n){var r,i;if(Bridge.isArray(t)){if(-1<(i=System.Array.indexOf(t,e)))return t.splice(i,1),!0}else{if(n&&Bridge.isFunction(t[r="System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(n)+"$remove"]))return t[r](e);if(Bridge.isFunction(t.remove))return t.remove(e)}return!1},insert:function(t,e,n,r){var i;Bridge.isArray(t)?t.splice(e,0,n):r&&Bridge.isFunction(t[i="System$Collections$Generic$IList$1$"+Bridge.getTypeAlias(r)+"$insert"])?t[i](e,n):Bridge.isFunction(t.insert)&&t.insert(e,n)},removeAt:function(t,e,n){var r;Bridge.isArray(t)?t.splice(e,1):n&&Bridge.isFunction(t[r="System$Collections$Generic$IList$1$"+Bridge.getTypeAlias(n)+"$removeAt"])?t[r](e):Bridge.isFunction(t.removeAt)&&t.removeAt(e)},getItem:function(t,e,n){var r;return Bridge.isArray(t)?t[e]:Bridge.isFunction(t.get)?t.get(e):Bridge.isFunction(t.getItem)?t.getItem(e):n&&Bridge.isFunction(t[r="System$Collections$Generic$IList$1$"+Bridge.getTypeAlias(n)+"$getItem"])?t[r](e):Bridge.isFunction(t.get_Item)?t.get_Item(e):void 0},setItem:function(t,e,n,r){var i;if(Bridge.isArray(t))t[e]=n;else if(Bridge.isFunction(t.set))t.set(e,n);else if(Bridge.isFunction(t.setItem))t.setItem(e,n);else{if(r&&Bridge.isFunction(t[i="System$Collections$Generic$IList$1$"+Bridge.getTypeAlias(r)+"$setItem"]))return t[i](e,n);Bridge.isFunction(t.set_Item)&&t.set_Item(e,n)}},resize:function(t,e,n){var r;if(e<0)throw new System.ArgumentOutOfRangeException("newSize",null,null,e);var i=0,o=Bridge.isFunction(n),s=t.v;for(s?(i=s.length,s.length=e):s=new Array(e),r=i;r<e;r++)s[r]=o?n():n;t.v=s},reverse:function(t,e,n){var r,i,o;if(!a)throw new System.ArgumentNullException("arr");if(e||0===e||(e=0,n=t.length),e<0||n<0)throw new System.ArgumentOutOfRangeException(e<0?"index":"length","Non-negative number required.");if(a.length-e<n)throw new System.ArgumentException("Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.");if(1!==System.Array.getRank(t))throw new System.Exception("Only single dimension arrays are supported here.");for(i=(r=e)+n-1;r<i;)o=t[r],t[r]=t[i],t[i]=o,r++,i--},binarySearch:function(t,e,n,r,i){var o,s,a,u;if(!t)throw new System.ArgumentNullException("array");if(e<0||n<0)throw new System.ArgumentOutOfRangeException(e<0?"index":"length","Non-negative number required.");if(t.length-+e<n)throw new System.ArgumentException("Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.");if(1!==System.Array.getRank(t))throw new System.RankException("Only single dimensional arrays are supported for the requested action.");for(i=i||System.Collections.Generic.Comparer$1.$default,s=(o=e)+n-1;o<=s;){a=o+(s-o>>1);try{u=i.compare(t[a],r)}catch(t){throw new System.InvalidOperationException("Failed to compare two elements in the array.",t)}if(0===u)return a;u<0?o=a+1:s=a-1}return~o},sort:function(t,e,n,r){var i,o;if(!t)throw new System.ArgumentNullException("array");if(2===arguments.length&&"object"==typeof e&&(r=e,e=null),Bridge.isNumber(e)||(e=0),Bridge.isNumber(n)||(n=t.length),r=r||System.Collections.Generic.Comparer$1.$default,0===e&&n===t.length)t.sort(Bridge.fn.bind(r,r.compare));else for((i=t.slice(e,e+n)).sort(Bridge.fn.bind(r,r.compare)),o=e;o<e+n;o++)t[o]=i[o-e]},min:function(t,e){for(var n=t[0],r=t.length,i=0;i<r;i++)!(t[i]<n||n<e)||t[i]<e||(n=t[i]);return n},max:function(t,e){for(var n=t[0],r=t.length,i=0;i<r;i++)!(t[i]>n||e<n)||t[i]>e||(n=t[i]);return n},addRange:function(t,e){if(Bridge.isArray(e))t.push.apply(t,e);else{var n=Bridge.getEnumerator(e);try{for(;n.moveNext();)t.push(n.getCurrent())}finally{Bridge.is(n,System.IDisposable)&&n.dispose()}}},convertAll:function(t,e){if(!Bridge.hasValue(t))throw new System.ArgumentNullException("array");if(!Bridge.hasValue(e))throw new System.ArgumentNullException("converter");return t.map(e)},find:function(t,e,n){if(!Bridge.hasValue(e))throw new System.ArgumentNullException("array");if(!Bridge.hasValue(n))throw new System.ArgumentNullException("match");for(var r=0;r<e.length;r++)if(n(e[r]))return e[r];return Bridge.getDefaultValue(t)},findAll:function(t,e){var n,r;if(!Bridge.hasValue(t))throw new System.ArgumentNullException("array");if(!Bridge.hasValue(e))throw new System.ArgumentNullException("match");for(n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n},findIndex:function(t,e,n,r){var i,o;if(!Bridge.hasValue(t))throw new System.ArgumentNullException("array");if(2===arguments.length?(r=e,e=0,n=t.length):3===arguments.length&&(r=n,n=t.length-e),e<0||e>t.length)throw new System.ArgumentOutOfRangeException("startIndex");if(n<0||e>t.length-n)throw new System.ArgumentOutOfRangeException("count");if(!Bridge.hasValue(r))throw new System.ArgumentNullException("match");for(i=e+n,o=e;o<i;o++)if(r(t[o]))return o;return-1},findLast:function(t,e,n){if(!Bridge.hasValue(e))throw new System.ArgumentNullException("array");if(!Bridge.hasValue(n))throw new System.ArgumentNullException("match");for(var r=e.length-1;0<=r;r--)if(n(e[r]))return e[r];return Bridge.getDefaultValue(t)},findLastIndex:function(t,e,n,r){var i,o;if(!Bridge.hasValue(t))throw new System.ArgumentNullException("array");if(2===arguments.length?(r=e,e=t.length-1,n=t.length):3===arguments.length&&(r=n,n=e+1),!Bridge.hasValue(r))throw new System.ArgumentNullException("match");if(0===t.length){if(-1!==e)throw new System.ArgumentOutOfRangeException("startIndex")}else if(e<0||e>=t.length)throw new System.ArgumentOutOfRangeException("startIndex");if(n<0||e-n+1<0)throw new System.ArgumentOutOfRangeException("count");for(i=e-n,o=e;i<o;o--)if(r(t[o]))return o;return-1},forEach:function(t,e){if(!Bridge.hasValue(t))throw new System.ArgumentNullException("array");if(!Bridge.hasValue(e))throw new System.ArgumentNullException("action");for(var n=0;n<t.length;n++)e(t[n],n,t)},indexOfT:function(t,e,n,r){if(!Bridge.hasValue(t))throw new System.ArgumentNullException("array");if(2===arguments.length?(n=0,r=t.length):3===arguments.length&&(r=t.length-n),n<0||n>=t.length&&0<t.length)throw new System.ArgumentOutOfRangeException("startIndex","out of range");if(r<0||r>t.length-n)throw new System.ArgumentOutOfRangeException("count","out of range");return System.Array.indexOf(t,e,n,r)},lastIndexOfT:function(t,e,n,r){var i,o,s;if(!Bridge.hasValue(t))throw new System.ArgumentNullException("array");if(2===arguments.length?(n=t.length-1,r=t.length):3===arguments.length&&(r=0===t.length?0:n+1),n<0||n>=t.length&&0<t.length)throw new System.ArgumentOutOfRangeException("startIndex","out of range");if(r<0||n-r+1<0)throw new System.ArgumentOutOfRangeException("count","out of range");for(i=n-r+1,o=n;i<=o;o--)if((s=t[o])===e||System.Collections.Generic.EqualityComparer$1.$default.equals2(s,e))return o;return-1},trueForAll:function(t,e){if(!Bridge.hasValue(t))throw new System.ArgumentNullException("array");if(!Bridge.hasValue(e))throw new System.ArgumentNullException("match");for(var n=0;n<t.length;n++)if(!e(t[n]))return!1;return!0}},System.Array=a,Bridge.define("System.ArraySegment",{ctor:function(t,e,n){this.$initialize(),this.array=t,this.offset=e||0,this.count=n||t.length},getArray:function(){return this.array},getCount:function(){return this.count},getOffset:function(){return this.offset}}),Bridge.define("System.Collections.IEnumerable",{$kind:"interface"}),Bridge.define("System.Collections.IEnumerator",{$kind:"interface"}),Bridge.define("System.Collections.IEqualityComparer",{$kind:"interface"}),Bridge.define("System.Collections.ICollection",{inherits:[System.Collections.IEnumerable],$kind:"interface"}),Bridge.define("System.Collections.Generic.IEnumerator$1",function(){return{inherits:[System.Collections.IEnumerator],$kind:"interface"}}),Bridge.define("System.Collections.Generic.IEnumerable$1",function(){return{inherits:[System.Collections.IEnumerable],$kind:"interface"}}),Bridge.define("System.Collections.Generic.ICollection$1",function(t){return{inherits:[System.Collections.Generic.IEnumerable$1(t)],$kind:"interface"}}),Bridge.define("System.Collections.Generic.IEqualityComparer$1",function(){return{$kind:"interface"}}),Bridge.define("System.Collections.Generic.IDictionary$2",function(t,e){return{inherits:[System.Collections.Generic.IEnumerable$1(System.Collections.Generic.KeyValuePair$2(t,e))],$kind:"interface"}}),Bridge.define("System.Collections.Generic.IList$1",function(t){return{inherits:[System.Collections.Generic.ICollection$1(t)],$kind:"interface"}}),Bridge.define("System.Collections.Generic.IComparer$1",function(){return{$kind:"interface"}}),Bridge.define("System.Collections.Generic.ISet$1",function(t){return{inherits:[System.Collections.Generic.ICollection$1(t)],$kind:"interface"}}),Bridge.define("System.Collections.Generic.IReadOnlyCollection$1",function(t){return{inherits:[System.Collections.Generic.IEnumerable$1(t)],$kind:"interface"}}),Bridge.define("System.Collections.Generic.IReadOnlyList$1",function(t){return{inherits:[System.Collections.Generic.IReadOnlyCollection$1(t)],$kind:"interface"}}),Bridge.define("Bridge.CustomEnumerator",{inherits:[System.Collections.IEnumerator],config:{alias:["getCurrent","System$Collections$IEnumerator$getCurrent","moveNext","System$Collections$IEnumerator$moveNext","reset","System$Collections$IEnumerator$reset"]},ctor:function(t,e,n,r,i){this.$initialize(),this.$moveNext=t,this.$getCurrent=e,this.$dispose=r,this.$reset=n,this.scope=i},moveNext:function(){try{return this.$moveNext.call(this.scope)}catch(t){throw this.dispose.call(this.scope),t}},getCurrent:function(){return this.$getCurrent.call(this.scope)},getCurrent$1:function(){return this.$getCurrent.call(this.scope)},reset:function(){this.$reset&&this.$reset.call(this.scope)},dispose:function(){this.$dispose&&this.$dispose.call(this.scope)}}),Bridge.define("Bridge.ArrayEnumerator",{inherits:[System.Collections.IEnumerator,System.IDisposable],statics:{$isArrayEnumerator:!0},config:{alias:["getCurrent","System$Collections$IEnumerator$getCurrent","moveNext","System$Collections$IEnumerator$moveNext","reset","System$Collections$IEnumerator$reset","dispose","System$IDisposable$dispose"]},ctor:function(t,e){this.$initialize(),this.array=t,this.reset(),e&&(this["System$Collections$Generic$IEnumerator$1$"+Bridge.getTypeAlias(e)+"$getCurrent$1"]=this.getCurrent)},moveNext:function(){return this.index++,this.index<this.array.length},getCurrent:function(){return this.array[this.index]},getCurrent$1:function(){return this.array[this.index]},reset:function(){this.index=-1},dispose:Bridge.emptyFn}),Bridge.define("Bridge.ArrayEnumerable",{inherits:[System.Collections.IEnumerable],config:{alias:["getEnumerator","System$Collections$IEnumerable$getEnumerator"]},ctor:function(t){this.$initialize(),this.array=t},getEnumerator:function(){return new Bridge.ArrayEnumerator(this.array)}}),Bridge.define("System.Collections.Generic.EqualityComparer$1",function(t){return{inherits:[System.Collections.Generic.IEqualityComparer$1(t)],statics:{config:{init:function(){this.def=new(System.Collections.Generic.EqualityComparer$1(t))}}},config:{alias:["equals2","System$Collections$Generic$IEqualityComparer$1$"+Bridge.getTypeAlias(t)+"$equals2","getHashCode2","System$Collections$Generic$IEqualityComparer$1$"+Bridge.getTypeAlias(t)+"$getHashCode2"]},equals2:function(t,e){return Bridge.isDefined(t,!0)?!!Bridge.isDefined(e,!0)&&(t&&t.$$name?Bridge.isFunction(t.equalsT)?Bridge.equalsT(t,e):Bridge.isFunction(t.equals)?Bridge.equals(t,e):t===e:Bridge.equals(t,e)):!Bridge.isDefined(e,!0)},getHashCode2:function(t){return Bridge.isDefined(t,!0)?Bridge.getHashCode(t):0}}}),System.Collections.Generic.EqualityComparer$1.$default=new(System.Collections.Generic.EqualityComparer$1(Object)),Bridge.define("System.Collections.Generic.Comparer$1",function(t){return{inherits:[System.Collections.Generic.IComparer$1(t)],config:{alias:["compare","System$Collections$Generic$IComparer$1$"+Bridge.getTypeAlias(t)+"$compare"]},ctor:function(t){this.$initialize(),this.fn=t,this.compare=t}}}),System.Collections.Generic.Comparer$1.$default=new(System.Collections.Generic.Comparer$1(Object))(function(t,e){return Bridge.hasValue(t)?Bridge.hasValue(e)?Bridge.compare(t,e):1:Bridge.hasValue(e)?-1:0}),Bridge.define("System.Collections.Generic.KeyValuePair$2",function(n,r){return{$kind:"struct",statics:{getDefaultValue:function(){return new(System.Collections.Generic.KeyValuePair$2(n,r))(Bridge.getDefaultValue(n),Bridge.getDefaultValue(r))}},ctor:function(t,e){void 0===t&&(t=Bridge.getDefaultValue(n)),void 0===e&&(e=Bridge.getDefaultValue(r)),this.$initialize(),this.key=t,this.value=e},toString:function(){var t="[";return null!=this.key&&(t+=this.key.toString()),t+=", ",null!=this.value&&(t+=this.value.toString()),t+"]"}}}),Bridge.define("System.Collections.Generic.Dictionary$2",function(a,u){return{inherits:[System.Collections.Generic.IDictionary$2(a,u)],config:{alias:["getCount","System$Collections$Generic$IDictionary$2$"+Bridge.getTypeAlias(a)+"$"+Bridge.getTypeAlias(u)+"$getCount","getKeys","System$Collections$Generic$IDictionary$2$"+Bridge.getTypeAlias(a)+"$"+Bridge.getTypeAlias(u)+"$getKeys","getValues","System$Collections$Generic$IDictionary$2$"+Bridge.getTypeAlias(a)+"$"+Bridge.getTypeAlias(u)+"$getValues","get","System$Collections$Generic$IDictionary$2$"+Bridge.getTypeAlias(a)+"$"+Bridge.getTypeAlias(u)+"$getItem","set","System$Collections$Generic$IDictionary$2$"+Bridge.getTypeAlias(a)+"$"+Bridge.getTypeAlias(u)+"$setItem","add","System$Collections$Generic$IDictionary$2$"+Bridge.getTypeAlias(a)+"$"+Bridge.getTypeAlias(u)+"$add","containsKey","System$Collections$Generic$IDictionary$2$"+Bridge.getTypeAlias(a)+"$"+Bridge.getTypeAlias(u)+"$containsKey","getEnumerator","System$Collections$Generic$IEnumerable$1$System$Collections$Generic$KeyValuePair$2$"+Bridge.getTypeAlias(a)+"$"+Bridge.getTypeAlias(u)+"$getEnumerator","remove","System$Collections$Generic$IDictionary$2$"+Bridge.getTypeAlias(a)+"$"+Bridge.getTypeAlias(u)+"$remove","tryGetValue","System$Collections$Generic$IDictionary$2$"+Bridge.getTypeAlias(a)+"$"+Bridge.getTypeAlias(u)+"$tryGetValue"]},ctor:function(t,e){var n,r,i,o,s;if(this.$initialize(),this.comparer=e||System.Collections.Generic.EqualityComparer$1(a).def,this.clear(),Bridge.is(t,System.Collections.Generic.Dictionary$2(a,u)))for(n=Bridge.getEnumerator(t);n.moveNext();)r=n.getCurrent(),this.add(r.key,r.value);else if("[object Object]"===Object.prototype.toString.call(t))for(i=Object.keys(t),s=0;s<i.length;s++)o=i[s],this.add(o,t[o])},getKeys:function(){return new(System.Collections.Generic.DictionaryCollection$1(a))(this,!0)},getValues:function(){return new(System.Collections.Generic.DictionaryCollection$1(u))(this,!1)},clear:function(){this.entries={},this.count=0},findEntry:function(t){var e,n,r=this.comparer.getHashCode2(t);if(Bridge.isDefined(this.entries[r]))for(e=this.entries[r],n=0;n<e.length;n++)if(this.comparer.equals2(e[n].key,t))return e[n]},containsKey:function(t){return!!this.findEntry(t)},containsValue:function(t){var e,n,r;for(e in this.entries)if(this.entries.hasOwnProperty(e))for(r=this.entries[e],n=0;n<r.length;n++)if(this.comparer.equals2(r[n].value,t))return!0;return!1},get:function(t){var e=this.findEntry(t);if(!e)throw new System.Collections.Generic.KeyNotFoundException("Key "+t+" does not exist.");return e.value},getItem:function(t){return this.get(t)},set:function(t,e,n){var r=this.findEntry(t);if(r){if(n)throw new System.ArgumentException("Key "+t+" already exists.");r.value=e}else n=this.comparer.getHashCode2(t),r=new(System.Collections.Generic.KeyValuePair$2(a,u))(t,e),this.entries[n]?this.entries[n].push(r):this.entries[n]=[r],this.count++},setItem:function(t,e,n){this.set(t,e,n)},add:function(t,e){this.set(t,e,!0)},remove:function(t){var e,n,r=this.comparer.getHashCode2(t);if(!this.entries[r])return!1;for(e=this.entries[r],n=0;n<e.length;n++)if(this.comparer.equals2(e[n].key,t))return e.splice(n,1),0==e.length&&delete this.entries[r],this.count--,!0;return!1},getCount:function(){return this.count},getComparer:function(){return this.comparer},tryGetValue:function(t,e){t=this.findEntry(t);return e.v=t?t.value:Bridge.getDefaultValue(u),!!t},getCustomEnumerator:function(t){var e,n=Bridge.getPropertyNames(this.entries),r=-1;return new Bridge.CustomEnumerator(function(){return(r<0||e>=this.entries[n[r]].length-1)&&(e=-1,r++),!(r>=n.length)&&(e++,!0)},function(){return t(this.entries[n[r]][e])},function(){r=-1},null,this)},getEnumerator:function(){return this.getCustomEnumerator(function(t){return t})}}}),Bridge.define("System.Collections.Generic.DictionaryCollection$1",function(t){return{inherits:[System.Collections.Generic.ICollection$1(t)],config:{alias:["getEnumerator","System$Collections$Generic$IEnumerable$1$"+Bridge.getTypeAlias(t)+"$getEnumerator","getCount","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(t)+"$getCount","add","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(t)+"$add","clear","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(t)+"$clear","contains","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(t)+"$contains","remove","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(t)+"$remove"]},ctor:function(t,e){this.$initialize(),this.dictionary=t,this.keys=e},getCount:function(){return this.dictionary.getCount()},getEnumerator:function(){return this.dictionary.getCustomEnumerator(this.keys?function(t){return t.key}:function(t){return t.value})},contains:function(t){return this.keys?this.dictionary.containsKey(t):this.dictionary.containsValue(t)},add:function(){throw new System.NotSupportedException},clear:function(){throw new System.NotSupportedException},remove:function(){throw new System.NotSupportedException}}}),Bridge.define("System.Collections.Generic.List$1",function(o){return{inherits:[System.Collections.Generic.ICollection$1(o),System.Collections.ICollection,System.Collections.Generic.IList$1(o)],config:{alias:["getItem","System$Collections$Generic$IList$1$"+Bridge.getTypeAlias(o)+"$getItem","setItem","System$Collections$Generic$IList$1$"+Bridge.getTypeAlias(o)+"$setItem","getCount","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(o)+"$getCount","getIsReadOnly","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(o)+"$getIsReadOnly","add","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(o)+"$add","clear","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(o)+"$clear","contains","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(o)+"$contains","copyTo","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(o)+"$copyTo","getEnumerator","System$Collections$Generic$IEnumerable$1$"+Bridge.getTypeAlias(o)+"$getEnumerator","indexOf","System$Collections$Generic$IList$1$"+Bridge.getTypeAlias(o)+"$indexOf","insert","System$Collections$Generic$IList$1$"+Bridge.getTypeAlias(o)+"$insert","remove","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(o)+"$remove","removeAt","System$Collections$Generic$IList$1$"+Bridge.getTypeAlias(o)+"$removeAt"]},ctor:function(t){this.$initialize(),this.items="[object Array]"===Object.prototype.toString.call(t)?System.Array.clone(t):Bridge.is(t,System.Collections.IEnumerable)?Bridge.toArray(t):[],this.clear.$clearCallbacks=[]},checkIndex:function(t){if(t<0||t>this.items.length-1)throw new System.ArgumentOutOfRangeException("Index out of range")},getCount:function(){return this.items.length},getIsReadOnly:function(){return!!this.readOnly},get:function(t){return this.checkIndex(t),this.items[t]},getItem:function(t){return this.get(t)},set:function(t,e){this.checkReadOnly(),this.checkIndex(t),this.items[t]=e},setItem:function(t,e){this.set(t,e)},add:function(t){this.checkReadOnly(),this.items.push(t)},addRange:function(t){this.checkReadOnly();for(var e=Bridge.toArray(t),n=0,r=e.length;n<r;++n)this.items.push(e[n])},clear:function(){this.checkReadOnly(),this.items=[];for(var t=0;t<this.clear.$clearCallbacks.length;t++)this.clear.$clearCallbacks[t](this)},onClear:function(t){this.clear.$clearCallbacks.push(t)},indexOf:function(t,e){var n,r;for(0!==(e=!Bridge.isDefined(e)?0:e)&&this.checkIndex(e),n=e;n<this.items.length;n++)if(r=this.items[n],System.Collections.Generic.EqualityComparer$1.$default.equals2(r,t))return n;return-1},insertRange:function(t,e){var n,r;for(this.checkReadOnly(),t!==this.items.length&&this.checkIndex(t),n=Bridge.toArray(e),r=0;r<n.length;r++)this.insert(t++,n[r])},contains:function(t){return-1<this.indexOf(t)},copyTo:function(t,e){System.Array.copy(this.items,0,t,e,this.items.length)},getEnumerator:function(){return new Bridge.ArrayEnumerator(this.items,o)},getRange:function(t,e){Bridge.isDefined(t)||(t=0),Bridge.isDefined(e)||(e=this.items.length),0!==t&&this.checkIndex(t),this.checkIndex(t+e-1);for(var n=[],r=t+e,i=t;i<r;i++)n.push(this.items[i]);return new(System.Collections.Generic.List$1(o))(n)},insert:function(t,e){if(this.checkReadOnly(),t!==this.items.length&&this.checkIndex(t),Bridge.isArray(e))for(var n=0;n<e.length;n++)this.insert(t++,e[n]);else this.items.splice(t,0,e)},join:function(t){return this.items.join(t)},lastIndexOf:function(t,e){0!==(e=!Bridge.isDefined(e)?this.items.length-1:e)&&this.checkIndex(e);for(var n=e;0<=n;n--)if(t===this.items[n])return n;return-1},remove:function(t){this.checkReadOnly();t=this.indexOf(t);return!(t<0)&&(this.checkIndex(t),this.items.splice(t,1),!0)},removeAt:function(t){this.checkReadOnly(),this.checkIndex(t),this.items.splice(t,1)},removeRange:function(t,e){this.checkReadOnly(),this.checkIndex(t),this.items.splice(t,e)},reverse:function(){this.checkReadOnly(),this.items.reverse()},slice:function(t,e){this.checkReadOnly();var n=this.$$name.substr(this.$$name.lastIndexOf("$")+1);return new(System.Collections.Generic.List$1(Bridge.unroll(n)))(this.items.slice(t,e))},sort:function(t){this.checkReadOnly(),this.items.sort(t||System.Collections.Generic.Comparer$1.$default.compare)},splice:function(t,e,n){this.checkReadOnly(),this.items.splice(t,e,n)},unshift:function(){this.checkReadOnly(),this.items.unshift()},toArray:function(){return Bridge.toArray(this)},checkReadOnly:function(){if(this.readOnly)throw new System.NotSupportedException},binarySearch:function(t,e,n,r){return 1===arguments.length&&(n=t,t=null),2===arguments.length&&(n=t,r=e,e=t=null),Bridge.isNumber(t)||(t=0),Bridge.isNumber(e)||(e=this.items.length),r=r||System.Collections.Generic.Comparer$1.$default,System.Array.binarySearch(this.items,t,e,n,r)},convertAll:function(t,e){var n,r;if(!Bridge.hasValue(e))throw new System.ArgumentNullException("converter is null.");for(n=new(System.Collections.Generic.List$1(t))(this.items.length),r=0;r<this.items.length;r++)n.items[r]=e(this.items[r]);return n}}}),Bridge.define("System.Collections.ObjectModel.ReadOnlyCollection$1",function(n){return{inherits:[System.Collections.Generic.List$1(n),System.Collections.Generic.IReadOnlyList$1(n)],ctor:function(t){if(this.$initialize(),null==t)throw new System.ArgumentNullException("list");var e;System.Collections.Generic.List$1(n).ctor.call(this,[]),this.readOnly=!0,"[object Array]"===Object.prototype.toString.call(t)?this.items=t:Bridge.is(t,System.Collections.Generic.List$1(n))?((e=this).items=t.items,t.onClear(function(t){e.items=t.items})):Bridge.is(t,System.Collections.IEnumerable)&&(this.items=Bridge.toArray(t))}}}),Bridge.define("System.Threading.Tasks.Task",{inherits:[System.IDisposable],config:{alias:["dispose","System$IDisposable$dispose"]},ctor:function(t,e){this.$initialize(),this.action=t,this.state=e,this.exception=null,this.status=System.Threading.Tasks.TaskStatus.created,this.callbacks=[],this.result=null},statics:{delay:function(t,e){var n=new System.Threading.Tasks.TaskCompletionSource;return setTimeout(function(){n.setResult(e)},t),n.task},fromResult:function(t){var e=new System.Threading.Tasks.Task;return e.status=System.Threading.Tasks.TaskStatus.ranToCompletion,e.result=t,e},run:function(t){var e=new System.Threading.Tasks.TaskCompletionSource;return setTimeout(function(){try{e.setResult(t())}catch(t){e.setException(System.Exception.create(t))}},0),e.task},whenAll:function(t){var n,r,e,i=new System.Threading.Tasks.TaskCompletionSource,o=!1,s=[];if(Bridge.is(t,System.Collections.IEnumerable)?t=Bridge.toArray(t):Bridge.isArray(t)||(t=Array.prototype.slice.call(arguments,0)),0===t.length)return i.setResult([]),i.task;for(r=t.length,n=new Array(t.length),e=0;e<t.length;e++)!function(e){t[e].continueWith(function(t){switch(t.status){case System.Threading.Tasks.TaskStatus.ranToCompletion:n[e]=t.getResult();break;case System.Threading.Tasks.TaskStatus.canceled:o=!0;break;case System.Threading.Tasks.TaskStatus.faulted:System.Array.addRange(s,t.exception.innerExceptions);break;default:throw new System.InvalidOperationException("Invalid task status: "+t.status)}0==--r&&(0<s.length?i.setException(s):o?i.setCanceled():i.setResult(n))})}(e);return i.task},whenAny:function(t){if(Bridge.is(t,System.Collections.IEnumerable)?t=Bridge.toArray(t):Bridge.isArray(t)||(t=Array.prototype.slice.call(arguments,0)),!t.length)throw new System.ArgumentException("At least one task is required");for(var e=new System.Threading.Tasks.TaskCompletionSource,n=0;n<t.length;n++)t[n].continueWith(function(t){switch(t.status){case System.Threading.Tasks.TaskStatus.ranToCompletion:e.trySetResult(t);break;case System.Threading.Tasks.TaskStatus.canceled:e.trySetCanceled();break;case System.Threading.Tasks.TaskStatus.faulted:e.trySetException(t.exception.innerExceptions);break;default:throw new System.InvalidOperationException("Invalid task status: "+t.status)}});return e.task},fromCallback:function(t,e){var n=new System.Threading.Tasks.TaskCompletionSource,r=Array.prototype.slice.call(arguments,2);return r.push(function(t){n.setResult(t)}),t[e].apply(t,r),n.task},fromCallbackResult:function(t,e,n){var r=new System.Threading.Tasks.TaskCompletionSource,i=Array.prototype.slice.call(arguments,3);return n(i,function(t){r.setResult(t)}),t[e].apply(t,i),r.task},fromCallbackOptions:function(t,e,n){var r=new System.Threading.Tasks.TaskCompletionSource,i=Array.prototype.slice.call(arguments,3),o=function(t){r.setResult(t)};return i[0]=i[0]||{},i[0][n]=o,t[e].apply(t,i),r.task},fromPromise:function(t,e,n,r){var i,o=new System.Threading.Tasks.TaskCompletionSource;return t.then||(t=t.promise()),"number"==typeof e?(i=e,e=function(){return arguments[0<=i?i:arguments.length+i]}):"function"!=typeof e&&(e=function(){return Array.prototype.slice.call(arguments,0)}),t.then(function(){o.setResult(e?e.apply(null,arguments):Array.prototype.slice.call(arguments,0))},function(){o.setException(n?n.apply(null,arguments):new Bridge.PromiseException(Array.prototype.slice.call(arguments,0)))},r),o.task}},continueWith:function(t,e){var n=new System.Threading.Tasks.TaskCompletionSource,r=this,e=e?function(){n.setResult(t(r))}:function(){try{n.setResult(t(r))}catch(t){n.setException(System.Exception.create(t))}};return this.isCompleted()?setTimeout(e,0):this.callbacks.push(e),n.task},start:function(){if(this.status!==System.Threading.Tasks.TaskStatus.created)throw new System.InvalidOperationException("Task was already started.");var e=this;this.status=System.Threading.Tasks.TaskStatus.running,setTimeout(function(){try{var t=e.action(e.state);delete e.action,delete e.state,e.complete(t)}catch(t){e.fail(new System.AggregateException(null,[System.Exception.create(t)]))}},0)},runCallbacks:function(){var e=this;setTimeout(function(){for(var t=0;t<e.callbacks.length;t++)e.callbacks[t](e);delete e.callbacks},0)},complete:function(t){return!this.isCompleted()&&(this.result=t,this.status=System.Threading.Tasks.TaskStatus.ranToCompletion,this.runCallbacks(),!0)},fail:function(t){return!this.isCompleted()&&(this.exception=t,this.status=System.Threading.Tasks.TaskStatus.faulted,this.runCallbacks(),!0)},cancel:function(){return!this.isCompleted()&&(this.status=System.Threading.Tasks.TaskStatus.canceled,this.runCallbacks(),!0)},isCanceled:function(){return this.status===System.Threading.Tasks.TaskStatus.canceled},isCompleted:function(){return this.status===System.Threading.Tasks.TaskStatus.ranToCompletion||this.status===System.Threading.Tasks.TaskStatus.canceled||this.status===System.Threading.Tasks.TaskStatus.faulted},isFaulted:function(){return this.status===System.Threading.Tasks.TaskStatus.faulted},_getResult:function(t){switch(this.status){case System.Threading.Tasks.TaskStatus.ranToCompletion:return this.result;case System.Threading.Tasks.TaskStatus.canceled:var e=new System.Threading.Tasks.TaskCanceledException(null,this);throw t?e:new System.AggregateException(null,[e]);case System.Threading.Tasks.TaskStatus.faulted:throw t?0<this.exception.innerExceptions.getCount()?this.exception.innerExceptions.get(0):null:this.exception;default:throw new System.InvalidOperationException("Task is not yet completed.")}},getResult:function(){return this._getResult(!1)},dispose:function(){},getAwaiter:function(){return this},getAwaitedResult:function(){return this._getResult(!0)}}),Bridge.define("System.Threading.Tasks.TaskStatus",{$kind:"enum",$statics:{created:0,waitingForActivation:1,waitingToRun:2,running:3,waitingForChildrenToComplete:4,ranToCompletion:5,canceled:6,faulted:7}}),Bridge.define("System.Threading.Tasks.TaskCompletionSource",{ctor:function(){this.$initialize(),this.task=new System.Threading.Tasks.Task,this.task.status=System.Threading.Tasks.TaskStatus.running},setCanceled:function(){if(!this.task.cancel())throw new System.InvalidOperationException("Task was already completed.")},setResult:function(t){if(!this.task.complete(t))throw new System.InvalidOperationException("Task was already completed.")},setException:function(t){if(!this.trySetException(t))throw new System.InvalidOperationException("Task was already completed.")},trySetCanceled:function(){return this.task.cancel()},trySetResult:function(t){return this.task.complete(t)},trySetException:function(t){return Bridge.is(t,System.Exception)&&(t=[t]),this.task.fail(new System.AggregateException(null,t))}}),Bridge.define("System.Threading.CancellationTokenSource",{inherits:[System.IDisposable],config:{alias:["dispose","System$IDisposable$dispose"]},ctor:function(t){this.$initialize(),this.timeout="number"==typeof t&&0<=t?setTimeout(Bridge.fn.bind(this,this.cancel),t,-1):null,this.isCancellationRequested=!1,this.token=new System.Threading.CancellationToken(this),this.handlers=[]},cancel:function(e){var n,t,r;if(!this.isCancellationRequested){for(this.isCancellationRequested=!0,n=[],t=this.handlers,this.clean(),r=0;r<t.length;r++)try{t[r].f(t[r].s)}catch(t){if(e&&-1!==e)throw t;n.push(t)}if(0<n.length&&-1!==e)throw new System.AggregateException(null,n)}},cancelAfter:function(t){this.isCancellationRequested||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(Bridge.fn.bind(this,this.cancel),t,-1))},register:function(t,e){if(this.isCancellationRequested)return t(e),new System.Threading.CancellationTokenRegistration;e={f:t,s:e};return this.handlers.push(e),new System.Threading.CancellationTokenRegistration(this,e)},deregister:function(t){t=this.handlers.indexOf(t);0<=t&&this.handlers.splice(t,1)},dispose:function(){this.clean()},clean:function(){if(this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.handlers=[],this.links){for(var t=0;t<this.links.length;t++)this.links[t].dispose();this.links=null}},statics:{createLinked:function(){var t,e,n=new System.Threading.CancellationTokenSource;for(n.links=[],t=Bridge.fn.bind(n,n.cancel),e=0;e<arguments.length;e++)n.links.push(arguments[e].register(t));return n}}}),Bridge.define("System.Threading.CancellationToken",{$kind:"struct",ctor:function(t){this.$initialize(),Bridge.is(t,System.Threading.CancellationTokenSource)||(t=t?System.Threading.CancellationToken.sourceTrue:System.Threading.CancellationToken.sourceFalse),this.source=t},getCanBeCanceled:function(){return!this.source.uncancellable},getIsCancellationRequested:function(){return this.source.isCancellationRequested},throwIfCancellationRequested:function(){if(this.source.isCancellationRequested)throw new System.OperationCanceledException(this)},register:function(t,e){return this.source.register(t,e)},getHashCode:function(){return Bridge.getHashCode(this.source)},equals:function(t){return t.source===this.source},equalsT:function(t){return t.source===this.source},statics:{sourceTrue:{isCancellationRequested:!0,register:function(t,e){return t(e),new System.Threading.CancellationTokenRegistration}},sourceFalse:{uncancellable:!0,isCancellationRequested:!1,register:function(){return new System.Threading.CancellationTokenRegistration}},getDefaultValue:function(){return new System.Threading.CancellationToken}}}),System.Threading.CancellationToken.none=new System.Threading.CancellationToken,Bridge.define("System.Threading.CancellationTokenRegistration",{inherits:function(){return[System.IDisposable,System.IEquatable$1(System.Threading.CancellationTokenRegistration)]},$kind:"struct",config:{alias:["dispose","System$IDisposable$dispose"]},ctor:function(t,e){this.$initialize(),this.cts=t,this.o=e},dispose:function(){this.cts&&(this.cts.deregister(this.o),this.cts=this.o=null)},equalsT:function(t){return this===t},equals:function(t){return this===t},statics:{getDefaultValue:function(){return new System.Threading.CancellationTokenRegistration}}}),Bridge.Validation={isNull:function(t){return!Bridge.isDefined(t,!0)},isEmpty:function(t){return!(null!=t&&0!==t.length&&!Bridge.is(t,System.Collections.ICollection))&&0===t.getCount()},isNotEmptyOrWhitespace:function(t){return Bridge.isDefined(t,!0)&&!/^$|\s+/.test(t)},isNotNull:function(t){return Bridge.isDefined(t,!0)},isNotEmpty:function(t){return!Bridge.Validation.isEmpty(t)},email:function(t){return/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/.test(t)},url:function(t){return/(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:\.\d{1,3}){3})(?!(?:\.\d{1,3}){2})(?!\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/.test(t)},alpha:function(t){return/^[a-zA-Z_]+$/.test(t)},alphaNum:function(t){return/^[a-zA-Z_]+$/.test(t)},creditCard:function(t,e){var n,r,i,o,s=!1;if("Visa"===e)n=/^4\d{3}[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}$/;else if("MasterCard"===e)n=/^5[1-5]\d{2}[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}$/;else if("Discover"===e)n=/^6011[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}$/;else if("AmericanExpress"===e)n=/^3[4,7]\d{13}$/;else if("DinersClub"===e)n=/^(3[0,6,8]\d{12})|(5[45]\d{14})$/;else{if(!t||t.length<13||19<t.length)return!1;n=/[^0-9 \-]+/,s=!0}if(!n.test(t))return!1;for(r=0,i=2-(t=t.split(s?"-":/[- ]/).join("")).length%2;i<=t.length;i+=2)r+=parseInt(t.charAt(i-1));for(i=t.length%2+1;i<t.length;i+=2)r+=(o=2*parseInt(t.charAt(i-1)))<10?o:o-9;return r%10==0}},Bridge.define("System.Version",{inherits:function(){return[System.ICloneable,System.IComparable$1(System.Version),System.IEquatable$1(System.Version)]},statics:{separatorsArray:".",ZERO_CHAR_VALUE:48,appendPositiveNumber:function(t,e){for(var n,r=e.getLength();n=t%10,t=0|Bridge.Int.div(t,10),e.insert(r,String.fromCharCode(65535&(System.Version.ZERO_CHAR_VALUE+n|0))),0<t;);},parse:function(t){if(null==t)throw new System.ArgumentNullException("input");var e={v:new System.Version.VersionResult};if(e.v.init("input",!0),!System.Version.tryParseVersion(t,e))throw e.v.getVersionParseException();return e.v.m_parsedVersion},tryParse:function(t,e){var n={v:new System.Version.VersionResult};return n.v.init("input",!1),t=System.Version.tryParseVersion(t,n),e.v=n.v.m_parsedVersion,t},tryParseVersion:function(t,e){var n,r={},i={},o={},s={};if(null==t)return e.v.setFailure(System.Version.ParseFailureKind.ArgumentNullException),!1;if((t=(n=t.split(System.Version.separatorsArray)).length)<2||4<t)return e.v.setFailure(System.Version.ParseFailureKind.ArgumentException),!1;if(!System.Version.tryParseComponent(n[0],"version",e,r)||!System.Version.tryParseComponent(n[1],"version",e,i))return!1;if(0<(t=t-2|0)){if(!System.Version.tryParseComponent(n[2],"build",e,o))return!1;if(0<(t=t-1|0)){if(!System.Version.tryParseComponent(n[3],"revision",e,s))return!1;e.v.m_parsedVersion=new System.Version.$ctor3(r.v,i.v,o.v,s.v)}else e.v.m_parsedVersion=new System.Version.$ctor2(r.v,i.v,o.v)}else e.v.m_parsedVersion=new System.Version.$ctor1(r.v,i.v);return!0},tryParseComponent:function(t,e,n,r){return System.Int32.tryParse(t,r)?!(r.v<0)||(n.v.setFailure$1(System.Version.ParseFailureKind.ArgumentOutOfRangeException,e),!1):(n.v.setFailure$1(System.Version.ParseFailureKind.FormatException,t),!1)},op_Equality:function(t,e){return Bridge.referenceEquals(t,null)?Bridge.referenceEquals(e,null):t.equalsT(e)},op_Inequality:function(t,e){return!System.Version.op_Equality(t,e)},op_LessThan:function(t,e){if(null==t)throw new System.ArgumentNullException("v1");return t.compareTo(e)<0},op_LessThanOrEqual:function(t,e){if(null==t)throw new System.ArgumentNullException("v1");return t.compareTo(e)<=0},op_GreaterThan:function(t,e){return System.Version.op_LessThan(e,t)},op_GreaterThanOrEqual:function(t,e){return System.Version.op_LessThanOrEqual(e,t)}},_Major:0,_Minor:0,_Build:-1,_Revision:-1,config:{alias:["clone","System$ICloneable$clone","compareTo","System$IComparable$1$System$Version$compareTo","equalsT","System$IEquatable$1$System$Version$equalsT"]},$ctor3:function(t,e,n,r){if(this.$initialize(),t<0)throw new System.ArgumentOutOfRangeException("major","Cannot be < 0");if(e<0)throw new System.ArgumentOutOfRangeException("minor","Cannot be < 0");if(n<0)throw new System.ArgumentOutOfRangeException("build","Cannot be < 0");if(r<0)throw new System.ArgumentOutOfRangeException("revision","Cannot be < 0");this._Major=t,this._Minor=e,this._Build=n,this._Revision=r},$ctor2:function(t,e,n){if(this.$initialize(),t<0)throw new System.ArgumentOutOfRangeException("major","Cannot be < 0");if(e<0)throw new System.ArgumentOutOfRangeException("minor","Cannot be < 0");if(n<0)throw new System.ArgumentOutOfRangeException("build","Cannot be < 0");this._Major=t,this._Minor=e,this._Build=n},$ctor1:function(t,e){if(this.$initialize(),t<0)throw new System.ArgumentOutOfRangeException("major","Cannot be < 0");if(e<0)throw new System.ArgumentOutOfRangeException("minor","Cannot be < 0");this._Major=t,this._Minor=e},$ctor4:function(t){this.$initialize();t=System.Version.parse(t);this._Major=t.getMajor(),this._Minor=t.getMinor(),this._Build=t.getBuild(),this._Revision=t.getRevision()},ctor:function(){this.$initialize(),this._Major=0,this._Minor=0},getMajor:function(){return this._Major},getMinor:function(){return this._Minor},getBuild:function(){return this._Build},getRevision:function(){return this._Revision},getMajorRevision:function(){return Bridge.Int.sxs(this._Revision>>16&65535)},getMinorRevision:function(){return Bridge.Int.sxs(65535&this._Revision)},clone:function(){var t=new System.Version.ctor;return t._Major=this._Major,t._Minor=this._Minor,t._Build=this._Build,t._Revision=this._Revision,t},compareTo$1:function(t){if(null==t)return 1;t=Bridge.as(t,System.Version);if(System.Version.op_Equality(t,null))throw new System.ArgumentException("version should be of System.Version type");return this._Major!==t._Major?this._Major>t._Major?1:-1:this._Minor!==t._Minor?this._Minor>t._Minor?1:-1:this._Build!==t._Build?this._Build>t._Build?1:-1:this._Revision!==t._Revision?this._Revision>t._Revision?1:-1:0},compareTo:function(t){return System.Version.op_Equality(t,null)?1:this._Major!==t._Major?this._Major>t._Major?1:-1:this._Minor!==t._Minor?this._Minor>t._Minor?1:-1:this._Build!==t._Build?this._Build>t._Build?1:-1:this._Revision!==t._Revision?this._Revision>t._Revision?1:-1:0},equals:function(t){return this.equalsT(Bridge.as(t,System.Version))},equalsT:function(t){return!System.Version.op_Equality(t,null)&&(this._Major===t._Major&&this._Minor===t._Minor&&this._Build===t._Build&&this._Revision===t._Revision)},getHashCode:function(){var t=0,t=0|(15&this._Major)<<28;return t|=(255&this._Minor)<<20,(t|=(255&this._Build)<<12)|4095&this._Revision},toString:function(){return-1===this._Build?this.toString$1(2):-1===this._Revision?this.toString$1(3):this.toString$1(4)},toString$1:function(t){var e;switch(t){case 0:return"";case 1:return this._Major.toString();case 2:return e=new System.Text.StringBuilder,System.Version.appendPositiveNumber(this._Major,e),e.append(String.fromCharCode(46)),System.Version.appendPositiveNumber(this._Minor,e),e.toString();default:if(-1===this._Build)throw new System.ArgumentException("Build should be > 0 if fieldCount > 2","fieldCount");if(3===t)return e=new System.Text.StringBuilder,System.Version.appendPositiveNumber(this._Major,e),e.append(String.fromCharCode(46)),System.Version.appendPositiveNumber(this._Minor,e),e.append(String.fromCharCode(46)),System.Version.appendPositiveNumber(this._Build,e),e.toString();if(-1===this._Revision)throw new System.ArgumentException("Revision should be > 0 if fieldCount > 3","fieldCount");if(4===t)return e=new System.Text.StringBuilder,System.Version.appendPositiveNumber(this._Major,e),e.append(String.fromCharCode(46)),System.Version.appendPositiveNumber(this._Minor,e),e.append(String.fromCharCode(46)),System.Version.appendPositiveNumber(this._Build,e),e.append(String.fromCharCode(46)),System.Version.appendPositiveNumber(this._Revision,e),e.toString();throw new System.ArgumentException("Should be < 5","fieldCount")}}}),Bridge.define("System.Version.ParseFailureKind",{$kind:"enum",statics:{ArgumentNullException:0,ArgumentException:1,ArgumentOutOfRangeException:2,FormatException:3}}),Bridge.define("System.Version.VersionResult",{$kind:"struct",statics:{getDefaultValue:function(){return new System.Version.VersionResult}},m_parsedVersion:null,m_failure:0,m_exceptionArgument:null,m_argumentName:null,m_canThrow:!1,ctor:function(){this.$initialize()},init:function(t,e){this.m_canThrow=e,this.m_argumentName=t},setFailure:function(t){this.setFailure$1(t,"")},setFailure$1:function(t,e){if(this.m_failure=t,this.m_exceptionArgument=e,this.m_canThrow)throw this.getVersionParseException()},getVersionParseException:function(){switch(this.m_failure){case System.Version.ParseFailureKind.ArgumentNullException:return new System.ArgumentNullException(this.m_argumentName);case System.Version.ParseFailureKind.ArgumentException:return new System.ArgumentException("VersionString");case System.Version.ParseFailureKind.ArgumentOutOfRangeException:return new System.ArgumentOutOfRangeException(this.m_exceptionArgument,"Cannot be < 0");case System.Version.ParseFailureKind.FormatException:try{System.Int32.parse(this.m_exceptionArgument)}catch(t){if(t=System.Exception.create(t),Bridge.is(t,System.FormatException)||Bridge.is(t,System.OverflowException))return t;throw t}return new System.FormatException("InvalidString");default:return new System.ArgumentException("VersionString")}},getHashCode:function(){return Bridge.addHash([5139482776,this.m_parsedVersion,this.m_failure,this.m_exceptionArgument,this.m_argumentName,this.m_canThrow])},equals:function(t){return!!Bridge.is(t,System.Version.VersionResult)&&(Bridge.equals(this.m_parsedVersion,t.m_parsedVersion)&&Bridge.equals(this.m_failure,t.m_failure)&&Bridge.equals(this.m_exceptionArgument,t.m_exceptionArgument)&&Bridge.equals(this.m_argumentName,t.m_argumentName)&&Bridge.equals(this.m_canThrow,t.m_canThrow))},$clone:function(t){t=t||new System.Version.VersionResult;return t.m_parsedVersion=this.m_parsedVersion,t.m_failure=this.m_failure,t.m_exceptionArgument=this.m_exceptionArgument,t.m_argumentName=this.m_argumentName,t.m_canThrow=this.m_canThrow,t}}),Bridge.define("System.Attribute",{statics:{getCustomAttributes:function(t,e){if(null==t)throw new System.ArgumentNullException("element");if(null==e)throw new System.ArgumentNullException("attributeType");t=t.at||[];return e?t.filter(function(t){return Bridge.is(t,e)}):t},getCustomAttributes$1:function(t,e,n){if(null==t)throw new System.ArgumentNullException("element");if(null==e)throw new System.ArgumentNullException("attributeType");return t.getCustomAttributes(e||n)}}}),Bridge.define("System.ComponentModel.INotifyPropertyChanged",{$kind:"interface"}),Bridge.define("System.ComponentModel.PropertyChangedEventArgs",{ctor:function(t,e,n){this.$initialize(),this.propertyName=t,this.newValue=e,this.oldValue=n}}),(y={convert:{typeCodes:{Empty:0,Object:1,DBNull:2,Boolean:3,Char:4,SByte:5,Byte:6,Int16:7,UInt16:8,Int32:9,UInt32:10,Int64:11,UInt64:12,Single:13,Double:14,Decimal:15,DateTime:16,String:18},toBoolean:function(t,e){var n,r;switch(typeof t){case"boolean":return t;case"number":return 0!==t;case"string":if("true"===(n=t.toLowerCase().trim()))return!0;if("false"===n)return!1;throw new System.FormatException("String was not recognized as a valid Boolean.");case"object":if(null==t)return!1;if(t instanceof System.Decimal)return!t.isZero();if(System.Int64.is64Bit(t))return t.ne(0)}return r=y.internal.suggestTypeCode(t),y.internal.throwInvalidCastEx(r,y.convert.typeCodes.Boolean),y.convert.convertToType(y.convert.typeCodes.Boolean,t,e||null)},toChar:function(t,e,n){var r=y.convert.typeCodes,i=typeof(t=(t=t instanceof System.Decimal?t.toFloat():t)instanceof System.Int64||t instanceof System.UInt64?t.toNumber():t);if((n=n||y.internal.suggestTypeCode(t))===r.String&&null==t&&(i="string"),n!==r.Object)switch(i){case"boolean":y.internal.throwInvalidCastEx(r.Boolean,r.Char);case"number":return!y.internal.isFloatingType(n)&&t%1==0||y.internal.throwInvalidCastEx(n,r.Char),y.internal.validateNumberRange(t,r.Char,!0),t;case"string":if(null==t)throw new System.ArgumentNullException("value");if(1!==t.length)throw new System.FormatException("String must be exactly one character long.");return t.charCodeAt(0)}if(n===r.Object||"object"===i){if(null==t)return 0;Bridge.isDate(t)&&y.internal.throwInvalidCastEx(r.DateTime,r.Char)}return y.internal.throwInvalidCastEx(n,y.convert.typeCodes.Char),y.convert.convertToType(r.Char,t,e||null)},toSByte:function(t,e,n){return y.internal.toNumber(t,e||null,y.convert.typeCodes.SByte,n||null)},toByte:function(t,e){return y.internal.toNumber(t,e||null,y.convert.typeCodes.Byte)},toInt16:function(t,e){return y.internal.toNumber(t,e||null,y.convert.typeCodes.Int16)},toUInt16:function(t,e){return y.internal.toNumber(t,e||null,y.convert.typeCodes.UInt16)},toInt32:function(t,e){return y.internal.toNumber(t,e||null,y.convert.typeCodes.Int32)},toUInt32:function(t,e){return y.internal.toNumber(t,e||null,y.convert.typeCodes.UInt32)},toInt64:function(t,e){e=y.internal.toNumber(t,e||null,y.convert.typeCodes.Int64);return new System.Int64(e)},toUInt64:function(t,e){e=y.internal.toNumber(t,e||null,y.convert.typeCodes.UInt64);return new System.UInt64(e)},toSingle:function(t,e){return y.internal.toNumber(t,e||null,y.convert.typeCodes.Single)},toDouble:function(t,e){return y.internal.toNumber(t,e||null,y.convert.typeCodes.Double)},toDecimal:function(t,e){return t instanceof System.Decimal?t:new System.Decimal(y.internal.toNumber(t,e||null,y.convert.typeCodes.Decimal))},toDateTime:function(t,e){var n,r,i=y.convert.typeCodes;switch(typeof t){case"boolean":y.internal.throwInvalidCastEx(i.Boolean,i.DateTime);case"number":n=y.internal.suggestTypeCode(t),y.internal.throwInvalidCastEx(n,i.DateTime);case"string":return Bridge.Date.parse(t,e||null);case"object":if(null==t)return y.internal.getMinValue(i.DateTime);if(Bridge.isDate(t))return t;t instanceof System.Decimal&&y.internal.throwInvalidCastEx(i.Decimal,i.DateTime),t instanceof System.Int64&&y.internal.throwInvalidCastEx(i.Int64,i.DateTime),t instanceof System.UInt64&&y.internal.throwInvalidCastEx(i.UInt64,i.DateTime)}return r=y.internal.suggestTypeCode(t),y.internal.throwInvalidCastEx(r,y.convert.typeCodes.DateTime),y.convert.convertToType(i.DateTime,t,e||null)},toString:function(t,e,n){var r=y.convert.typeCodes;switch(typeof t){case"boolean":return t?"True":"False";case"number":return(n||null)===r.Char?String.fromCharCode(t):isNaN(t)?"NaN":(t=t%1!=0?parseFloat(t.toPrecision(15)):t).toString();case"string":return t;case"object":return null==t?"":Bridge.isDate(t)?Bridge.Date.format(t,null,e||null):t instanceof System.Decimal?t.isInteger()?t.toFixed(0,4):t.toPrecision(t.precision()):System.Int64.is64Bit(t)?t.toString():t.format?t.format(null,e||null):Bridge.getTypeName(t)}return y.convert.convertToType(y.convert.typeCodes.String,t,e||null)},toNumberInBase:function(t,e,n){var r,i,o,s,a,u,l,c,g;if(2!==e&&8!==e&&10!==e&&16!==e)throw new System.ArgumentException("Invalid Base.");if(l=y.convert.typeCodes,null==t)return n===l.Int64?System.Int64.Zero:n===l.UInt64?System.UInt64.Zero:0;if(0===t.length)throw new System.ArgumentOutOfRangeException("Index was out of range. Must be non-negative and less than the size of the collection.");t=t.toLowerCase();var h=y.internal.getMinValue(n),m=y.internal.getMaxValue(n),f=!1,d=0;if("-"===t[d]){if(10!==e)throw new System.ArgumentException("String cannot contain a minus sign if the base is not 10.");if(0<=h)throw new System.OverflowException("The string was being parsed as an unsigned number and could not have a negative sign.");f=!0,++d}else"+"===t[d]&&++d;if(16===e&&2<=t.length&&"0"===t[d]&&"x"===t[d+1]&&(d+=2),2===e)r=y.internal.charsToCodes("01");else if(8===e)r=y.internal.charsToCodes("01234567");else if(10===e)r=y.internal.charsToCodes("0123456789");else{if(16!==e)throw new System.ArgumentException("Invalid Base.");r=y.internal.charsToCodes("0123456789abcdef")}for(i={},o=0;o<r.length;o++)i[r[o]]=o;if(s=r[0],a=r[r.length-1],n===l.Int64||n===l.UInt64){for(g=d;g<t.length;g++)if(!(s<=(c=t[g].charCodeAt(0))&&c<=a))throw g===d?new System.FormatException("Could not find any recognizable digits."):new System.FormatException("Additional non-parsable characters are at the end of the string.");if((u=n===l.Int64?new System.Int64(Bridge.$Long.fromString(t,!1,e)):new System.UInt64(Bridge.$Long.fromString(t,!0,e))).toString(e)!==t)throw new System.OverflowException("Value was either too large or too small.");return u}for(u=0,l=m-h+1,g=d;g<t.length;g++){if(!(s<=(c=t[g].charCodeAt(0))&&c<=a))throw g===d?new System.FormatException("Could not find any recognizable digits."):new System.FormatException("Additional non-parsable characters are at the end of the string.");if(u*=e,(u+=i[c])>y.internal.typeRanges.Int64_MaxValue)throw new System.OverflowException("Value was either too large or too small.")}if(f&&(u*=-1),m<u&&10!==e&&h<0&&(u-=l),u<h||m<u)throw new System.OverflowException("Value was either too large or too small.");return u},toStringInBase:function(t,e,n){var r,i,o,s,a,u,l;y.convert.typeCodes;if(2!==e&&8!==e&&10!==e&&16!==e)throw new System.ArgumentException("Invalid Base.");var c=y.internal.getMinValue(n),g=y.internal.getMaxValue(n),h=System.Int64.is64Bit(t);if(h){if(t.lt(c)||t.gt(g))throw new System.OverflowException("Value was either too large or too small for an unsigned byte.")}else if(t<c||g<t)throw new System.OverflowException("Value was either too large or too small for an unsigned byte.");if(n=!1,h)return 10===e?t.toString():t.value.toUnsigned().toString(e);if(t<0&&(10===e?(n=!0,t*=-1):t=g+1-c+t),2===e)r="01";else if(8===e)r="01234567";else if(10===e)r="0123456789";else{if(16!==e)throw new System.ArgumentException("Invalid Base.");r="0123456789abcdef"}for(i={},o=r.split(""),a=0;a<o.length;a++)s=o[a],i[a]=s;if(u="",0===t||h&&t.eq(0))u="0";else if(h)for(;t.gt(0);)l=t.mod(e),t=t.sub(l).div(e),u+=i[l.toNumber()];else for(;0<t;)t=(t-(l=t%e))/e,u+=i[l];return n&&(u+="-"),u.split("").reverse().join("")},toBase64String:function(t,e,n,r){if(null==t)throw new System.ArgumentNullException("inArray");if(e=e||0,r=r||0,(n=null!=n?n:t.length)<0)throw new System.ArgumentOutOfRangeException("length","Index was out of range. Must be non-negative and less than the size of the collection.");if(e<0)throw new System.ArgumentOutOfRangeException("offset","Value must be positive.");if(r<0||1<r)throw new System.ArgumentException("Illegal enum value.");if((o=t.length)-n<e)throw new System.ArgumentOutOfRangeException("offset","Offset and length must refer to a position in the string.");if(0===o)return"";var i=1===r,o=y.internal.toBase64_CalculateAndValidateOutputLength(n,i),r=[];return r.length=o,y.internal.convertToBase64Array(r,t,e,n,i),r.join("")},toBase64CharArray:function(t,e,n,r,i,o){if(null==t)throw new System.ArgumentNullException("inArray");if(null==r)throw new System.ArgumentNullException("outArray");if(n<0)throw new System.ArgumentOutOfRangeException("length","Index was out of range. Must be non-negative and less than the size of the collection.");if(e<0)throw new System.ArgumentOutOfRangeException("offsetIn","Value must be positive.");if(i<0)throw new System.ArgumentOutOfRangeException("offsetOut","Value must be positive.");if((o=o||0)<0||1<o)throw new System.ArgumentException("Illegal enum value.");if((s=t.length)-n<e)throw new System.ArgumentOutOfRangeException("offsetIn","Offset and length must refer to a position in the string.");if(0===s)return 0;var s=1===o;if(r.length-y.internal.toBase64_CalculateAndValidateOutputLength(n,s)<i)throw new System.ArgumentOutOfRangeException("offsetOut","Either offset did not refer to a position in the string, or there is an insufficient length of destination character array.");return s=y.internal.convertToBase64Array(o=[],t,e,n,s),y.internal.charsToCodes(o,r,i),s},fromBase64String:function(t){if(null==t)throw new System.ArgumentNullException("s");t=t.split("");return y.internal.fromBase64CharPtr(t,0,t.length)},fromBase64CharArray:function(t,e,n){if(null==t)throw new System.ArgumentNullException("inArray");if(n<0)throw new System.ArgumentOutOfRangeException("length","Index was out of range. Must be non-negative and less than the size of the collection.");if(e<0)throw new System.ArgumentOutOfRangeException("offset","Value must be positive.");if(e>t.length-n)throw new System.ArgumentOutOfRangeException("offset","Offset and length must refer to a position in the string.");t=y.internal.codesToChars(t);return y.internal.fromBase64CharPtr(t,e,n)},convertToType:function(){throw new System.NotSupportedException("IConvertible interface is not supported.")}}}).internal={base64Table:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/","="],typeRanges:{Char_MinValue:0,Char_MaxValue:65535,Byte_MinValue:0,Byte_MaxValue:255,SByte_MinValue:-128,SByte_MaxValue:127,Int16_MinValue:-32768,Int16_MaxValue:32767,UInt16_MinValue:0,UInt16_MaxValue:65535,Int32_MinValue:-2147483648,Int32_MaxValue:2147483647,UInt32_MinValue:0,UInt32_MaxValue:4294967295,Int64_MinValue:System.Int64.MinValue,Int64_MaxValue:System.Int64.MaxValue,UInt64_MinValue:System.UInt64.MinValue,UInt64_MaxValue:System.UInt64.MaxValue,Single_MinValue:-340282347e30,Single_MaxValue:340282347e30,Double_MinValue:-17976931348623157e292,Double_MaxValue:17976931348623157e292,Decimal_MinValue:System.Decimal.MinValue,Decimal_MaxValue:System.Decimal.MaxValue},base64LineBreakPosition:76,getTypeCodeName:function(t){var e,n,r,i=y.convert.typeCodes;if(null==y.internal.typeCodeNames){for(n in e={},i)i.hasOwnProperty(n)&&(r=i[n],e[r]=n);y.internal.typeCodeNames=e}if(null==(t=y.internal.typeCodeNames[t]))throw System.ArgumentOutOfRangeException("typeCode","The specified typeCode is undefined.");return t},suggestTypeCode:function(t){var e=y.convert.typeCodes;switch(typeof t){case"boolean":return e.Boolean;case"number":return t%1!=0?e.Double:e.Int32;case"string":return e.String;case"object":if(Bridge.isDate(t))return e.DateTime;if(null!=t)return e.Object}return null},getMinValue:function(t){var e,n=y.convert.typeCodes;switch(t){case n.Char:return y.internal.typeRanges.Char_MinValue;case n.SByte:return y.internal.typeRanges.SByte_MinValue;case n.Byte:return y.internal.typeRanges.Byte_MinValue;case n.Int16:return y.internal.typeRanges.Int16_MinValue;case n.UInt16:return y.internal.typeRanges.UInt16_MinValue;case n.Int32:return y.internal.typeRanges.Int32_MinValue;case n.UInt32:return y.internal.typeRanges.UInt32_MinValue;case n.Int64:return y.internal.typeRanges.Int64_MinValue;case n.UInt64:return y.internal.typeRanges.UInt64_MinValue;case n.Single:return y.internal.typeRanges.Single_MinValue;case n.Double:return y.internal.typeRanges.Double_MinValue;case n.Decimal:return y.internal.typeRanges.Decimal_MinValue;case n.DateTime:return(e=new Date(0)).setFullYear(1),e;default:return null}},getMaxValue:function(t){var e=y.convert.typeCodes;switch(t){case e.Char:return y.internal.typeRanges.Char_MaxValue;case e.SByte:return y.internal.typeRanges.SByte_MaxValue;case e.Byte:return y.internal.typeRanges.Byte_MaxValue;case e.Int16:return y.internal.typeRanges.Int16_MaxValue;case e.UInt16:return y.internal.typeRanges.UInt16_MaxValue;case e.Int32:return y.internal.typeRanges.Int32_MaxValue;case e.UInt32:return y.internal.typeRanges.UInt32_MaxValue;case e.Int64:return y.internal.typeRanges.Int64_MaxValue;case e.UInt64:return y.internal.typeRanges.UInt64_MaxValue;case e.Single:return y.internal.typeRanges.Single_MaxValue;case e.Double:return y.internal.typeRanges.Double_MaxValue;case e.Decimal:return y.internal.typeRanges.Decimal_MaxValue;default:throw new System.ArgumentOutOfRangeException("typeCode","The specified typeCode is undefined.")}},isFloatingType:function(t){var e=y.convert.typeCodes;return t===e.Single||t===e.Double||t===e.Decimal},toNumber:function(t,e,n,r){var i,o=y.convert.typeCodes,s=typeof t,a=y.internal.isFloatingType(n);switch(r===o.String&&(s="string"),s=System.Int64.is64Bit(t)||t instanceof System.Decimal?"number":s){case"boolean":return t?1:0;case"number":return n===o.Decimal?(y.internal.validateNumberRange(t,n,!0),new System.Decimal(t,e)):n===o.Int64?(y.internal.validateNumberRange(t,n,!0),new System.Int64(t)):n===o.UInt64?(y.internal.validateNumberRange(t,n,!0),new System.UInt64(t)):(System.Int64.is64Bit(t)?t=t.toNumber():t instanceof System.Decimal&&(t=t.toFloat()),a||t%1==0||(t=y.internal.roundToInt(t,n)),a&&(i=y.internal.getMinValue(n),y.internal.getMaxValue(n)<t?t=1/0:t<i&&(t=-1/0)),y.internal.validateNumberRange(t,n,!1),t);case"string":if(null==t){if(null!=e)throw new System.ArgumentNullException("String","Value cannot be null.");return 0}if(a)if(n===o.Decimal){if(!/^[+-]?(\d+|\d+.|\d*\.\d+)$/.test(t)&&!/^[+-]?[0-9]+$/.test(t))throw new System.FormatException("Input string was not in a correct format.");t=System.Decimal(t,e)}else{if(!/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(t))throw new System.FormatException("Input string was not in a correct format.");t=parseFloat(t)}else{if(!/^[+-]?[0-9]+$/.test(t))throw new System.FormatException("Input string was not in a correct format.");i=t,n===o.Int64?i!==(t=new System.Int64(t)).toString()&&this.throwOverflow(y.internal.getTypeCodeName(n)):n===o.UInt64?i!==(t=new System.UInt64(t)).toString()&&this.throwOverflow(y.internal.getTypeCodeName(n)):t=parseInt(t,10)}if(isNaN(t))throw new System.FormatException("Input string was not in a correct format.");return y.internal.validateNumberRange(t,n,!0),t;case"object":if(null==t)return 0;Bridge.isDate(t)&&y.internal.throwInvalidCastEx(y.convert.typeCodes.DateTime,n)}return r=r||y.internal.suggestTypeCode(t),y.internal.throwInvalidCastEx(r,n),y.convert.convertToType(n,t,e)},validateNumberRange:function(t,e,n){var r=y.convert.typeCodes,i=y.internal.getMinValue(e),o=y.internal.getMaxValue(e),s=y.internal.getTypeCodeName(e);(e!==r.Single&&e!==r.Double||n||t!==1/0&&t!==-1/0)&&(e===r.Decimal||e===r.Int64||e===r.UInt64?e===r.Decimal?(System.Int64.is64Bit(t)||(i.gt(t)||o.lt(t))&&this.throwOverflow(s),new System.Decimal(t)):e===r.Int64?(t instanceof System.UInt64?t.gt(System.Int64.MaxValue)&&this.throwOverflow(s):t instanceof System.Decimal?(t.gt(new System.Decimal(o))||t.lt(new System.Decimal(i)))&&this.throwOverflow(s):t instanceof System.Int64||(i.toNumber()>t||o.toNumber()<t)&&this.throwOverflow(s),new System.Int64(t)):e===r.UInt64&&(t instanceof System.Int64?t.isNegative()&&this.throwOverflow(s):t instanceof System.Decimal?(t.gt(new System.Decimal(o))||t.lt(new System.Decimal(i)))&&this.throwOverflow(s):t instanceof System.UInt64||(i.toNumber()>t||o.toNumber()<t)&&this.throwOverflow(s),new System.UInt64(t)):(t<i||o<t)&&this.throwOverflow(s))},throwOverflow:function(t){throw new System.OverflowException("Value was either too large or too small for '"+t+"'.")},roundToInt:function(t,e){if(t%1==0)return t;var n,r=t-(n=0<=t?Math.floor(t):-1*Math.floor(-t)),i=y.internal.getMinValue(e),o=y.internal.getMaxValue(e);if(0<=t){if(t<o+.5)return(.5<r||.5==r&&0!=(1&n))&&++n,n}else if(i-.5<=t)return(r<-.5||-.5==r&&0!=(1&n))&&--n,n;throw e=y.internal.getTypeCodeName(e),new System.OverflowException("Value was either too large or too small for an '"+e+"'.")},toBase64_CalculateAndValidateOutputLength:function(t,e){var n=y.internal.base64LineBreakPosition,r=4*~~(t/3);if(0===(r+=t%3!=0?4:0))return 0;if(e&&(e=~~(r/n),r%n==0&&--e,r+=2*e),2147483647<r)throw new System.OutOfMemoryException;return r},convertToBase64Array:function(t,e,n,r,i){for(var o=y.internal.base64Table,s=y.internal.base64LineBreakPosition,a=r%3,u=n+(r-a),l=0,c=0,g=n;g<u;g+=3)i&&(l===s&&(t[c++]="\r",t[c++]="\n",l=0),l+=4),t[c]=o[(252&e[g])>>2],t[c+1]=o[(3&e[g])<<4|(240&e[g+1])>>4],t[c+2]=o[(15&e[g+1])<<2|(192&e[g+2])>>6],t[c+3]=o[63&e[g+2]],c+=4;switch(g=u,i&&0!=a&&l===y.internal.base64LineBreakPosition&&(t[c++]="\r",t[c++]="\n"),a){case 2:t[c]=o[(252&e[g])>>2],t[c+1]=o[(3&e[g])<<4|(240&e[g+1])>>4],t[c+2]=o[(15&e[g+1])<<2],t[c+3]=o[64],c+=4;break;case 1:t[c]=o[(252&e[g])>>2],t[c+1]=o[(3&e[g])<<4],t[c+2]=o[64],t[c+3]=o[64],c+=4}return c},fromBase64CharPtr:function(t,e,n){var r,i,o;if(n<0)throw new System.ArgumentOutOfRangeException("inputLength","Index was out of range. Must be non-negative and less than the size of the collection.");if(e<0)throw new System.ArgumentOutOfRangeException("offset","Value must be positive.");for(;0<n&&(" "===(r=t[e+n-1])||"\n"===r||"\r"===r||"\t"===r);)n--;if((i=y.internal.fromBase64_ComputeResultLength(t,e,n))<0)throw new System.InvalidOperationException("Contract voilation: 0 <= resultLength.");return(o=[]).length=i,y.internal.fromBase64_Decode(t,e,n,o,0,i),o},fromBase64_Decode:function(t,e,n,r,i,o){for(var s,a,u=i,l="A".charCodeAt(0),c="a".charCodeAt(0),g="0".charCodeAt(0),h="=".charCodeAt(0),m="+".charCodeAt(0),f="/".charCodeAt(0),d=" ".charCodeAt(0),y="\t".charCodeAt(0),p="\n".charCodeAt(0),S="\r".charCodeAt(0),C="Z".charCodeAt(0)-"A".charCodeAt(0),x="9".charCodeAt(0)-"0".charCodeAt(0),w=e+n,v=i+o,b=255,B=!1,I=!1;;){if(w<=e){B=!0;break}if(s=t[e].charCodeAt(0),e++,s-l>>>0<=C)s-=l;else if(s-c>>>0<=C)s-=c-26;else if(s-g>>>0<=x)s-=g-52;else switch(s){case m:s=62;break;case f:s=63;break;case S:case p:case d:case y:continue;case h:I=!0;break;default:throw new System.FormatException("The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.")}if(I)break;if(0!=(2147483648&(b=b<<6|s))){if(v-i<3)return-1;r[i]=255&b>>16,r[i+1]=255&b>>8,r[i+2]=255&b,i+=3,b=255}}if(!B&&!I)throw new System.InvalidOperationException("Contract violation: should never get here.");if(I){if(s!==h)throw new System.InvalidOperationException("Contract violation: currCode == intEq.");if(e===w){if(0==(2147483648&(b<<=6)))throw new System.FormatException("Invalid length for a Base-64 char array or string.");if(v-i<2)return-1;r[i]=255&b>>16,r[i+1]=255&b>>8,i+=2,b=255}else{for(;e<w-1&&(" "===(a=t[e])||"\n"===a||"\r"===a||"\t"===a);)e++;if(e!==w-1||"="!==t[e])throw new System.FormatException("The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.");if(0==(2147483648&(b<<=12)))throw new System.FormatException("Invalid length for a Base-64 char array or string.");if(v-i<1)return-1;r[i]=255&b>>16,i++,b=255}}if(255!==b)throw new System.FormatException("Invalid length for a Base-64 char array or string.");return i-u},fromBase64_ComputeResultLength:function(t,e,n){var r;if(n<0)throw new System.ArgumentOutOfRangeException("inputLength","Index was out of range. Must be non-negative and less than the size of the collection.");for(var i=e+n,o=n,s=0;e<i;)r=t[e],e++,r<=" "?o--:"="===r&&(o--,s++);if(o<0)throw new System.InvalidOperationException("Contract violation: 0 <= usefulInputLength.");if(s<0)throw new System.InvalidOperationException("Contract violation: 0 <= padding.");if(0!==s)if(1===s)s=2;else{if(2!==s)throw new System.FormatException("The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.");s=1}return 3*~~(o/4)+s},charsToCodes:function(t,e,n){if(null==t)return null;n=n||0,null==e&&((e=[]).length=t.length);for(var r=0;r<t.length;r++)e[r+n]=t[r].charCodeAt(0);return e},codesToChars:function(t,e){var n,r;if(null==t)return null;for(e=e||[],n=0;n<t.length;n++)r=t[n],e[n]=String.fromCharCode(r);return e},throwInvalidCastEx:function(t,e){t=y.internal.getTypeCodeName(t),e=y.internal.getTypeCodeName(e);throw new System.InvalidCastException("Invalid cast from '"+t+"' to '"+e+"'.")}},System.Convert=y.convert,Bridge.define("System.Net.WebSockets.ClientWebSocket",{inherits:[System.IDisposable],ctor:function(){this.$initialize(),this.messageBuffer=[],this.state="none",this.options=new System.Net.WebSockets.ClientWebSocketOptions,this.disposed=!1,this.closeStatus=null,this.closeStatusDescription=null},getCloseStatus:function(){return this.closeStatus},getState:function(){return this.state},getCloseStatusDescription:function(){return this.closeStatusDescription},getSubProtocol:function(){return this.socket?this.socket.protocol:null},connectAsync:function(t){if("none"!==this.state)throw new System.InvalidOperationException("Socket is not in initial state");this.options.setToReadOnly(),this.state="connecting";var e=new System.Threading.Tasks.TaskCompletionSource,o=this;try{this.socket=new WebSocket(t.getAbsoluteUri(),this.options.requestedSubProtocols),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){o.state="open",e.setResult(null)},this.socket.onmessage=function(t){var e,n,r=t.data,i={bytes:[]};if("string"==typeof r){for(e=0;e<r.length;++e)i.bytes.push(r.charCodeAt(e));return i.messageType="text",void o.messageBuffer.push(i)}if(r instanceof ArrayBuffer){for(n=new Uint8Array(r),e=0;e<n.length;e++)i.bytes.push(n[e]);return i.messageType="binary",void o.messageBuffer.push(i)}throw new System.ArgumentException("Invalid message type.")},this.socket.onclose=function(t){o.state="closed",o.closeStatus=t.code,o.closeStatusDescription=t.reason}}catch(t){e.setException(System.Exception.create(t))}return e.task},sendAsync:function(t,e){var n,r,i,o,s;this.throwIfNotConnected(),n=new System.Threading.Tasks.TaskCompletionSource;try{switch(r=t.getArray(),e){case"binary":for(i=new ArrayBuffer(r.length),o=new Int8Array(i),s=0;s<r.length;s++)o[s]=r[s];break;case"text":i=String.fromCharCode.apply(null,r)}"close"===e?this.socket.close():this.socket.send(i),n.setResult(null)}catch(t){n.setException(System.Exception.create(t))}return n.task},receiveAsync:function(o,s){this.throwIfNotConnected();var a=new System.Threading.Tasks.TaskCompletionSource,u=this,l=Bridge.fn.bind(this,function(){var t,e,n,r,i;try{if(s.getIsCancellationRequested())return void a.setException(new System.Threading.Tasks.TaskCanceledException("Receive has been cancelled.",a.task));if(0===u.messageBuffer.length)return void System.Threading.Tasks.Task.delay(0).continueWith(l);for(t=u.messageBuffer[0],e=o.getArray(),r=t.bytes.length<=e.length?(u.messageBuffer.shift(),n=t.bytes,!0):(n=t.bytes.slice(0,e.length),t.bytes=t.bytes.slice(e.length,t.bytes.length),!1),i=0;i<n.length;i++)e[i]=n[i];a.setResult(new System.Net.WebSockets.WebSocketReceiveResult(n.length,t.messageType,r))}catch(t){a.setException(System.Exception.create(t))}},arguments);return l(),a.task},closeAsync:function(t,e,n){if(this.throwIfNotConnected(),"open"!==this.state)throw new System.InvalidOperationException("Socket is not in connected state");var r=new System.Threading.Tasks.TaskCompletionSource,i=this,o=function(){"closed"!==i.state?n.getIsCancellationRequested()?r.setException(new System.Threading.Tasks.TaskCanceledException("Closing has been cancelled.",r.task)):System.Threading.Tasks.Task.delay(0).continueWith(o):r.setResult(null)};try{this.state="closesent",this.socket.close(t,e)}catch(t){r.setException(System.Exception.create(t))}return o(),r.task},closeOutputAsync:function(t,e){if(this.throwIfNotConnected(),"open"!==this.state)throw new System.InvalidOperationException("Socket is not in connected state");var n=new System.Threading.Tasks.TaskCompletionSource;try{this.state="closesent",this.socket.close(t,e),n.setResult(null)}catch(t){n.setException(System.Exception.create(t))}return n.task},abort:function(){this.dispose()},dispose:function(){this.disposed||(this.disposed=!0,this.messageBuffer=[],"open"===state&&(this.state="closesent",this.socket.close()))},throwIfNotConnected:function(){if(this.disposed)throw new System.InvalidOperationException("Socket is disposed.");if(1!==this.socket.readyState)throw new System.InvalidOperationException("Socket is not connected.")}}),Bridge.define("System.Net.WebSockets.ClientWebSocketOptions",{ctor:function(){this.$initialize(),this.isReadOnly=!1,this.requestedSubProtocols=[]},setToReadOnly:function(){if(this.isReadOnly)throw new System.InvalidOperationException("Options are already readonly.");this.isReadOnly=!0},addSubProtocol:function(t){if(this.isReadOnly)throw new System.InvalidOperationException("Socket already started.");if(-1<this.requestedSubProtocols.indexOf(t))throw new System.ArgumentException("Socket cannot have duplicate sub-protocols.","subProtocol");this.requestedSubProtocols.push(t)}}),Bridge.define("System.Net.WebSockets.WebSocketReceiveResult",{ctor:function(t,e,n,r,i){this.$initialize(),this.count=t,this.messageType=e,this.endOfMessage=n,this.closeStatus=r,this.closeStatusDescription=i},getCount:function(){return this.count},getMessageType:function(){return this.messageType},getEndOfMessage:function(){return this.endOfMessage},getCloseStatus:function(){return this.closeStatus},getCloseStatusDescription:function(){return this.closeStatusDescription}}),Bridge.define("System.Uri",{ctor:function(t){this.$initialize(),this.absoluteUri=t},getAbsoluteUri:function(){return this.absoluteUri}}),function(c){function g(t,e,n){var r=new o,i=v;this.getCurrent=r.getCurrent,this.reset=function(){throw new Error("Reset is not supported")},this.moveNext=function(){try{switch(i){case v:i=b,t();case b:return!!e.apply(r)||(this.dispose(),!1);case B:return!1}}catch(t){throw this.dispose(),t}},this.dispose=function(){if(i==b)try{n()}finally{i=B}},this.getCurrent$1=this.getCurrent,this.System$Collections$IEnumerator$getCurrent=this.getCurrent,this.System$Collections$IEnumerator$moveNext=this.moveNext,this.System$Collections$IEnumerator$reset=this.reset}var o,h,t,r,s,a,u,i,l,e,m,f={Identity:function(t){return t},True:function(){return!0},Blank:function(){}},n="boolean",d="number",y="string",p="object",S=typeof c,C="function",x={"":f.Identity},w={createLambda:function(t){var e,n,r,i,o,s,a,u,l;if(null==t)return f.Identity;if(typeof t!==y)return t;if(null!=(e=x[t]))return e;if(-1!==t.indexOf("=>"))return l=t.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/),e=new Function(l[1],"return "+l[2]),x[t]=e;for(n=new RegExp("[$]+","g"),r=0;null!=(i=n.exec(t));)r<(i=i[0].length)&&(r=i);for(o=[],s=1;s<=r;s++){for(a="",u=0;u<s;u++)a+="$";o.push(a)}return l=Array.prototype.join.call(o,","),e=new Function(l,"return "+t),x[t]=e},isIEnumerable:function(t){if(typeof Enumerator!==S)try{return new Enumerator(t),!0}catch(t){}return!1},defineProperty:null!=Object.defineProperties?function(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}:function(t,e,n){t[e]=n},compare:function(t,e){return t===e?0:e<t?1:-1},dispose:function(t){null!=t&&t.dispose()}},v=0,b=1,B=2;g.$$inherits=[],Bridge.Class.addExtend(g,[System.IDisposable,System.Collections.IEnumerator]),o=function(){var e=null;this.getCurrent=function(){return e},this.yieldReturn=function(t){return e=t,!0},this.yieldBreak=function(){return!1}},(h=function(t){this.getEnumerator=t}).$$inherits=[],Bridge.Class.addExtend(h,[System.Collections.IEnumerable]),(h.Utils={}).createLambda=function(t){return w.createLambda(t)},h.Utils.createEnumerable=function(t){return new h(t)},h.Utils.createEnumerator=function(t,e,n){return new g(t,e,n)},h.Utils.extendTo=function(t){var e,n,r,i=t.prototype;for(n in t===Array?(e=u.prototype,w.defineProperty(i,"getSource",function(){return this})):(e=h.prototype,w.defineProperty(i,"getEnumerator",function(){return h.from(this).getEnumerator()})),e)r=e[n],i[n]!=r&&(null==i[n]||(n+="ByLinq",i[n]!=r))&&r instanceof Function&&w.defineProperty(i,n,r)},h.choice=function(){var t=arguments;return new h(function(){return new g(function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t},function(){return this.yieldReturn(t[Math.floor(Math.random()*t.length)])},f.Blank)})},h.cycle=function(){var e=arguments;return new h(function(){var t=0;return new g(function(){e=e[0]instanceof Array?e[0]:null!=e[0].getEnumerator?e[0].toArray():e},function(){return t>=e.length&&(t=0),this.yieldReturn(e[t++])},f.Blank)})},t=new h(function(){return new g(f.Blank,function(){return!1},f.Blank)}),h.empty=function(){return t},h.from=function(r){if(null==r)return h.empty();if(r instanceof h)return r;if(typeof r==d||typeof r==n)return h.repeat(r,1);if(typeof r==y)return new h(function(){var t=0;return new g(f.Blank,function(){return t<r.length&&this.yieldReturn(r.charCodeAt(t++))},f.Blank)});var t=Bridge.as(r,System.Collections.IEnumerable);if(t)return new h(function(){var e;return new g(function(){e=Bridge.getEnumerator(t)},function(){return!!e.moveNext()&&this.yieldReturn(e.getCurrent())},function(){var t=Bridge.as(e,System.IDisposable);t&&t.dispose()})});if(typeof r!=C){if(typeof r.length==d)return new u(r);if(!(r instanceof Object)&&w.isIEnumerable(r))return new h(function(){var t,e=!0;return new g(function(){t=new Enumerator(r)},function(){return e?e=!1:t.moveNext(),!t.atEnd()&&this.yieldReturn(t.item())},f.Blank)});if(typeof Windows===p&&typeof r.first===C)return new h(function(){var t,e=!0;return new g(function(){t=r.first()},function(){return e?e=!1:t.moveNext(),t.hasCurrent?this.yieldReturn(t.current):this.yieldBreak()},f.Blank)})}return new h(function(){var n=[],t=0;return new g(function(){var t,e;for(t in r)e=r[t],e instanceof Function||!Object.prototype.hasOwnProperty.call(r,t)||n.push({key:t,value:e})},function(){return t<n.length&&this.yieldReturn(n[t++])},f.Blank)})},h.make=function(t){return h.repeat(t,1)},h.matches=function(n,t,r){return null==r&&(r=""),t instanceof RegExp&&(r+=t.ignoreCase?"i":"",r+=t.multiline?"m":"",t=t.source),-1===r.indexOf("g")&&(r+="g"),new h(function(){var e;return new g(function(){e=new RegExp(t,r)},function(){var t=e.exec(n);return!!t&&this.yieldReturn(t)},f.Blank)})},h.range=function(n,r,i){return null==i&&(i=1),new h(function(){var t,e=0;return new g(function(){t=n-i},function(){return e++<r?this.yieldReturn(t+=i):this.yieldBreak()},f.Blank)})},h.rangeDown=function(n,r,i){return null==i&&(i=1),new h(function(){var t,e=0;return new g(function(){t=n+i},function(){return e++<r?this.yieldReturn(t-=i):this.yieldBreak()},f.Blank)})},h.rangeTo=function(t,n,r){return null==r&&(r=1),new h(t<n?function(){var e;return new g(function(){e=t-r},function(){var t=e+=r;return t<=n?this.yieldReturn(t):this.yieldBreak()},f.Blank)}:function(){var e;return new g(function(){e=t+r},function(){var t=e-=r;return n<=t?this.yieldReturn(t):this.yieldBreak()},f.Blank)})},h.repeat=function(t,e){return null!=e?h.repeat(t).take(e):new h(function(){return new g(f.Blank,function(){return this.yieldReturn(t)},f.Blank)})},h.repeatWithFinalize=function(e,n){return e=w.createLambda(e),n=w.createLambda(n),new h(function(){var t;return new g(function(){t=e()},function(){return this.yieldReturn(t)},function(){null!=t&&(n(t),t=null)})})},h.generate=function(t,e){return null!=e?h.generate(t).take(e):(t=w.createLambda(t),new h(function(){return new g(f.Blank,function(){return this.yieldReturn(t())},f.Blank)}))},h.toInfinity=function(e,n){return null==e&&(e=0),null==n&&(n=1),new h(function(){var t;return new g(function(){t=e-n},function(){return this.yieldReturn(t+=n)},f.Blank)})},h.toNegativeInfinity=function(e,n){return null==e&&(e=0),null==n&&(n=1),new h(function(){var t;return new g(function(){t=e+n},function(){return this.yieldReturn(t-=n)},f.Blank)})},h.unfold=function(n,r){return r=w.createLambda(r),new h(function(){var t,e=!0;return new g(f.Blank,function(){return t=e?(e=!1,n):r(t),this.yieldReturn(t)},f.Blank)})},h.defer=function(e){return new h(function(){var t;return new g(function(){t=h.from(e()).getEnumerator()},function(){return t.moveNext()?this.yieldReturn(t.getCurrent()):this.yieldBreak()},function(){w.dispose(t)})})},h.prototype.traverseBreadthFirst=function(i,o){var t=this;return i=w.createLambda(i),o=w.createLambda(o),new h(function(){var e,n=0,r=[];return new g(function(){e=t.getEnumerator()},function(){for(;;){if(e.moveNext())return r.push(e.getCurrent()),this.yieldReturn(o(e.getCurrent(),n));var t=h.from(r).selectMany(function(t){return i(t)});if(!t.any())return!1;n++,r=[],w.dispose(e),e=t.getEnumerator()}},function(){w.dispose(e)})})},h.prototype.traverseDepthFirst=function(r,i){var t=this;return r=w.createLambda(r),i=w.createLambda(i),new h(function(){var e,n=[];return new g(function(){e=t.getEnumerator()},function(){for(;;){if(e.moveNext()){var t=i(e.getCurrent(),n.length);return n.push(e),e=h.from(r(e.getCurrent())).getEnumerator(),this.yieldReturn(t)}if(n.length<=0)return!1;w.dispose(e),e=n.pop()}},function(){try{w.dispose(e)}finally{h.from(n).forEach(function(t){t.dispose()})}})})},h.prototype.flatten=function(){var n=this;return new h(function(){var t,e=null;return new g(function(){t=n.getEnumerator()},function(){for(;;){if(null!=e){if(e.moveNext())return this.yieldReturn(e.getCurrent());e=null}if(t.moveNext()){if(t.getCurrent()instanceof Array){w.dispose(e),e=h.from(t.getCurrent()).selectMany(f.Identity).flatten().getEnumerator();continue}return this.yieldReturn(t.getCurrent())}return!1}},function(){try{w.dispose(t)}finally{w.dispose(e)}})})},h.prototype.pairwise=function(n){var t=this;return n=w.createLambda(n),new h(function(){var e;return new g(function(){(e=t.getEnumerator()).moveNext()},function(){var t=e.getCurrent();return!!e.moveNext()&&this.yieldReturn(n(t,e.getCurrent()))},function(){w.dispose(e)})})},h.prototype.scan=function(r,i){var o=null==i?(i=w.createLambda(r),!1):(i=w.createLambda(i),!0),s=this;return new h(function(){var t,e,n=!0;return new g(function(){t=s.getEnumerator()},function(){if(n){if(n=!1,o)return this.yieldReturn(e=r);if(t.moveNext())return this.yieldReturn(e=t.getCurrent())}return!!t.moveNext()&&this.yieldReturn(e=i(e,t.getCurrent()))},function(){w.dispose(t)})})},h.prototype.select=function(n){if((n=w.createLambda(n)).length<=1)return new l(this,null,n);var r=this;return new h(function(){var t,e=0;return new g(function(){t=r.getEnumerator()},function(){return!!t.moveNext()&&this.yieldReturn(n(t.getCurrent(),e++))},function(){w.dispose(t)})})},h.prototype.selectMany=function(i,o){var t=this;return i=w.createLambda(i),null==o&&(o=function(t,e){return e}),o=w.createLambda(o),new h(function(){var e,n=c,r=0;return new g(function(){e=t.getEnumerator()},function(){if(n===c&&!e.moveNext())return!1;do{var t;if(null==n&&(t=i(e.getCurrent(),r++),n=h.from(t).getEnumerator()),n.moveNext())return this.yieldReturn(o(e.getCurrent(),n.getCurrent()))}while(w.dispose(n),n=null,e.moveNext());return!1},function(){try{w.dispose(e)}finally{w.dispose(n)}})})},h.prototype.where=function(n){if((n=w.createLambda(n)).length<=1)return new i(this,n);var r=this;return new h(function(){var t,e=0;return new g(function(){t=r.getEnumerator()},function(){for(;t.moveNext();)if(n(t.getCurrent(),e++))return this.yieldReturn(t.getCurrent());return!1},function(){w.dispose(t)})})},h.prototype.choose=function(r){r=w.createLambda(r);var t=this;return new h(function(){var e,n=0;return new g(function(){e=t.getEnumerator()},function(){for(;e.moveNext();){var t=r(e.getCurrent(),n++);if(null!=t)return this.yieldReturn(t)}return this.yieldBreak()},function(){w.dispose(e)})})},h.prototype.ofType=function(n){var t=this;return new h(function(){var e;return new g(function(){e=Bridge.getEnumerator(t)},function(){for(;e.moveNext();){var t=Bridge.as(e.getCurrent(),n);if(Bridge.hasValue(t))return this.yieldReturn(t)}return!1},function(){w.dispose(e)})})},h.prototype.zip=function(){var r,i=arguments,o=w.createLambda(arguments[arguments.length-1]),s=this;return 2==arguments.length?(r=arguments[0],new h(function(){var t,e,n=0;return new g(function(){t=s.getEnumerator(),e=h.from(r).getEnumerator()},function(){return!(!t.moveNext()||!e.moveNext())&&this.yieldReturn(o(t.getCurrent(),e.getCurrent(),n++))},function(){try{w.dispose(t)}finally{w.dispose(e)}})})):new h(function(){var e,n=0;return new g(function(){var t=h.make(s).concat(h.from(i).takeExceptLast().select(h.from)).select(function(t){return t.getEnumerator()}).toArray();e=h.from(t)},function(){if(e.all(function(t){return t.moveNext()})){var t=e.select(function(t){return t.getCurrent()}).toArray();return t.push(n++),this.yieldReturn(o.apply(null,t))}return this.yieldBreak()},function(){h.from(e).forEach(w.dispose)})})},h.prototype.merge=function(){var t=arguments,r=this;return new h(function(){var e,n=-1;return new g(function(){e=h.make(r).concat(h.from(t).select(h.from)).select(function(t){return t.getEnumerator()}).toArray()},function(){for(;0<e.length;){n=n>=e.length-1?0:n+1;var t=e[n];if(t.moveNext())return this.yieldReturn(t.getCurrent());t.dispose(),e.splice(n--,1)}return this.yieldBreak()},function(){h.from(e).forEach(w.dispose)})})},h.prototype.join=function(t,o,s,a,u){o=w.createLambda(o),s=w.createLambda(s),a=w.createLambda(a);var l=this;return new h(function(){var e,n,r=null,i=0;return new g(function(){e=l.getEnumerator(),n=h.from(t).toLookup(s,f.Identity,u)},function(){for(var t;;){if(null!=r){if((t=r[i++])!==c)return this.yieldReturn(a(e.getCurrent(),t));t=null,i=0}if(!e.moveNext())return!1;t=o(e.getCurrent()),r=n.get(t).toArray()}},function(){w.dispose(e)})})},h.prototype.groupJoin=function(t,r,i,o,s){r=w.createLambda(r),i=w.createLambda(i),o=w.createLambda(o);var a=this;return new h(function(){var e=a.getEnumerator(),n=null;return new g(function(){e=a.getEnumerator(),n=h.from(t).toLookup(i,f.Identity,s)},function(){if(e.moveNext()){var t=n.get(r(e.getCurrent()));return this.yieldReturn(o(e.getCurrent(),t))}return!1},function(){w.dispose(e)})})},h.prototype.all=function(e){e=w.createLambda(e);var n=!0;return this.forEach(function(t){if(!e(t))return n=!1}),n},h.prototype.any=function(t){t=w.createLambda(t);var e=this.getEnumerator();try{if(0==arguments.length)return e.moveNext();for(;e.moveNext();)if(t(e.getCurrent()))return!0;return!1}finally{w.dispose(e)}},h.prototype.isEmpty=function(){return!this.any()},h.prototype.concat=function(){var n,t,r=this;return 1==arguments.length?(n=arguments[0],new h(function(){var t,e;return new g(function(){t=r.getEnumerator()},function(){if(null==e){if(t.moveNext())return this.yieldReturn(t.getCurrent());e=h.from(n).getEnumerator()}return!!e.moveNext()&&this.yieldReturn(e.getCurrent())},function(){try{w.dispose(t)}finally{w.dispose(e)}})})):(t=arguments,new h(function(){var e;return new g(function(){e=h.make(r).concat(h.from(t).select(h.from)).select(function(t){return t.getEnumerator()}).toArray()},function(){for(;0<e.length;){var t=e[0];if(t.moveNext())return this.yieldReturn(t.getCurrent());t.dispose(),e.splice(0,1)}return this.yieldBreak()},function(){h.from(e).forEach(w.dispose)})}))},h.prototype.insert=function(i,o){var s=this;return new h(function(){var t,e,n=0,r=!1;return new g(function(){t=s.getEnumerator(),e=h.from(o).getEnumerator()},function(){return n==i&&e.moveNext()?(r=!0,this.yieldReturn(e.getCurrent())):t.moveNext()?(n++,this.yieldReturn(t.getCurrent())):!(r||!e.moveNext())&&this.yieldReturn(e.getCurrent())},function(){try{w.dispose(t)}finally{w.dispose(e)}})})},h.prototype.alternate=function(t){var o=this;return new h(function(){var e,n,r,i;return new g(function(){r=t instanceof Array||null!=t.getEnumerator?h.from(h.from(t).toArray()):h.make(t),(n=o.getEnumerator()).moveNext()&&(e=n.getCurrent())},function(){for(;;){if(null!=i){if(i.moveNext())return this.yieldReturn(i.getCurrent());i=null}if(null!=e||!n.moveNext()){if(null==e)return this.yieldBreak();var t=e;return e=null,this.yieldReturn(t)}e=n.getCurrent(),i=r.getEnumerator()}},function(){try{w.dispose(n)}finally{w.dispose(i)}})})},h.prototype.contains=function(t,e){e=e||System.Collections.Generic.EqualityComparer$1.$default;var n=this.getEnumerator();try{for(;n.moveNext();)if(e.equals2(n.getCurrent(),t))return!0;return!1}finally{w.dispose(n)}},h.prototype.defaultIfEmpty=function(n){var r=this;return n===c&&(n=null),new h(function(){var t,e=!0;return new g(function(){t=r.getEnumerator()},function(){return t.moveNext()?(e=!1,this.yieldReturn(t.getCurrent())):!!e&&(e=!1,this.yieldReturn(n))},function(){w.dispose(t)})})},h.prototype.distinct=function(t){return this.except(h.empty(),t)},h.prototype.distinctUntilChanged=function(i){i=w.createLambda(i);var t=this;return new h(function(){var e,n,r;return new g(function(){e=t.getEnumerator()},function(){for(;e.moveNext();){var t=i(e.getCurrent());if(r)return r=!1,n=t,this.yieldReturn(e.getCurrent());if(n!==t)return n=t,this.yieldReturn(e.getCurrent())}return this.yieldBreak()},function(){w.dispose(e)})})},h.prototype.except=function(t,r){var i=this;return new h(function(){var e,n;return new g(function(){e=i.getEnumerator(),n=new(System.Collections.Generic.Dictionary$2(Object,Object))(null,r),h.from(t).forEach(function(t){n.containsKey(t)||n.add(t)})},function(){for(;e.moveNext();){var t=e.getCurrent();if(!n.containsKey(t))return n.add(t),this.yieldReturn(t)}return!1},function(){w.dispose(e)})})},h.prototype.intersect=function(t,i){var o=this;return new h(function(){var e,n,r;return new g(function(){e=o.getEnumerator(),n=new(System.Collections.Generic.Dictionary$2(Object,Object))(null,i),h.from(t).forEach(function(t){n.containsKey(t)||n.add(t)}),r=new(System.Collections.Generic.Dictionary$2(Object,Object))(null,i)},function(){for(;e.moveNext();){var t=e.getCurrent();if(!r.containsKey(t)&&n.containsKey(t))return r.add(t),this.yieldReturn(t)}return!1},function(){w.dispose(e)})})},h.prototype.sequenceEqual=function(t,e){var n,r;e=e||System.Collections.Generic.EqualityComparer$1.$default,n=this.getEnumerator();try{r=h.from(t).getEnumerator();try{for(;n.moveNext();)if(!r.moveNext()||!e.equals2(n.getCurrent(),r.getCurrent()))return!1;return!r.moveNext()}finally{w.dispose(r)}}finally{w.dispose(n)}},h.prototype.union=function(i,t){var o=this;return new h(function(){var e,n,r;return new g(function(){e=o.getEnumerator(),r=new(System.Collections.Generic.Dictionary$2(Object,Object))(null,t)},function(){var t;if(n===c){for(;e.moveNext();)if(t=e.getCurrent(),!r.containsKey(t))return r.add(t),this.yieldReturn(t);n=h.from(i).getEnumerator()}for(;n.moveNext();)if(t=n.getCurrent(),!r.containsKey(t))return r.add(t),this.yieldReturn(t);return!1},function(){try{w.dispose(e)}finally{w.dispose(n)}})})},h.prototype.orderBy=function(t,e){return new r(this,t,e,!1)},h.prototype.orderByDescending=function(t,e){return new r(this,t,e,!0)},h.prototype.reverse=function(){var n=this;return new h(function(){var t,e;return new g(function(){t=n.toArray(),e=t.length},function(){return 0<e&&this.yieldReturn(t[--e])},f.Blank)})},h.prototype.shuffle=function(){var t=this;return new h(function(){var e;return new g(function(){e=t.toArray()},function(){if(0<e.length){var t=Math.floor(Math.random()*e.length);return this.yieldReturn(e.splice(t,1)[0])}return!1},f.Blank)})},h.prototype.weightedSample=function(n){n=w.createLambda(n);var t=this;return new h(function(){var i,o=0;return new g(function(){i=t.choose(function(t){var e=n(t);return e<=0?null:{value:t,bound:o+=e}}).toArray()},function(){var t;if(0<i.length){for(var e=Math.floor(Math.random()*o)+1,n=-1,r=i.length;1<r-n;)t=Math.floor((n+r)/2),i[t].bound>=e?r=t:n=t;return this.yieldReturn(i[r].value)}return this.yieldBreak()},f.Blank)})},h.prototype.groupBy=function(e,n,r,i){var o=this;return e=w.createLambda(e),n=w.createLambda(n),null!=r&&(r=w.createLambda(r)),new h(function(){var t;return new g(function(){t=o.toLookup(e,n,i).toEnumerable().getEnumerator()},function(){return!!t.moveNext()&&(null==r?this.yieldReturn(t.getCurrent()):this.yieldReturn(r(t.getCurrent().key(),t.getCurrent())))},function(){w.dispose(t)})})},h.prototype.partitionBy=function(o,s,a,u){var l,t=this;return o=w.createLambda(o),s=w.createLambda(s),u=u||System.Collections.Generic.EqualityComparer$1.$default,a=null==a?(l=!1,function(t,e){return new m(t,e)}):(l=!0,w.createLambda(a)),new h(function(){var n,r,i=[];return new g(function(){(n=t.getEnumerator()).moveNext()&&(r=o(n.getCurrent()),i.push(s(n.getCurrent())))},function(){for(var t,e;1==(t=n.moveNext())&&u.equals2(r,o(n.getCurrent()));)i.push(s(n.getCurrent()));return 0<i.length&&(e=a(r,l?h.from(i):i),i=t?(r=o(n.getCurrent()),[s(n.getCurrent())]):[],this.yieldReturn(e))},function(){w.dispose(n)})})},h.prototype.buffer=function(r){var t=this;return new h(function(){var n;return new g(function(){n=t.getEnumerator()},function(){for(var t=[],e=0;n.moveNext();)if(t.push(n.getCurrent()),++e>=r)return this.yieldReturn(t);return 0<t.length&&this.yieldReturn(t)},function(){w.dispose(n)})})},h.prototype.aggregate=function(t,e,n){return(n=w.createLambda(n))(this.scan(t,e,n).last())},h.prototype.average=function(e,t){!e||t||Bridge.isFunction(e)||(t=e,e=null),e=w.createLambda(e);var n=t||0,r=0;if(this.forEach(function(t){(t=e(t))instanceof System.Decimal||System.Int64.is64Bit(t)?n=t.add(n):n instanceof System.Decimal||System.Int64.is64Bit(n)?n=n.add(t):n+=t,++r}),0===r)throw new System.InvalidOperationException("Sequence contains no elements");return n instanceof System.Decimal||System.Int64.is64Bit(n)?n.div(r):n/r},h.prototype.nullableAverage=function(t,e){return this.any(Bridge.isNull)?null:this.average(t,e)},h.prototype.count=function(n){n=null==n?f.True:w.createLambda(n);var r=0;return this.forEach(function(t,e){n(t,e)&&++r}),r},h.prototype.max=function(t){return this.select(t=null==t?f.Identity:t).aggregate(function(t,e){return 1===Bridge.compare(t,e,!0)?t:e})},h.prototype.nullableMax=function(t){return this.any(Bridge.isNull)?null:this.max(t)},h.prototype.min=function(t){return this.select(t=null==t?f.Identity:t).aggregate(function(t,e){return-1===Bridge.compare(t,e,!0)?t:e})},h.prototype.nullableMin=function(t){return this.any(Bridge.isNull)?null:this.min(t)},h.prototype.maxBy=function(n){return n=w.createLambda(n),this.aggregate(function(t,e){return 1===Bridge.compare(n(t),n(e),!0)?t:e})},h.prototype.minBy=function(n){return n=w.createLambda(n),this.aggregate(function(t,e){return-1===Bridge.compare(n(t),n(e),!0)?t:e})},h.prototype.sum=function(t,e){!t||e||Bridge.isFunction(t)||(e=t,t=null);t=this.select(t=null==t?f.Identity:t).aggregate(0,function(t,e){return t instanceof System.Decimal||System.Int64.is64Bit(t)?t.add(e):e instanceof System.Decimal||System.Int64.is64Bit(e)?e.add(t):t+e});return 0===t&&e?e:t},h.prototype.nullableSum=function(t,e){return this.any(Bridge.isNull)?null:this.sum(t,e)},h.prototype.elementAt=function(n){var r,i=!1;if(this.forEach(function(t,e){if(e==n)return r=t,!(i=!0)}),!i)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return r},h.prototype.elementAtOrDefault=function(n,t){t===c&&(t=null);var r,i=!1;return this.forEach(function(t,e){if(e==n)return r=t,!(i=!0)}),i?r:t},h.prototype.first=function(t){if(null!=t)return this.where(t).first();var e,n=!1;if(this.forEach(function(t){return e=t,!(n=!0)}),!n)throw new Error("first:No element satisfies the condition.");return e},h.prototype.firstOrDefault=function(t,e){if(e===c&&(e=null),null!=t)return this.where(t).firstOrDefault(null,e);var n,r=!1;return this.forEach(function(t){return n=t,!(r=!0)}),r?n:e},h.prototype.last=function(t){if(null!=t)return this.where(t).last();var e,n=!1;if(this.forEach(function(t){n=!0,e=t}),!n)throw new Error("last:No element satisfies the condition.");return e},h.prototype.lastOrDefault=function(t,e){if(e===c&&(e=null),null!=t)return this.where(t).lastOrDefault(null,e);var n,r=!1;return this.forEach(function(t){r=!0,n=t}),r?n:e},h.prototype.single=function(t){if(null!=t)return this.where(t).single();var e,n=!1;if(this.forEach(function(t){if(n)throw new Error("single:sequence contains more than one element.");n=!0,e=t}),!n)throw new Error("single:No element satisfies the condition.");return e},h.prototype.singleOrDefault=function(t,e){if(e===c&&(e=null),null!=t)return this.where(t).singleOrDefault(null,e);var n,r=!1;return this.forEach(function(t){if(r)throw new Error("single:sequence contains more than one element.");r=!0,n=t}),r?n:e},h.prototype.skip=function(n){var r=this;return new h(function(){var t,e=0;return new g(function(){for(t=r.getEnumerator();e++<n&&t.moveNext(););},function(){return!!t.moveNext()&&this.yieldReturn(t.getCurrent())},function(){w.dispose(t)})})},h.prototype.skipWhile=function(r){r=w.createLambda(r);var i=this;return new h(function(){var t,e=0,n=!1;return new g(function(){t=i.getEnumerator()},function(){for(;!n;){if(t.moveNext()){if(!r(t.getCurrent(),e++))return n=!0,this.yieldReturn(t.getCurrent());continue}return!1}return!!t.moveNext()&&this.yieldReturn(t.getCurrent())},function(){w.dispose(t)})})},h.prototype.take=function(n){var r=this;return new h(function(){var t,e=0;return new g(function(){t=r.getEnumerator()},function(){return!!(e++<n&&t.moveNext())&&this.yieldReturn(t.getCurrent())},function(){w.dispose(t)})})},h.prototype.takeWhile=function(n){n=w.createLambda(n);var r=this;return new h(function(){var t,e=0;return new g(function(){t=r.getEnumerator()},function(){return!(!t.moveNext()||!n(t.getCurrent(),e++))&&this.yieldReturn(t.getCurrent())},function(){w.dispose(t)})})},h.prototype.takeExceptLast=function(n){null==n&&(n=1);var r=this;return new h(function(){if(n<=0)return r.getEnumerator();var t,e=[];return new g(function(){t=r.getEnumerator()},function(){for(;t.moveNext();){if(e.length==n)return e.push(t.getCurrent()),this.yieldReturn(e.shift());e.push(t.getCurrent())}return!1},function(){w.dispose(t)})})},h.prototype.takeFromLast=function(r){if(r<=0||null==r)return h.empty();var i=this;return new h(function(){var t,e,n=[];return new g(function(){t=i.getEnumerator()},function(){if(null==e){for(;t.moveNext();)n.length==r&&n.shift(),n.push(t.getCurrent());e=h.from(n).getEnumerator()}return!!e.moveNext()&&this.yieldReturn(e.getCurrent())},function(){w.dispose(e)})})},h.prototype.indexOf=function(n,r){var i=null;return typeof n===C?this.forEach(function(t,e){if(n(t,e))return i=e,!1}):(r=r||System.Collections.Generic.EqualityComparer$1.$default,this.forEach(function(t,e){if(r.equals2(t,n))return i=e,!1})),null!==i?i:-1},h.prototype.lastIndexOf=function(n,r){var i=-1;return typeof n===C?this.forEach(function(t,e){n(t,e)&&(i=e)}):(r=r||System.Collections.Generic.EqualityComparer$1.$default,this.forEach(function(t,e){r.equals2(t,n)&&(i=e)})),i},h.prototype.asEnumerable=function(){return h.from(this)},h.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},h.prototype.toList=function(t){var e=[];return this.forEach(function(t){e.push(t)}),new(System.Collections.Generic.List$1(t||Object))(e)},h.prototype.toLookup=function(r,i,t){r=w.createLambda(r),i=w.createLambda(i);var o=new(System.Collections.Generic.Dictionary$2(Object,Object))(null,t),s=[];return this.forEach(function(t){var e=r(t),n=i(t),t={v:null};o.tryGetValue(e,t)?t.v.push(n):(s.push(e),o.add(e,[n]))}),new e(o,s)},h.prototype.toObject=function(e,n){e=w.createLambda(e),n=w.createLambda(n);var r={};return this.forEach(function(t){r[e(t)]=n(t)}),r},h.prototype.toDictionary=function(e,n,t,r,i){e=w.createLambda(e),n=w.createLambda(n);var o=new(System.Collections.Generic.Dictionary$2(t,r))(null,i);return this.forEach(function(t){o.add(e(t),n(t))}),o},h.prototype.toJSONString=function(t,e){if(typeof JSON===S||null==JSON.stringify)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),t,e)},h.prototype.toJoinedString=function(t,e){return null==t&&(t=""),this.select(e=null==e?f.Identity:e).toArray().join(t)},h.prototype.doAction=function(n){var r=this;return n=w.createLambda(n),new h(function(){var t,e=0;return new g(function(){t=r.getEnumerator()},function(){return!!t.moveNext()&&(n(t.getCurrent(),e++),this.yieldReturn(t.getCurrent()))},function(){w.dispose(t)})})},h.prototype.forEach=function(t){t=w.createLambda(t);var e=0,n=this.getEnumerator();try{for(;n.moveNext()&&!1!==t(n.getCurrent(),e++););}finally{w.dispose(n)}},h.prototype.write=function(e,n){null==e&&(e=""),n=w.createLambda(n);var r=!0;this.forEach(function(t){r?r=!1:document.write(e),document.write(n(t))})},h.prototype.writeLine=function(e){e=w.createLambda(e),this.forEach(function(t){document.writeln(e(t)+"<br />")})},h.prototype.force=function(){var t=this.getEnumerator();try{for(;t.moveNext(););}finally{w.dispose(t)}},h.prototype.letBind=function(e){e=w.createLambda(e);var n=this;return new h(function(){var t;return new g(function(){t=h.from(e(n)).getEnumerator()},function(){return!!t.moveNext()&&this.yieldReturn(t.getCurrent())},function(){w.dispose(t)})})},h.prototype.share=function(){var t,e=this,n=!1;return new a(function(){return new g(function(){null==t&&(t=e.getEnumerator())},function(){if(n)throw new Error("enumerator is disposed");return!!t.moveNext()&&this.yieldReturn(t.getCurrent())},f.Blank)},function(){n=!0,w.dispose(t)})},h.prototype.memoize=function(){var e,n,r=this,i=!1;return new a(function(){var t=-1;return new g(function(){null==n&&(n=r.getEnumerator(),e=[])},function(){if(i)throw new Error("enumerator is disposed");return t++,e.length<=t?!!n.moveNext()&&this.yieldReturn(e[t]=n.getCurrent()):this.yieldReturn(e[t])},f.Blank)},function(){i=!0,w.dispose(n),e=null})},h.prototype.catchError=function(e){e=w.createLambda(e);var n=this;return new h(function(){var t;return new g(function(){t=n.getEnumerator()},function(){try{return!!t.moveNext()&&this.yieldReturn(t.getCurrent())}catch(t){return e(t),!1}},function(){w.dispose(t)})})},h.prototype.finallyAction=function(e){e=w.createLambda(e);var n=this;return new h(function(){var t;return new g(function(){t=n.getEnumerator()},function(){return!!t.moveNext()&&this.yieldReturn(t.getCurrent())},function(){try{w.dispose(t)}finally{e()}})})},h.prototype.log=function(e){return e=w.createLambda(e),this.doAction(function(t){typeof console!==S&&console.log(e(t))})},h.prototype.trace=function(e,n){return null==e&&(e="Trace"),n=w.createLambda(n),this.doAction(function(t){typeof console!==S&&console.log(e,n(t))})},(r=function(t,e,n,r,i){this.source=t,this.keySelector=w.createLambda(e),this.comparer=n||System.Collections.Generic.Comparer$1.$default,this.descending=r,this.parent=i}).prototype=new h,r.prototype.createOrderedEnumerable=function(t,e,n){return new r(this.source,t,e,n,this)},r.prototype.thenBy=function(t,e){return this.createOrderedEnumerable(t,e,!1)},r.prototype.thenByDescending=function(t,e){return this.createOrderedEnumerable(t,e,!0)},r.prototype.getEnumerator=function(){var r,i,t=this,e=0;return new g(function(){r=[],i=[],t.source.forEach(function(t,e){r.push(t),i.push(e)});var n=s.create(t,null);n.GenerateKeys(r),i.sort(function(t,e){return n.compare(t,e)})},function(){return e<i.length&&this.yieldReturn(r[i[e++]])},f.Blank)},(s=function(t,e,n,r){this.keySelector=t,this.comparer=e,this.descending=n,this.child=r,this.keys=null}).create=function(t,e){e=new s(t.keySelector,t.comparer,t.descending,e);return null!=t.parent?s.create(t.parent,e):e},s.prototype.GenerateKeys=function(t){for(var e=t.length,n=this.keySelector,r=new Array(e),i=0;i<e;i++)r[i]=n(t[i]);this.keys=r,null!=this.child&&this.child.GenerateKeys(t)},s.prototype.compare=function(t,e){var n=this.comparer.compare(this.keys[t],this.keys[e]);return 0==n?(null!=this.child?this.child:w).compare(t,e):this.descending?-n:n},(a=function(t,e){this.dispose=e,h.call(this,t)}).prototype=new h,(u=function(t){this.getSource=function(){return t}}).prototype=new h,u.prototype.any=function(t){return null==t?0<this.getSource().length:h.prototype.any.apply(this,arguments)},u.prototype.count=function(t){return null==t?this.getSource().length:h.prototype.count.apply(this,arguments)},u.prototype.elementAt=function(t){var e=this.getSource();return 0<=t&&t<e.length?e[t]:h.prototype.elementAt.apply(this,arguments)},u.prototype.elementAtOrDefault=function(t,e){e===c&&(e=null);var n=this.getSource();return 0<=t&&t<n.length?n[t]:e},u.prototype.first=function(t){var e=this.getSource();return null==t&&0<e.length?e[0]:h.prototype.first.apply(this,arguments)},u.prototype.firstOrDefault=function(t,e){if(e===c&&(e=null),null!=t)return h.prototype.firstOrDefault.apply(this,arguments);t=this.getSource();return 0<t.length?t[0]:e},u.prototype.last=function(t){var e=this.getSource();return null==t&&0<e.length?e[e.length-1]:h.prototype.last.apply(this,arguments)},u.prototype.lastOrDefault=function(t,e){if(e===c&&(e=null),null!=t)return h.prototype.lastOrDefault.apply(this,arguments);t=this.getSource();return 0<t.length?t[t.length-1]:e},u.prototype.skip=function(e){var n=this.getSource();return new h(function(){var t;return new g(function(){t=e<0?0:e},function(){return t<n.length&&this.yieldReturn(n[t++])},f.Blank)})},u.prototype.takeExceptLast=function(t){return null==t&&(t=1),this.take(this.getSource().length-t)},u.prototype.takeFromLast=function(t){return this.skip(this.getSource().length-t)},u.prototype.reverse=function(){var e=this.getSource();return new h(function(){var t;return new g(function(){t=e.length},function(){return 0<t&&this.yieldReturn(e[--t])},f.Blank)})},u.prototype.sequenceEqual=function(t,e){return(!(t instanceof u||t instanceof Array)||null!=e||h.from(t).count()==this.count())&&h.prototype.sequenceEqual.apply(this,arguments)},u.prototype.toJoinedString=function(t,e){var n=this.getSource();return null==e&&n instanceof Array?n.join(t=null==t?"":t):h.prototype.toJoinedString.apply(this,arguments)},u.prototype.getEnumerator=function(){return new Bridge.ArrayEnumerator(this.getSource())},(i=function(t,e){this.prevSource=t,this.prevPredicate=e}).prototype=new h,i.prototype.where=function(e){if((e=w.createLambda(e)).length<=1){var n=this.prevPredicate;return new i(this.prevSource,function(t){return n(t)&&e(t)})}return h.prototype.where.call(this,e)},i.prototype.select=function(t){return(t=w.createLambda(t)).length<=1?new l(this.prevSource,this.prevPredicate,t):h.prototype.select.call(this,t)},i.prototype.getEnumerator=function(){var t,e=this.prevPredicate,n=this.prevSource;return new g(function(){t=n.getEnumerator()},function(){for(;t.moveNext();)if(e(t.getCurrent()))return this.yieldReturn(t.getCurrent());return!1},function(){w.dispose(t)})},(l=function(t,e,n){this.prevSource=t,this.prevPredicate=e,this.prevSelector=n}).prototype=new h,l.prototype.where=function(t){return(t=w.createLambda(t)).length<=1?new i(this,t):h.prototype.where.call(this,t)},l.prototype.select=function(e){if((e=w.createLambda(e)).length<=1){var n=this.prevSelector;return new l(this.prevSource,this.prevPredicate,function(t){return e(n(t))})}return h.prototype.select.call(this,e)},l.prototype.getEnumerator=function(){var t,e=this.prevPredicate,n=this.prevSelector,r=this.prevSource;return new g(function(){t=r.getEnumerator()},function(){for(;t.moveNext();)if(null==e||e(t.getCurrent()))return this.yieldReturn(n(t.getCurrent()));return!1},function(){w.dispose(t)})},(e=function(n,t){this.count=function(){return n.getCount()},this.get=function(t){var e={v:null},t=n.tryGetValue(t,e);return h.from(t?e.v:[])},this.contains=function(t){return n.containsKey(t)},this.toEnumerable=function(){return h.from(t).select(function(t){return new m(t,n.get(t))})},this.getEnumerator=function(){return this.toEnumerable().getEnumerator()}}).$$inherits=[],Bridge.Class.addExtend(e,[System.Collections.IEnumerable]),(m=function(t,e){this.key=function(){return t},u.call(this,e)}).prototype=new u,m.$$inherits=[],Bridge.Class.addExtend(m,[System.Collections.IEnumerable]),Bridge.Linq={},Bridge.Linq.Enumerable=h,System.Linq={},System.Linq.Enumerable=h}(void Bridge.global),Bridge.define("System.Guid",{inherits:function(){return[System.IEquatable$1(System.Guid),System.IComparable$1(System.Guid),System.IFormattable]},$kind:"struct",statics:{error1:"Byte array for GUID must be exactly {0} bytes long",valid:null,split:null,nonFormat:null,replace:null,rnd:null,config:{init:function(){this.valid=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","i"),this.split=new RegExp("^(.{8})(.{4})(.{4})(.{4})(.{12})$"),this.nonFormat=new RegExp("^[{(]?([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})[)}]?$","i"),this.replace=new RegExp("-","g"),this.rnd=new System.Random.ctor,this.empty=new System.Guid.ctor}},parse:function(t){return System.Guid.parseExact(t,null)},parseExact:function(t,e){var n=new System.Guid.ctor;return n.parseInternal(t,e,!0),n},tryParse:function(t,e){return System.Guid.tryParseExact(t,null,e)},tryParseExact:function(t,e,n){return n.v=new System.Guid.ctor,n.v.parseInternal(t,e,!1)},newGuid:function(){var t=System.Array.init(16,0);return System.Guid.rnd.nextBytes(t),t[7]=255&(15&t[7]|64),t[8]=255&(191&t[8]|128),new System.Guid.$ctor1(t)},makeBinary:function(t){return System.Int32.format(255&t,"x2")},op_Equality:function(t,e){return Bridge.referenceEquals(t,null)?Bridge.referenceEquals(e,null):t.equalsT(e)},op_Inequality:function(t,e){return!System.Guid.op_Equality(t,e)},getDefaultValue:function(){return new System.Guid}},_a:0,_b:0,_c:0,_d:0,_e:0,_f:0,_g:0,_h:0,_i:0,_j:0,_k:0,config:{alias:["equalsT","System$IEquatable$1$System$Guid$equalsT","compareTo","System$IComparable$1$System$Guid$compareTo","format","System$IFormattable$format"]},$ctor4:function(t){this.$initialize(),(new System.Guid.ctor).$clone(this),this.parseInternal(t,null,!0)},$ctor1:function(t){if(this.$initialize(),null==t)throw new System.ArgumentNullException("b");if(16!==t.length)throw new System.ArgumentException(System.String.format(System.Guid.error1,16));this._a=t[3]<<24|t[2]<<16|t[1]<<8|t[0],this._b=Bridge.Int.sxs(65535&(t[5]<<8|t[4])),this._c=Bridge.Int.sxs(65535&(t[7]<<8|t[6])),this._d=t[8],this._e=t[9],this._f=t[10],this._g=t[11],this._h=t[12],this._i=t[13],this._j=t[14],this._k=t[15]},$ctor5:function(t,e,n,r,i,o,s,a,u,l,c){this.$initialize(),this._a=0|t,this._b=Bridge.Int.sxs(65535&e),this._c=Bridge.Int.sxs(65535&n),this._d=r,this._e=i,this._f=o,this._g=s,this._h=a,this._i=u,this._j=l,this._k=c},$ctor3:function(t,e,n,r){if(this.$initialize(),null==r)throw new System.ArgumentNullException("d");if(8!==r.length)throw new System.ArgumentException(System.String.format(System.Guid.error1,8));this._a=t,this._b=e,this._c=n,this._d=r[0],this._e=r[1],this._f=r[2],this._g=r[3],this._h=r[4],this._i=r[5],this._j=r[6],this._k=r[7]},$ctor2:function(t,e,n,r,i,o,s,a,u,l,c){this.$initialize(),this._a=t,this._b=e,this._c=n,this._d=r,this._e=i,this._f=o,this._g=s,this._h=a,this._i=u,this._j=l,this._k=c},ctor:function(){this.$initialize()},equalsT:function(t){return this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._e===t._e&&this._f===t._f&&this._g===t._g&&this._h===t._h&&this._i===t._i&&this._j===t._j&&this._k===t._k},compareTo:function(t){return System.String.compare(this.toString(),t.toString())},toString:function(){return this.format$1(null)},toString$1:function(t){return this.format$1(t)},format:function(t){return this.format$1(t)},toByteArray:function(){var t=System.Array.init(16,0);return t[0]=255&this._a,t[1]=this._a>>8&255,t[2]=this._a>>16&255,t[3]=this._a>>24&255,t[4]=255&this._b,t[5]=this._b>>8&255,t[6]=255&this._c,t[7]=this._c>>8&255,t[8]=this._d,t[9]=this._e,t[10]=this._f,t[11]=this._g,t[12]=this._h,t[13]=this._i,t[14]=this._j,t[15]=this._k,t},parseInternal:function(t,e,n){var r,i,o=null;if(System.String.isNullOrEmpty(t))throw new System.ArgumentNullException("input");if(System.String.isNullOrEmpty(e)?null!=(i=System.Guid.nonFormat.exec(t))&&(o=i.slice(1).join("-").toLowerCase()):(e=e.toUpperCase(),r=!1,Bridge.referenceEquals(e,"N")?null!=(i=System.Guid.split.exec(t))&&(r=!0,t=i.slice(1).join("-")):Bridge.referenceEquals(e,"B")||Bridge.referenceEquals(e,"P")?(e=Bridge.referenceEquals(e,"B")?[123,125]:[40,41],t.charCodeAt(0)===e[0]&&t.charCodeAt(t.length-1|0)===e[1]&&(r=!0,t=t.substr(1,t.length-2|0))):r=!0,r&&null!=t.match(System.Guid.valid)&&(o=t.toLowerCase())),null!=o)return this.fromString(o),!0;if(n)throw new System.FormatException("input is not in a recognized format");return!1},format$1:function(t){var e=System.String.concat(System.UInt32.format(this._a>>>0,"x8"),System.UInt16.format(65535&this._b,"x4"),System.UInt16.format(65535&this._c,"x4")),e=System.String.concat(e,[this._d,this._e,this._f,this._g,this._h,this._i,this._j,this._k].map(System.Guid.makeBinary).join(""));switch(e=System.Guid.split.exec(e).slice(1).join("-"),t){case"n":case"N":return e.replace(System.Guid.replace,"");case"b":case"B":return System.String.concat(String.fromCharCode(123),e,String.fromCharCode(125));case"p":case"P":return System.String.concat(String.fromCharCode(40),e,String.fromCharCode(41));default:return e}},fromString:function(t){var e,n;if(!System.String.isNullOrEmpty(t)){for(t=t.replace(System.Guid.replace,""),e=System.Array.init(8,0),this._a=0|System.UInt32.parse(t.substr(0,8),16),this._b=Bridge.Int.sxs(65535&System.UInt16.parse(t.substr(8,4),16)),this._c=Bridge.Int.sxs(65535&System.UInt16.parse(t.substr(12,4),16)),n=8;n<16;n=n+1|0)e[n-8|0]=System.Byte.parse(t.substr(2*n|0,2),16);this._d=e[0],this._e=e[1],this._f=e[2],this._g=e[3],this._h=e[4],this._i=e[5],this._j=e[6],this._k=e[7]}},getHashCode:function(){return Bridge.addHash([1684632903,this._a,this._b,this._c,this._d,this._e,this._f,this._g,this._h,this._i,this._j,this._k])},$clone:function(){return this}}),Bridge.define("System.Text.RegularExpressions.Regex",{statics:{_cacheSize:15,_defaultMatchTimeout:System.TimeSpan.fromMilliseconds(-1),getCacheSize:function(){return System.Text.RegularExpressions.Regex._cacheSize},setCacheSize:function(t){if(t<0)throw new System.ArgumentOutOfRangeException("value");System.Text.RegularExpressions.Regex._cacheSize=t},escape:function(t){if(null==t)throw new System.ArgumentNullException("str");return System.Text.RegularExpressions.RegexParser.escape(t)},unescape:function(t){if(null==t)throw new System.ArgumentNullException("str");return System.Text.RegularExpressions.RegexParser.unescape(t)},isMatch:function(t,e){var n=System.Text.RegularExpressions;return n.Regex.isMatch$2(t,e,n.RegexOptions.None,n.Regex._defaultMatchTimeout)},isMatch$1:function(t,e,n){var r=System.Text.RegularExpressions;return r.Regex.isMatch$2(t,e,n,r.Regex._defaultMatchTimeout)},isMatch$2:function(t,e,n,r){return new System.Text.RegularExpressions.Regex.$ctor3(e,n,r,!0).isMatch(t)},match:function(t,e){var n=System.Text.RegularExpressions;return n.Regex.match$2(t,e,n.RegexOptions.None,n.Regex._defaultMatchTimeout)},match$1:function(t,e,n){var r=System.Text.RegularExpressions;return r.Regex.match$2(t,e,n,r.Regex._defaultMatchTimeout)},match$2:function(t,e,n,r){return new System.Text.RegularExpressions.Regex.$ctor3(e,n,r,!0).match(t)},matches:function(t,e){var n=System.Text.RegularExpressions;return n.Regex.matches$2(t,e,n.RegexOptions.None,n.Regex._defaultMatchTimeout)},matches$1:function(t,e,n){var r=System.Text.RegularExpressions;return r.Regex.matches$2(t,e,n,r.Regex._defaultMatchTimeout)},matches$2:function(t,e,n,r){return new System.Text.RegularExpressions.Regex.$ctor3(e,n,r,!0).matches(t)},replace:function(t,e,n){var r=System.Text.RegularExpressions;return r.Regex.replace$2(t,e,n,r.RegexOptions.None,r.Regex._defaultMatchTimeout)},replace$1:function(t,e,n,r){var i=System.Text.RegularExpressions;return i.Regex.replace$2(t,e,n,r,i.Regex._defaultMatchTimeout)},replace$2:function(t,e,n,r,i){return new System.Text.RegularExpressions.Regex.$ctor3(e,r,i,!0).replace(t,n)},replace$3:function(t,e,n){var r=System.Text.RegularExpressions;return r.Regex.replace$5(t,e,n,r.RegexOptions.None,r.Regex._defaultMatchTimeout)},replace$4:function(t,e,n,r){var i=System.Text.RegularExpressions;return i.Regex.replace$5(t,e,n,r,i.Regex._defaultMatchTimeout)},replace$5:function(t,e,n,r,i){return new System.Text.RegularExpressions.Regex.$ctor3(e,r,i,!0).replace$3(t,n)},split:function(t,e){var n=System.Text.RegularExpressions;return n.Regex.split$2(t,e,n.RegexOptions.None,n.Regex._defaultMatchTimeout)},split$1:function(t,e,n){var r=System.Text.RegularExpressions;return r.Regex.split$2(t,e,n,r.Regex._defaultMatchTimeout)},split$2:function(t,e,n,r){return new System.Text.RegularExpressions.Regex.$ctor3(e,n,r,!0).split(t)}},_pattern:"",_matchTimeout:System.TimeSpan.fromMilliseconds(-1),_runner:null,_caps:null,_capsize:0,_capnames:null,_capslist:null,config:{init:function(){this._options=System.Text.RegularExpressions.RegexOptions.None}},ctor:function(t){this.$ctor1(t,System.Text.RegularExpressions.RegexOptions.None)},$ctor1:function(t,e){this.$ctor2(t,e,System.TimeSpan.fromMilliseconds(-1))},$ctor2:function(t,e,n){this.$ctor3(t,e,n,!1)},$ctor3:function(t,e,n){var r,i;if(this.$initialize(),i=System.Text.RegularExpressions,null==t)throw new System.ArgumentNullException("pattern");if(e<i.RegexOptions.None||e>>10!=0)throw new System.ArgumentOutOfRangeException("options");if(0!=(e&i.RegexOptions.ECMAScript)&&0!=(e&~(i.RegexOptions.ECMAScript|i.RegexOptions.IgnoreCase|i.RegexOptions.Multiline|i.RegexOptions.CultureInvariant)))throw new System.ArgumentOutOfRangeException("options");if((e|(r=System.Text.RegularExpressions.RegexOptions.IgnoreCase|System.Text.RegularExpressions.RegexOptions.Multiline|System.Text.RegularExpressions.RegexOptions.Singleline|System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace|System.Text.RegularExpressions.RegexOptions.ExplicitCapture))!=r)throw new System.NotSupportedException("Specified Regex options are not supported.");this._validateMatchTimeout(n),this._pattern=t,this._options=e,this._matchTimeout=n,this._runner=new i.RegexRunner(this),i=this._runner.parsePattern(),this._capnames=i.sparseSettings.sparseSlotNameMap,this._capslist=i.sparseSettings.sparseSlotNameMap.keys,this._capsize=this._capslist.length},getMatchTimeout:function(){return this._matchTimeout},getOptions:function(){return this._options},getRightToLeft:function(){return 0!=(this._options&System.Text.RegularExpressions.RegexOptions.RightToLeft)},isMatch:function(t){if(null==t)throw new System.ArgumentNullException("input");var e=this.getRightToLeft()?t.length:0;return this.isMatch$1(t,e)},isMatch$1:function(t,e){if(null==t)throw new System.ArgumentNullException("input");return null==this._runner.run(!0,-1,t,0,t.length,e)},match:function(t){if(null==t)throw new System.ArgumentNullException("input");var e=this.getRightToLeft()?t.length:0;return this.match$1(t,e)},match$1:function(t,e){if(null==t)throw new System.ArgumentNullException("input");return this._runner.run(!1,-1,t,0,t.length,e)},match$2:function(t,e,n){if(null==t)throw new System.ArgumentNullException("input");var r=this.getRightToLeft()?e+n:e;return this._runner.run(!1,-1,t,e,n,r)},matches:function(t){if(null==t)throw new System.ArgumentNullException("input");var e=this.getRightToLeft()?t.length:0;return this.matches$1(t,e)},matches$1:function(t,e){if(null==t)throw new System.ArgumentNullException("input");return new System.Text.RegularExpressions.MatchCollection(this,t,0,t.length,e)},getGroupNames:function(){if(null!=this._capslist)return this._capslist.slice();for(var t=System.Globalization.CultureInfo.invariantCulture,e=[],n=this._capsize,r=0;r<n;r++)e[r]=System.Convert.toString(r,t,System.Convert.typeCodes.Int32);return e},getGroupNumbers:function(){var t,e,n,r,i=this._caps;if(null==i)for(t=[],n=this._capsize,r=0;r<n;r++)t.push(r);else for(e in t=[],i)i.hasOwnProperty(e)&&(t[i[e]]=e);return t},groupNameFromNumber:function(t){var e;return null==this._capslist?0<=t&&t<this._capsize?(e=System.Globalization.CultureInfo.invariantCulture,System.Convert.toString(t,e,System.Convert.typeCodes.Int32)):"":null!=this._caps?null==(e=this._caps[t])?"":parseInt(e):0<=t&&t<this._capslist.length?this._capslist[t]:""},groupNumberFromName:function(t){var e,n,r,i;if(null==t)throw new System.ArgumentNullException("name");if(null!=this._capnames)return null==(e=this._capnames[t])?-1:parseInt(e);for(i=n=0;i<t.Length;i++){if("9"<(r=t[i])||r<"0")return-1;n*=10,n+=r-"0"}return 0<=n&&n<this._capsize?n:-1},replace:function(t,e){if(null==t)throw new System.ArgumentNullException("input");var n=this.getRightToLeft()?t.length:0;return this.replace$2(t,e,-1,n)},replace$1:function(t,e,n){if(null==t)throw new System.ArgumentNullException("input");var r=this.getRightToLeft()?t.length:0;return this.replace$2(t,e,n,r)},replace$2:function(t,e,n,r){if(null==t)throw new System.ArgumentNullException("input");if(null==e)throw new System.ArgumentNullException("replacement");return System.Text.RegularExpressions.RegexParser.parseReplacement(e,this._caps,this._capsize,this._capnames,this._options).replace(this,t,n,r)},replace$3:function(t,e){if(null==t)throw new System.ArgumentNullException("input");var n=this.getRightToLeft()?t.length:0;return this.replace$5(t,e,-1,n)},replace$4:function(t,e,n){if(null==t)throw new System.ArgumentNullException("input");var r=this.getRightToLeft()?t.length:0;return this.replace$5(t,e,n,r)},replace$5:function(t,e,n,r){if(null==t)throw new System.ArgumentNullException("input");return System.Text.RegularExpressions.RegexReplacement.replace(e,this,t,n,r)},split:function(t){if(null==t)throw new System.ArgumentNullException("input");var e=this.getRightToLeft()?t.length:0;return this.split$2(t,0,e)},split$1:function(t,e){if(null==t)throw new System.ArgumentNullException("input");var n=this.getRightToLeft()?t.length:0;return this.split$2(t,e,n)},split$2:function(t,e,n){if(null==t)throw new System.ArgumentNullException("input");return System.Text.RegularExpressions.RegexReplacement.split(this,t,e,n)},_validateMatchTimeout:function(t){t=t.getTotalMilliseconds();if(!(-1===t||0<t&&t<=2147483646))throw new System.ArgumentOutOfRangeException("matchTimeout")}}),Bridge.define("System.Text.RegularExpressions.Capture",{_text:"",_index:0,_length:0,ctor:function(t,e,n){this.$initialize(),this._text=t,this._index=e,this._length=n},getIndex:function(){return this._index},getLength:function(){return this._length},getValue:function(){return this._text.substr(this._index,this._length)},toString:function(){return this.getValue()},_getOriginalString:function(){return this._text},_getLeftSubstring:function(){return this._text.slice(0,_index)},_getRightSubstring:function(){return this._text.slice(this._index+this._length,this._text.length)}}),Bridge.define("System.Text.RegularExpressions.CaptureCollection",{inherits:function(){return[System.Collections.ICollection]},config:{alias:["getEnumerator","System$Collections$IEnumerable$getEnumerator","getCount","System$Collections$ICollection$getCount"]},_group:null,_capcount:0,_captures:null,ctor:function(t){this.$initialize(),this._group=t,this._capcount=t._capcount},getSyncRoot:function(){return this._group},getIsSynchronized:function(){return!1},getIsReadOnly:function(){return!0},getCount:function(){return this._capcount},get:function(t){if(t===this._capcount-1&&0<=t)return this._group;if(t>=this._capcount||t<0)throw new System.ArgumentOutOfRangeException("i");return this._ensureCapturesInited(),this._captures[t]},copyTo:function(t,e){if(null==t)throw new System.ArgumentNullException("array");if(t.length<e+this._capcount)throw new System.IndexOutOfRangeException;for(var n,r=e,i=0;i<this._capcount;r++,i++)n=this.get(i),System.Array.set(t,n,[r])},getEnumerator:function(){return new System.Text.RegularExpressions.CaptureEnumerator(this)},_ensureCapturesInited:function(){var t,e,n,r;if(null==this._captures){for((t=[]).length=this._capcount,e=0;e<this._capcount-1;e++)n=this._group._caps[2*e],r=this._group._caps[2*e+1],t[e]=new System.Text.RegularExpressions.Capture(this._group._text,n,r);0<this._capcount&&(t[this._capcount-1]=this._group),this._captures=t}}}),Bridge.define("System.Text.RegularExpressions.CaptureEnumerator",{inherits:function(){return[System.Collections.IEnumerator]},config:{alias:["getCurrent","System$Collections$IEnumerator$getCurrent","moveNext","System$Collections$IEnumerator$moveNext","reset","System$Collections$IEnumerator$reset"]},_captureColl:null,_curindex:0,ctor:function(t){this.$initialize(),this._curindex=-1,this._captureColl=t},moveNext:function(){var t=this._captureColl.getCount();return!(this._curindex>=t)&&(this._curindex++,this._curindex<t)},getCurrent:function(){return this.getCapture()},getCapture:function(){if(this._curindex<0||this._curindex>=this._captureColl.getCount())throw new System.InvalidOperationException("Enumeration has either not started or has already finished.");return this._captureColl.get(this._curindex)},reset:function(){this._curindex=-1}}),Bridge.define("System.Text.RegularExpressions.Group",{inherits:function(){return[System.Text.RegularExpressions.Capture]},statics:{config:{init:function(){var t=new System.Text.RegularExpressions.Group("",[],0);this.getEmpty=function(){return t}}},synchronized:function(t){if(null==t)throw new System.ArgumentNullException("group");var e=t.getCaptures();return 0<e.getCount()&&e.get(0),t}},_caps:null,_capcount:0,_capColl:null,ctor:function(t,e,n){this.$initialize();var r=System.Text.RegularExpressions,i=0===n?0:e[2*(n-1)],o=0===n?0:e[2*n-1];r.Capture.ctor.call(this,t,i,o),this._caps=e,this._capcount=n},getSuccess:function(){return 0!==this._capcount},getCaptures:function(){return null==this._capColl&&(this._capColl=new System.Text.RegularExpressions.CaptureCollection(this)),this._capColl}}),Bridge.define("System.Text.RegularExpressions.GroupCollection",{inherits:function(){return[System.Collections.ICollection]},config:{alias:["getEnumerator","System$Collections$IEnumerable$getEnumerator","getCount","System$Collections$ICollection$getCount"]},_match:null,_captureMap:null,_groups:null,ctor:function(t,e){this.$initialize(),this._match=t,this._captureMap=e},getSyncRoot:function(){return this._match},getIsSynchronized:function(){return!1},getIsReadOnly:function(){return!0},getCount:function(){return this._match._matchcount.length},get:function(t){return this._getGroup(t)},getByName:function(t){if(null==this._match._regex)return System.Text.RegularExpressions.Group.getEmpty();t=this._match._regex.groupNumberFromName(t);return this._getGroup(t)},copyTo:function(t,e){var n,r,i,o;if(null==t)throw new System.ArgumentNullException("array");if(n=this.getCount(),t.length<e+n)throw new System.IndexOutOfRangeException;for(i=e,o=0;o<n;i++,o++)r=this._getGroup(o),System.Array.set(t,r,[i])},getEnumerator:function(){return new System.Text.RegularExpressions.GroupEnumerator(this)},_getGroup:function(t){var e,t=null!=this._captureMap?null==(e=this._captureMap[t])?System.Text.RegularExpressions.Group.getEmpty():this._getGroupImpl(e):t>=this._match._matchcount.length||t<0?System.Text.RegularExpressions.Group.getEmpty():this._getGroupImpl(t);return t},_getGroupImpl:function(t){return 0===t?this._match:(this._ensureGroupsInited(),this._groups[t])},_ensureGroupsInited:function(){var t,e,n,r,i;if(null==this._groups){for((t=[]).length=this._match._matchcount.length,0<t.length&&(t[0]=this._match),i=0;i<t.length-1;i++)e=this._match._text,n=this._match._matches[i+1],r=this._match._matchcount[i+1],t[i+1]=new System.Text.RegularExpressions.Group(e,n,r);this._groups=t}}}),Bridge.define("System.Text.RegularExpressions.GroupEnumerator",{inherits:function(){return[System.Collections.IEnumerator]},config:{alias:["getCurrent","System$Collections$IEnumerator$getCurrent","moveNext","System$Collections$IEnumerator$moveNext","reset","System$Collections$IEnumerator$reset"]},_groupColl:null,_curindex:0,ctor:function(t){this.$initialize(),this._curindex=-1,this._groupColl=t},moveNext:function(){var t=this._groupColl.getCount();return!(this._curindex>=t)&&(this._curindex++,this._curindex<t)},getCurrent:function(){return this.getCapture()},getCapture:function(){if(this._curindex<0||this._curindex>=this._groupColl.getCount())throw new System.InvalidOperationException("Enumeration has either not started or has already finished.");return this._groupColl.get(this._curindex)},reset:function(){this._curindex=-1}}),Bridge.define("System.Text.RegularExpressions.Match",{inherits:function(){return[System.Text.RegularExpressions.Group]},statics:{config:{init:function(){var t=new System.Text.RegularExpressions.Match(null,1,"",0,0,0);this.getEmpty=function(){return t}}},synchronized:function(t){if(null==t)throw new System.ArgumentNullException("match");for(var e,n=t.getGroups(),r=n.getCount(),i=0;i<r;i++)e=n.get(i),System.Text.RegularExpressions.Group.synchronized(e);return t}},_regex:null,_matchcount:null,_matches:null,_textbeg:0,_textend:0,_textstart:0,_groupColl:null,_textpos:0,ctor:function(t,e,n,r,i,o){var s;for(this.$initialize(),System.Text.RegularExpressions.Group.ctor.call(this,n,n=[0,0],0),this._regex=t,this._matchcount=[],this._matchcount.length=e,s=0;s<e;s++)this._matchcount[s]=0;this._matches=[],this._matches.length=e,this._matches[0]=n,this._textbeg=r,this._textend=r+i,this._textstart=o},getGroups:function(){return null==this._groupColl&&(this._groupColl=new System.Text.RegularExpressions.GroupCollection(this,null)),this._groupColl},nextMatch:function(){return null==this._regex?this:this._regex._runner.run(!1,this._length,this._text,this._textbeg,this._textend-this._textbeg,this._textpos)},result:function(t){if(null==t)throw new System.ArgumentNullException("replacement");if(null==this._regex)throw new System.NotSupportedException("Result cannot be called on a failed Match.");return System.Text.RegularExpressions.RegexParser.parseReplacement(t,this._regex._caps,this._regex._capsize,this._regex._capnames,this._regex._options).replacement(this)},_isMatched:function(t){return t<this._matchcount.length&&0<this._matchcount[t]&&-2!==this._matches[t][2*this._matchcount[t]-1]},_addMatch:function(t,e,n){var r,i,o,s;if(null==this._matches[t]&&(this._matches[t]=new Array(2)),2*(r=this._matchcount[t])+2>this._matches[t].length){for(i=this._matches[t],o=new Array(8*r),s=0;s<2*r;s++)o[s]=i[s];this._matches[t]=o}this._matches[t][2*r]=e,this._matches[t][2*r+1]=n,this._matchcount[t]=r+1},_tidy:function(t){var e=this._matches[0];this._index=e[0],this._length=e[1],this._textpos=t,this._capcount=this._matchcount[0]},_groupToStringImpl:function(t){var e=this._matchcount[t];if(0===e)return"";var n=this._matches[t],t=n[2*(e-1)],e=n[2*e-1];return this._text.slice(t,t+e)},_lastGroupToStringImpl:function(){return this._groupToStringImpl(this._matchcount.length-1)}}),Bridge.define("System.Text.RegularExpressions.MatchSparse",{inherits:function(){return[System.Text.RegularExpressions.Match]},_caps:null,ctor:function(t,e,n,r,i,o,s){this.$initialize(),System.Text.RegularExpressions.Match.ctor.call(this,t,n,r,i,o,s),this._caps=e},getGroups:function(){return null==this._groupColl&&(this._groupColl=new System.Text.RegularExpressions.GroupCollection(this,this._caps)),this._groupColl}}),Bridge.define("System.Text.RegularExpressions.MatchCollection",{inherits:function(){return[System.Collections.ICollection]},config:{alias:["getEnumerator","System$Collections$IEnumerable$getEnumerator","getCount","System$Collections$ICollection$getCount"]},_regex:null,_input:null,_beginning:0,_length:0,_startat:0,_prevlen:0,_matches:null,_done:!1,ctor:function(t,e,n,r,i){if(this.$initialize(),i<0||i>e.Length)throw new System.ArgumentOutOfRangeException("startat");this._regex=t,this._input=e,this._beginning=n,this._length=r,this._startat=i,this._prevlen=-1,this._matches=[]},getCount:function(){return this._done||this._getMatch(2147483647),this._matches.length},getSyncRoot:function(){return this},getIsSynchronized:function(){return!1},getIsReadOnly:function(){return!0},get:function(t){t=this._getMatch(t);if(null==t)throw new System.ArgumentOutOfRangeException("i");return t},copyTo:function(t,e){var n,r,i,o;if(null==t)throw new System.ArgumentNullException("array");if(n=this.getCount(),t.length<e+n)throw new System.IndexOutOfRangeException;for(i=e,o=0;o<n;i++,o++)r=this._getMatch(o),System.Array.set(t,r,[i])},getEnumerator:function(){return new System.Text.RegularExpressions.MatchEnumerator(this)},_getMatch:function(t){if(t<0)return null;if(this._matches.length>t)return this._matches[t];if(this._done)return null;var e;do{if(!(e=this._regex._runner.run(!1,this._prevLen,this._input,this._beginning,this._length,this._startat)).getSuccess())return this._done=!0,null}while(this._matches.push(e),this._prevLen=e._length,this._startat=e._textpos,this._matches.length<=t);return e}}),Bridge.define("System.Text.RegularExpressions.MatchEnumerator",{inherits:function(){return[System.Collections.IEnumerator]},config:{alias:["getCurrent","System$Collections$IEnumerator$getCurrent","moveNext","System$Collections$IEnumerator$moveNext","reset","System$Collections$IEnumerator$reset"]},_matchcoll:null,_match:null,_curindex:0,_done:!1,ctor:function(t){this.$initialize(),this._matchcoll=t},moveNext:function(){return!this._done&&(this._match=this._matchcoll._getMatch(this._curindex),this._curindex++,null!=this._match||!(this._done=!0))},getCurrent:function(){if(null==this._match)throw new System.InvalidOperationException("Enumeration has either not started or has already finished.");return this._match},reset:function(){this._curindex=0,this._done=!1,this._match=null}}),Bridge.define("System.Text.RegularExpressions.RegexOptions",{statics:{None:0,IgnoreCase:1,Multiline:2,ExplicitCapture:4,Compiled:8,Singleline:16,IgnorePatternWhitespace:32,RightToLeft:64,ECMAScript:256,CultureInvariant:512},$kind:"enum",$flags:!0}),Bridge.define("System.Text.RegularExpressions.RegexRunner",{statics:{},_runregex:null,_netEngine:null,_runtext:"",_runtextpos:0,_runtextbeg:0,_runtextend:0,_runtextstart:0,_quick:!1,_prevlen:0,ctor:function(t){if(this.$initialize(),null==t)throw new System.ArgumentNullException("regex");var e=(this._runregex=t).getOptions(),n=System.Text.RegularExpressions.RegexOptions,r=(e&n.IgnoreCase)===n.IgnoreCase,i=(e&n.Multiline)===n.Multiline,o=(e&n.Singleline)===n.Singleline,s=(e&n.IgnorePatternWhitespace)===n.IgnorePatternWhitespace,e=(e&n.ExplicitCapture)===n.ExplicitCapture,n=t._matchTimeout.getTotalMilliseconds();this._netEngine=new System.Text.RegularExpressions.RegexEngine(t._pattern,r,i,o,s,e,n)},run:function(t,e,n,r,i,o){var s;if(o<0||o>n.Length)throw new System.ArgumentOutOfRangeException("start","Start index cannot be less than 0 or greater than input length.");if(i<0||i>n.Length)throw new ArgumentOutOfRangeException("length","Length cannot be less than 0 or exceed input length.");if(this._runtext=n,this._runtextbeg=r,this._runtextend=r+i,this._runtextstart=o,this._quick=t,this._prevlen=e,e=this._runregex.getRightToLeft()?(s=this._runtextbeg,-1):(s=this._runtextend,1),0===this._prevlen){if(this._runtextstart===s)return System.Text.RegularExpressions.Match.getEmpty();this._runtextstart+=e}return e=this._netEngine.match(this._runtext,this._runtextstart),this._convertNetEngineResults(e)},parsePattern:function(){return this._netEngine.parsePattern()},_convertNetEngineResults:function(t){var e,n,r,i,o,s,a;if(t.success&&this._quick)return null;if(!t.success)return System.Text.RegularExpressions.Match.getEmpty();for(e=(a=this.parsePattern()).sparseSettings.isSparse?new System.Text.RegularExpressions.MatchSparse(this._runregex,a.sparseSettings.sparseSlotMap,t.groups.length,this._runtext,0,this._runtext.length,this._runtextstart):new System.Text.RegularExpressions.Match(this._runregex,t.groups.length,this._runtext,0,this._runtext.length,this._runtextstart),o=0;o<t.groups.length;o++)for(i=0,null!=(n=t.groups[o]).descriptor&&(i=this._runregex.groupNumberFromName(n.descriptor.name)),s=0;s<n.captures.length;s++)r=n.captures[s],e._addMatch(i,r.capIndex,r.capLength);return a=t.capIndex+t.capLength,e._tidy(a),e}}),Bridge.define("System.Text.RegularExpressions.RegexParser",{statics:{_Q:5,_S:4,_Z:3,_X:2,_E:1,_category:[0,0,0,0,0,0,0,0,0,2,2,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,3,4,0,0,0,4,4,5,5,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,0,0,0],escape:function(t){for(var e,n,r,i=0;i<t.length;i++)if(System.Text.RegularExpressions.RegexParser._isMetachar(t[i])){e="",n=t[i],e+=t.slice(0,i);do{switch(e+="\\",n){case"\n":n="n";break;case"\r":n="r";break;case"\t":n="t";break;case"\f":n="f"}for(e+=n,r=++i;i<t.length&&(n=t[i],!System.Text.RegularExpressions.RegexParser._isMetachar(n));)i++}while(e+=t.slice(r,i),i<t.length);return e}return t},unescape:function(t){for(var e,n,r,i=System.Globalization.CultureInfo.invariantCulture,o=0;o<t.length;o++)if("\\"===t[o]){e="",(r=new System.Text.RegularExpressions.RegexParser(i))._setPattern(t),e+=t.slice(0,o);do{for(o++,r._textto(o),o<t.length&&(e+=r._scanCharEscape()),n=o=r._textpos();o<t.length&&"\\"!==t[o];)o++}while(e+=t.slice(n,o),o<t.length);return e}return t},parseReplacement:function(t,e,n,r,i){var o=System.Globalization.CultureInfo.getCurrentCulture(),o=new System.Text.RegularExpressions.RegexParser(o);return o._options=i,o._noteCaptures(e,n,r),o._setPattern(t),o=o._scanReplacement(),new System.Text.RegularExpressions.RegexReplacement(t,o,e)},_isMetachar:function(t){t=t.charCodeAt(0);return t<="|".charCodeAt(0)&&System.Text.RegularExpressions.RegexParser._category[t]>=System.Text.RegularExpressions.RegexParser._E}},_caps:null,_capsize:0,_capnames:null,_pattern:"",_currentPos:0,_concatenation:null,_culture:null,config:{init:function(){this._options=System.Text.RegularExpressions.RegexOptions.None}},ctor:function(t){this.$initialize(),this._culture=t,this._caps={}},_noteCaptures:function(t,e,n){this._caps=t,this._capsize=e,this._capnames=n},_setPattern:function(t){this._pattern=(t=null==t?"":t)||"",this._currentPos=0},_scanReplacement:function(){this._concatenation=new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.Concatenate,this._options);for(var t,e;0!==(t=this._charsRight());){for(e=this._textpos();0<t&&"$"!==this._rightChar();)this._moveRight(),t--;this._addConcatenate(e,this._textpos()-e),0<t&&"$"===this._moveRightGetChar()&&(e=this._scanDollar(),this._concatenation.addChild(e))}return this._concatenation},_addConcatenate:function(t,e){var n;0!==e&&(n=1<e?(e=this._pattern.slice(t,t+e),new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.Multi,this._options,e)):(n=this._pattern[t],new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.One,this._options,n)),this._concatenation.addChild(n))},_useOptionE:function(){return 0!=(this._options&System.Text.RegularExpressions.RegexOptions.ECMAScript)},_makeException:function(t){return new System.ArgumentException("Incorrect pattern. "+t)},_scanDollar:function(){var t,e,n,r;if(0===this._charsRight())return new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.One,this._options,"$");var i,o=this._rightChar(),s=this._textpos(),a=s;if("{"===o&&1<this._charsRight()?(i=!0,this._moveRight(),o=this._rightChar()):i=!1,"0"<=o&&o<="9"){if(!i&&this._useOptionE()){for(t=-1,n=o-"0",this._moveRight(),this._isCaptureSlot(n)&&(t=n,a=this._textpos());0<this._charsRight()&&"0"<=(o=this._rightChar())&&o<="9";){if(e=o-"0",214748364<n||214748364===n&&7<e)throw this._makeException("Capture group is out of range.");n=10*n+e,this._moveRight(),this._isCaptureSlot(n)&&(t=n,a=this._textpos())}if(this._textto(a),0<=t)return new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.Ref,this._options,t)}else if(t=this._scanDecimal(),(!i||0<this._charsRight()&&"}"===this._moveRightGetChar())&&this._isCaptureSlot(t))return new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.Ref,this._options,t)}else if(i&&this._isWordChar(o)){if(r=this._scanCapname(),0<this._charsRight()&&"}"===this._moveRightGetChar()&&this._isCaptureName(r))return r=this._captureSlotFromName(r),new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.Ref,this._options,r)}else if(!i){switch(t=1,o){case"$":return this._moveRight(),new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.One,this._options,"$");case"&":t=0;break;case"`":t=System.Text.RegularExpressions.RegexReplacement.LeftPortion;break;case"'":t=System.Text.RegularExpressions.RegexReplacement.RightPortion;break;case"+":t=System.Text.RegularExpressions.RegexReplacement.LastGroup;break;case"_":t=System.Text.RegularExpressions.RegexReplacement.WholeString}if(1!==t)return this._moveRight(),new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.Ref,this._options,t)}return this._textto(s),new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.One,this._options,"$")},_scanDecimal:function(){for(var t,e,n=0;0<this._charsRight()&&!((t=this._rightChar())<"0"||"9"<t);){if(e=t-"0",this._moveRight(),214748364<n||214748364===n&&7<e)throw this._makeException("Capture group is out of range.");n*=10,n+=e}return n},_scanOctal:function(){var t,e,n=3;for(n>this._charsRight()&&(n=this._charsRight()),e=0;0<n&&(t=this._rightChar()-"0")<=7&&(this._moveRight(),e*=8,e+=t,!(this._useOptionE()&&32<=e));--n);return e&=255,String.fromCharCode(e)},_scanHex:function(t){var e,n=0;if(this._charsRight()>=t)for(;0<t&&0<=(e=this._hexDigit(this._moveRightGetChar()));--t)n*=16,n+=e;if(0<t)throw this._makeException("Insufficient hexadecimal digits.");return n},_hexDigit:function(t){var e=t.charCodeAt(0);return(t=e-"0".charCodeAt(0))<=9?t:(t=e-"a".charCodeAt(0))<=5||(t=e-"A".charCodeAt(0))<=5?t+10:-1},_scanControl:function(){if(this._charsRight()<=0)throw this._makeException("Missing control character.");var t=this._moveRightGetChar().charCodeAt(0);if(t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)&&(t-="a".charCodeAt(0)-"A".charCodeAt(0)),(t-="@".charCodeAt(0))<" ".charCodeAt(0))return String.fromCharCode(t);throw this._makeException("Unrecognized control character.")},_scanCapname:function(){for(var t=this._textpos();0<this._charsRight();)if(!this._isWordChar(this._moveRightGetChar())){this._moveLeft();break}return _pattern.slice(t,this._textpos())},_scanCharEscape:function(){var t=this._moveRightGetChar();if("0"<=t&&t<="7")return this._moveLeft(),this._scanOctal();switch(t){case"x":return this._scanHex(2);case"u":return this._scanHex(4);case"a":return"";case"b":return"\b";case"e":return"";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"c":return this._scanControl();default:if("8"===t||"9"===t||"_"===t||!this._useOptionE()&&this._isWordChar(t))throw this._makeException("Unrecognized escape sequence \\"+t+".");return t}},_captureSlotFromName:function(t){return this._capnames[t]},_isCaptureSlot:function(t){return null!=this._caps?null!=this._caps[t]:0<=t&&t<this._capsize},_isCaptureName:function(t){return null!=this._capnames&&null!=_capnames[t]},_isWordChar:function(t){return System.Char.isLetter(t.charCodeAt(0))},_charsRight:function(){return this._pattern.length-this._currentPos},_rightChar:function(){return this._pattern[this._currentPos]},_moveRightGetChar:function(){return this._pattern[this._currentPos++]},_moveRight:function(){this._currentPos++},_textpos:function(){return this._currentPos},_textto:function(t){this._currentPos=t},_moveLeft:function(){this._currentPos--}}),Bridge.define("System.Text.RegularExpressions.RegexNode",{statics:{One:9,Multi:12,Ref:13,Empty:23,Concatenate:25},_type:0,_str:null,_children:null,_next:null,_m:0,config:{init:function(){this._options=System.Text.RegularExpressions.RegexOptions.None}},ctor:function(t,e,n){this.$initialize(),this._type=t,this._options=e,t===System.Text.RegularExpressions.RegexNode.Ref?this._m=n:this._str=n||null},addChild:function(t){null==this._children&&(this._children=[]);t=t._reduce();this._children.push(t),t._next=this},childCount:function(){return null==this._children?0:this._children.length},child:function(t){return this._children[t]},_reduce:function(){var t=this._type===System.Text.RegularExpressions.RegexNode.Concatenate?this._reduceConcatenation():this;return t},_reduceConcatenation:function(){var t,e,n,r,i,o,s=!1,a=0;if(null==this._children)return new System.Text.RegularExpressions.RegexNode(System.Text.RegularExpressions.RegexNode.Empty,this._options);for(i=r=0;r<this._children.length;r++,i++)if(e=this._children[r],i<r&&(this._children[i]=e),e._type===System.Text.RegularExpressions.RegexNode.Concatenate&&e._isRightToLeft()){for(o=0;o<e._children.length;o++)e._children[o]._next=this;this._children.splice.apply(this._children,[r+1,0].concat(e._children)),i--}else if(e._type===System.Text.RegularExpressions.RegexNode.Multi||e._type===System.Text.RegularExpressions.RegexNode.One){if(t=e._options&(System.Text.RegularExpressions.RegexOptions.RightToLeft|System.Text.RegularExpressions.RegexOptions.IgnoreCase),!s||a!==t){s=!0,a=t;continue}(n=this._children[--i])._type===System.Text.RegularExpressions.RegexNode.One&&(n._type=System.Text.RegularExpressions.RegexNode.Multi,n._str=n._str),0==(t&System.Text.RegularExpressions.RegexOptions.RightToLeft)?n._str+=e._str:n._str=e._str+n._str}else e._type===System.Text.RegularExpressions.RegexNode.Empty?i--:s=!1;return i<r&&this._children.splice(i,r-i),this._stripEnation(System.Text.RegularExpressions.RegexNode.Empty)},_stripEnation:function(t){switch(this.childCount()){case 0:return new y.RegexNode(t,this._options);case 1:return this.child(0);default:return this}},_isRightToLeft:function(){return 0<(this._options&System.Text.RegularExpressions.RegexOptions.RightToLeft)}}),Bridge.define("System.Text.RegularExpressions.RegexReplacement",{statics:{replace:function(t,e,n,r,i){var o,s,a,u,l,c,g;if(null==t)throw new System.ArgumentNullException("evaluator");if(r<-1)throw new System.ArgumentOutOfRangeException("count","Count cannot be less than -1.");if(i<0||i>n.length)throw new System.ArgumentOutOfRangeException("startat","Start index cannot be less than 0 or greater than input length.");if(0===r)return n;if((o=e.match$1(n,i)).getSuccess()){if(s="",e.getRightToLeft()){for(c=[],a=n.length;(u=o.getIndex())+(l=o.getLength())!==a&&c.push(n.slice(u+l,a)),a=u,c.push(t(o)),0!=--r&&(o=o.nextMatch()).getSuccess(););for(s=new StringBuilder,0<a&&(s+=s.slice(0,a)),g=c.length-1;0<=g;g--)s+=c[g]}else{for(a=0;u=o.getIndex(),l=o.getLength(),u!==a&&(s+=n.slice(a,u)),a=u+l,s+=t(o),0!=--r&&(o=o.nextMatch()).getSuccess(););a<n.length&&(s+=n.slice(a,n.length))}return s}return n},split:function(t,e,n,r){var i,o,s,a,u,l,c,g;if(n<0)throw new System.ArgumentOutOfRangeException("count","Count can't be less than 0.");if(r<0||r>e.length)throw new System.ArgumentOutOfRangeException("startat","Start index cannot be less than 0 or greater than input length.");if(i=[],1===n)return i.push(e),i;if(--n,(o=t.match$1(e,r)).getSuccess())if(t.getRightToLeft()){for(a=e.length;;){for(u=o.getIndex(),l=o.getLength(),g=(c=o.getGroups()).getCount(),i.push(e.slice(u+l,a)),a=u,s=1;s<g;s++)o._isMatched(s)&&i.push(c.get(s).toString());if(0===--n)break;if(!(o=o.nextMatch()).getSuccess())break}i.push(e.slice(0,a)),i.reverse()}else{for(a=0;;){for(u=o.getIndex(),l=o.getLength(),g=(c=o.getGroups()).getCount(),i.push(e.slice(a,u)),a=u+l,s=1;s<g;s++)o._isMatched(s)&&i.push(c.get(s).toString());if(0===--n)break;if(!(o=o.nextMatch()).getSuccess())break}i.push(e.slice(a,e.length))}else i.push(e);return i},Specials:4,LeftPortion:-1,RightPortion:-2,LastGroup:-3,WholeString:-4},_rep:"",_strings:[],_rules:[],ctor:function(t,e,n){if(this.$initialize(),this._rep=t,e._type!==System.Text.RegularExpressions.RegexNode.Concatenate)throw new System.ArgumentException("Replacement error.");for(var r,i,o="",s=[],a=[],u=0;u<e.childCount();u++)switch((i=e.child(u))._type){case System.Text.RegularExpressions.RegexNode.Multi:case System.Text.RegularExpressions.RegexNode.One:o+=i._str;break;case System.Text.RegularExpressions.RegexNode.Ref:0<o.length&&(a.push(s.length),s.push(o),o=""),r=i._m,null!=n&&0<=r&&(r=n[r]),a.push(-System.Text.RegularExpressions.RegexReplacement.Specials-1-r);break;default:throw new System.ArgumentException("Replacement error.")}0<o.length&&(a.push(s.length),s.push(o)),this._strings=s,this._rules=a},getPattern:function(){return _rep},replacement:function(t){return this._replacementImpl("",t)},replace:function(t,e,n,r){var i,o,s,a,u,l,c;if(n<-1)throw new System.ArgumentOutOfRangeException("count","Count cannot be less than -1.");if(r<0||r>e.length)throw new System.ArgumentOutOfRangeException("startat","Start index cannot be less than 0 or greater than input length.");if(0===n)return e;if((i=t.match$1(e,r)).getSuccess()){if(o="",t.getRightToLeft()){for(l=[],s=e.length;(a=i.getIndex())+(u=i.getLength())!==s&&l.push(e.slice(a+u,s)),s=a,this._replacementImplRTL(l,i),0!=--n&&(i=i.nextMatch()).getSuccess(););for(0<s&&(o+=o.slice(0,s)),c=l.length-1;0<=c;c--)o+=l[c]}else{for(s=0;a=i.getIndex(),u=i.getLength(),a!==s&&(o+=e.slice(s,a)),s=a+u,o=this._replacementImpl(o,i),0!=--n&&(i=i.nextMatch()).getSuccess(););s<e.length&&(o+=e.slice(s,e.length))}return o}return e},_replacementImpl:function(t,e){for(var n,r=System.Text.RegularExpressions.RegexReplacement.Specials,i=0;i<this._rules.length;i++)if(0<=(n=this._rules[i]))t+=this._strings[n];else if(n<-r)t+=e._groupToStringImpl(-r-1-n);else switch(-r-1-n){case System.Text.RegularExpressions.RegexReplacement.LeftPortion:t+=e._getLeftSubstring();break;case System.Text.RegularExpressions.RegexReplacement.RightPortion:t+=e._getRightSubstring();break;case System.Text.RegularExpressions.RegexReplacement.LastGroup:t+=e._lastGroupToStringImpl();break;case System.Text.RegularExpressions.RegexReplacement.WholeString:t+=e._getOriginalString()}return t},_replacementImplRTL:function(t,e){for(var n,r=System.Text.RegularExpressions.RegexReplacement.Specials,i=_rules.length-1;0<=i;i--)if(0<=(n=this._rules[i]))t.push(this._strings[n]);else if(n<-r)t.push(e._groupToStringImpl(-r-1-n));else switch(-r-1-n){case System.Text.RegularExpressions.RegexReplacement.LeftPortion:t.push(e._getLeftSubstring());break;case System.Text.RegularExpressions.RegexReplacement.RightPortion:t.push(e._getRightSubstring());break;case System.Text.RegularExpressions.RegexReplacement.LastGroup:t.push(e._lastGroupToStringImpl());break;case System.Text.RegularExpressions.RegexReplacement.WholeString:t.push(e._getOriginalString())}}}),Bridge.define("System.Text.RegularExpressions.RegexEngine",{_pattern:"",_patternInfo:null,_text:"",_textStart:0,_timeoutMs:-1,_timeoutTime:-1,_settings:null,_branchType:{base:0,offset:1,lazy:2,greedy:3,or:4},_branchResultKind:{ok:1,endPass:2,nextPass:3,nextBranch:4},ctor:function(t,e,n,r,i,o,s){if(this.$initialize(),null==t)throw new System.ArgumentNullException("pattern");this._pattern=t,this._timeoutMs=s,this._settings={ignoreCase:e,multiline:n,singleline:r,ignoreWhitespace:i,explicitCapture:o}},match:function(t,e){if(null==t)throw new System.ArgumentNullException("text");if(null!=e&&(e<0||e>t.length))throw new System.ArgumentOutOfRangeException("textStart","Start index cannot be less than 0 or greater than input length.");return this._text=t,this._textStart=e,this._timeoutTime=0<this._timeoutMs?(new Date).getTime()+System.Convert.toInt32(this._timeoutMs+.5):-1,(t=this.parsePattern()).shouldFail?this._getEmptyMatch():(this._checkTimeout(),this._scanAndTransformResult(e,t.tokens,!1,null))},parsePattern:function(){var t;return null==this._patternInfo&&(t=System.Text.RegularExpressions.RegexEngineParser.parsePattern(this._pattern,this._cloneSettings(this._settings)),this._patternInfo=t),this._patternInfo},_scanAndTransformResult:function(t,e,n,r){r=this._scan(t,this._text.length,e,n,r);return this._collectScanResults(r,t)},_scan:function(t,e,n,r,i){var o,s=this._branchResultKind,a=[];if(a.grCaptureCache={},0,0===n.length)return(u=new System.Text.RegularExpressions.RegexEngineState).capIndex=t,u.txtIndex=t,u.capLength=0,u;var u=r?this._branchType.base:this._branchType.offset,r=this._patternInfo.isContiguous?t:e,r=new System.Text.RegularExpressions.RegexEngineBranch(u,t,t,r);for(r.pushPass(0,n,this._cloneSettings(this._settings)),r.started=!0,r.state.txtIndex=t,a.push(r);a.length;){if(o=a[a.length-1],this._scanBranch(e,a,o)===s.ok&&(null==i||o.state.capLength===i))return o.state;this._advanceToNextBranch(a,o),this._checkTimeout()}return null},_scanBranch:function(t,e,n){var r,i,o=this._branchResultKind;if(n.mustFail)return n.mustFail=!1,o.nextBranch;for(;n.hasPass();){if(null==(r=n.peekPass()).tokens||0===r.tokens.length)i=o.endPass;else{if(this._addAlternationBranches(e,n,r)===o.nextBranch)return o.nextBranch;i=this._scanPass(t,e,n,r)}switch(i){case o.nextBranch:return i;case o.nextPass:continue;case o.endPass:case o.ok:n.popPass();break;default:throw new System.InvalidOperationException("Unexpected branch result.")}}return o.ok},_scanPass:function(t,e,n,r){for(var i,o,s,a=this._branchResultKind,u=r.tokens.length;r.index<u;)if(i=r.tokens[r.index],null==(o=r.probe)){if(this._addBranchBeforeProbing(e,n,r,i))return a.nextBranch;switch(s=this._scanToken(t,e,n,r,i)){case a.nextBranch:case a.nextPass:case a.endPass:return s;case a.ok:r.index++;break;default:throw new System.InvalidOperationException("Unexpected branch-pass result.")}}else if(o.value<o.min||o.forced){if((s=this._scanToken(t,e,n,r,i))!==a.ok)return s;o.value+=1,o.forced=!1}else this._addBranchAfterProbing(e,n,r,o),o.forced||(r.probe=null,r.index++);return a.ok},_addAlternationBranches:function(t,e,n){var r,i,o,s,a=System.Text.RegularExpressions.RegexEngineParser.tokenTypes,u=this._branchType,l=n.tokens.length,c=this._branchResultKind;if(!n.alternationHandled&&!n.tokens.noAlternation){for(r=[-1],s=0;s<l;s++)n.tokens[s].type===a.alternation&&r.push(s);if(1<r.length){for(s=0;s<r.length;s++)(i=new System.Text.RegularExpressions.RegexEngineBranch(u.or,s,0,r.length,e.state)).isNotFailing=!0,(o=i.peekPass()).alternationHandled=!0,o.index=r[s]+1,t.splice(t.length-s,0,i);return t[t.length-r.length].isNotFailing=!1,e.mustFail=!0,n.alternationHandled=!0,c.nextBranch}n.tokens.noAlternation=!0}return c.ok},_addBranchBeforeProbing:function(t,e,n,r){r=this._tryGetTokenProbe(r);return null!=r&&(n=(n.probe=r).isLazy?this._branchType.lazy:this._branchType.greedy,e=new System.Text.RegularExpressions.RegexEngineBranch(n,r.value,r.min,r.max,e.state),t.push(e),!0)},_addBranchAfterProbing:function(t,e,n,r){var i,o;r.isLazy?r.value+1<=r.max&&(i=(o=e.clone()).peekPass().probe,o.value+=1,i.forced=!0,t.splice(t.length-1,0,o),e.isNotFailing=!0):r.value+1<=r.max&&((o=e.clone()).started=!0,o.peekPass().probe=null,o.peekPass().index++,t.splice(t.length-1,0,o),r.forced=!0,e.value+=1,e.isNotFailing=!0)},_tryGetTokenProbe:function(t){var e,n,r=t.qtoken;if(null==r)return null;if(t=System.Text.RegularExpressions.RegexEngineParser.tokenTypes,r.type===t.quantifier)switch(r.value){case"*":case"*?":e=0,n=2147483647;break;case"+":case"+?":e=1,n=2147483647;break;case"?":case"??":e=0,n=1;break;default:throw new System.InvalidOperationException("Unexpected quantifier value.")}else if(r.type===t.quantifierN)e=r.data.n,n=r.data.n;else{if(r.type!==t.quantifierNM)return null;e=r.data.n,n=null!=r.data.m?r.data.m:2147483647}return new System.Text.RegularExpressions.RegexEngineProbe(e,n,0,r.data.isLazy)},_advanceToNextBranch:function(t,e){if(0!==t.length){var n=t[t.length-1];if(n.started){if(e!==n)throw new System.InvalidOperationException("Current branch is supposed to be the last one.");1===t.length&&e.type===this._branchType.offset?(e.value++,e.state.txtIndex=e.value,e.mustFail=!1,e.state.capIndex=null,e.state.capLength=0,e.state.groups.length=0,e.state.passes.length=1,e.state.passes[0].clearState(this._cloneSettings(this._settings)),e.value>e.max&&t.pop()):(t.pop(),e.isNotFailing||(n=t[t.length-1],this._advanceToNextBranch(t,n)))}else n.started=!0}},_collectScanResults:function(t,e){var n,r,i,o,s,a,u=this._patternInfo.groups,l=this._text,c={},g={},h=this._getEmptyMatch();if(null!=t){for(n=t.groups,this._fillMatch(h,t.capIndex,t.capLength,e),a=0;a<n.length;a++)(i=u[(r=n[a]).rawIndex-1]).constructs.skipCapture||(o={capIndex:r.capIndex,capLength:r.capLength,value:l.slice(r.capIndex,r.capIndex+r.capLength)},null==(s=g[i.name])?g[i.name]=s={capIndex:0,capLength:0,value:"",success:!1,captures:[o]}:s.captures.push(o));for(a=0;a<u.length;a++)(i=u[a]).constructs.skipCapture||!0!==c[i.name]&&(null==(s=g[i.name])?s={capIndex:0,capLength:0,value:"",success:!1,captures:[]}:0<s.captures.length&&(o=s.captures[s.captures.length-1],s.capIndex=o.capIndex,s.capLength=o.capLength,s.value=o.value,s.success=!0),c[i.name]=!0,s.descriptor=i,h.groups.push(s))}return h},_scanToken:function(t,e,n,r,i){var o=System.Text.RegularExpressions.RegexEngineParser.tokenTypes,s=this._branchResultKind;switch(i.type){case o.group:case o.groupImnsx:case o.alternationGroup:return this._scanGroupToken(t,e,n,r,i);case o.groupImnsxMisc:return this._scanGroupImnsxToken(i.group.constructs,r.settings);case o.charGroup:return this._scanCharGroupToken(e,n,r,i,!1);case o.charNegativeGroup:return this._scanCharNegativeGroupToken(e,n,r,i,!1);case o.escChar:case o.escCharOctal:case o.escCharHex:case o.escCharUnicode:case o.escCharCtrl:return this._scanLiteral(t,e,n,r,i.data.ch);case o.escCharOther:case o.escCharClass:return this._scanEscapeToken(e,n,r,i);case o.escCharClassCategory:throw new System.NotSupportedException("Unicode Category constructions are not supported.");case o.escCharClassBlock:throw new System.NotSupportedException("Unicode Named block constructions are not supported.");case o.escCharClassDot:return this._scanDotToken(t,e,n,r);case o.escBackrefNumber:return this._scanBackrefNumberToken(t,e,n,r,i);case o.escBackrefName:return this._scanBackrefNameToken(t,e,n,r,i);case o.anchor:case o.escAnchor:return this._scanAnchorToken(t,e,n,r,i);case o.groupConstruct:case o.groupConstructName:case o.groupConstructImnsx:case o.groupConstructImnsxMisc:return s.ok;case o.alternationGroupCondition:case o.alternationGroupRefNameCondition:case o.alternationGroupRefNumberCondition:return this._scanAlternationConditionToken(t,e,n,r,i);case o.alternation:return s.endPass;case o.commentInline:case o.commentXMode:return s.ok;default:return this._scanLiteral(t,e,n,r,i.value)}},_scanGroupToken:function(t,e,n,r,i){var o=System.Text.RegularExpressions.RegexEngineParser.tokenTypes,s=this._branchResultKind,a=n.state.txtIndex;if(r.onHold){if(i.type===o.group){var u=i.group.rawIndex,l=r.onHoldTextIndex,c=a-l,g=e.grCaptureCache[u];if(null==g&&(e.grCaptureCache[u]=g={}),null!=g[u=l.toString()+"_"+c.toString()])return s.nextBranch;g[u]=!0,i.group.constructs.emptyCapture||(i.group.isBalancing?n.state.logCaptureGroupBalancing(i.group,l):n.state.logCaptureGroup(i.group,l,c))}return r.onHold=!1,r.onHoldTextIndex=-1,s.ok}if(i.type===o.group||i.type===o.groupImnsx){if(o=i.group.constructs,this._scanGroupImnsxToken(o,r.settings),o.isPositiveLookahead||o.isNegativeLookahead||o.isPositiveLookbehind||o.isNegativeLookbehind)return this._scanLook(n,a,t,i);if(o.isNonbacktracking)return this._scanNonBacktracking(n,a,t,i)}return r.onHoldTextIndex=a,r.onHold=!0,n.pushPass(0,i.children,this._cloneSettings(r.settings)),s.nextPass},_scanGroupImnsxToken:function(t,e){var n=this._branchResultKind;return null!=t.isIgnoreCase&&(e.ignoreCase=t.isIgnoreCase),null!=t.isMultiline&&(e.multiline=t.isMultiline),null!=t.isSingleLine&&(e.singleline=t.isSingleLine),null!=t.isIgnoreWhitespace&&(e.ignoreWhitespace=t.isIgnoreWhitespace),null!=t.isExplicitCapture&&(e.explicitCapture=t.isExplicitCapture),n.ok},_scanAlternationConditionToken:function(t,e,n,r,i){var o=System.Text.RegularExpressions.RegexEngineParser.tokenTypes,s=this._branchResultKind,a=i.children,u=n.state.txtIndex,l=s.nextBranch;return i.type===o.alternationGroupRefNameCondition||i.type===o.alternationGroupRefNumberCondition?l=null!=n.state.resolveBackref(i.data.packedSlotId)?s.ok:s.nextBranch:(a=this._scan(u,t,a,!0,null),this._combineScanResults(n,a)&&(l=s.ok)),l=l===s.nextBranch&&r.tokens.noAlternation?s.endPass:l},_scanLook:function(t,e,n,r){var i=r.group.constructs,o=this._branchResultKind,s=r.children,a=i.isPositiveLookahead||i.isNegativeLookahead,r=i.isPositiveLookbehind||i.isNegativeLookbehind;return a||r?(s=s.slice(1,s.length),(i.isPositiveLookahead||i.isPositiveLookbehind)===(a?this._scanLookAhead(t,e,n,s):this._scanLookBehind(t,e,n,s))?o.ok:o.nextBranch):null},_scanLookAhead:function(t,e,n,r){r=this._scan(e,n,r,!0,null);return this._combineScanResults(t,r)},_scanLookBehind:function(t,e,n,r){for(var i,o=e;0<=o;){if(i=this._scan(o,n,r,!0,e-o),this._combineScanResults(t,i))return!0;--o}return!1},_scanNonBacktracking:function(t,e,n,r){var i=this._branchResultKind,r=(r=r.children).slice(1,r.length),r=this._scan(e,n,r,!0,null);return r?(t.state.logCapture(r.capLength),i.ok):i.nextBranch},_scanLiteral:function(t,e,n,r,i){var o,s=this._branchResultKind,a=n.state.txtIndex;if(a+i.length>t)return s.nextBranch;if(r.settings.ignoreCase){for(o=0;o<i.length;o++)if(this._text[a+o].toLowerCase()!==i[o].toLowerCase())return s.nextBranch}else for(o=0;o<i.length;o++)if(this._text[a+o]!==i[o])return s.nextBranch;return n.state.logCapture(i.length),s.ok},_scanWithJsRegex:function(t,e,n,r,i){var o=this._branchResultKind,s=e.state.txtIndex,a=this._text[s];return null==a&&(a=""),s=n.settings.ignoreCase?"i":"",null==(n=r.rgx)&&(null==i&&(i=r.value),n=new RegExp(i,s),r.rgx=n),n.test(a)?(e.state.logCapture(a.length),o.ok):o.nextBranch},_scanWithJsRegex2:function(t,e){var n=this._branchResultKind,t=this._text[t];return null==t&&(t=""),new RegExp(e,"").test(t)?n.ok:n.nextBranch},_scanCharGroupToken:function(t,e,n,r,i){var o,s,a,u,l,c,g,h=System.Text.RegularExpressions.RegexEngineParser.tokenTypes,m=this._branchResultKind,f=e.state.txtIndex,d=this._text[f];if(null==d)return m.nextBranch;if(a=d.charCodeAt(0),u=r.data.ranges,null!=r.data.substractToken){if(r.data.substractToken.type===h.charGroup)g=this._scanCharGroupToken(t,e,n,r.data.substractToken,!0);else{if(r.data.substractToken.type!==h.charNegativeGroup)throw new System.InvalidOperationException("Unexpected substuct group token.");g=this._scanCharNegativeGroupToken(t,e,n,r.data.substractToken,!0)}if(g===m.ok)return r.type===h.charGroup?m.nextBranch:m.ok}if(null!=u.charClassToken&&this._scanWithJsRegex(t,e,n,u.charClassToken)===m.ok)return m.ok;for(s=0;s<2;s++){for(o=0;o<u.length&&!((l=u[o]).n>a);o++)if(a<=l.m)return i||e.state.logCapture(1),m.ok;null==c&&n.settings.ignoreCase&&(c=d.toUpperCase(),a=(d=d===c?d.toLowerCase():c).charCodeAt(0))}return m.nextBranch},_scanCharNegativeGroupToken:function(t,e,n,r,i){var o=this._branchResultKind,s=e.state.txtIndex;return null==this._text[s]?o.nextBranch:this._scanCharGroupToken(t,e,n,r,!0)===o.ok?o.nextBranch:(i||e.state.logCapture(1),o.ok)},_scanEscapeToken:function(t,e,n,r){return this._scanWithJsRegex(t,e,n,r)},_scanDotToken:function(t,e,n,r){var i=this._branchResultKind,o=n.state.txtIndex;if(r.settings.singleline){if(o<t)return n.state.logCapture(1),i.ok}else if(o<t&&"\n"!==this._text[o])return n.state.logCapture(1),i.ok;return i.nextBranch},_scanBackrefNumberToken:function(t,e,n,r,i){var o=this._branchResultKind,i=n.state.resolveBackref(i.data.slotId);return null==i?o.nextBranch:(i=this._text.slice(i.capIndex,i.capIndex+i.capLength),this._scanLiteral(t,e,n,r,i))},_scanBackrefNameToken:function(t,e,n,r,i){var o=this._branchResultKind,i=n.state.resolveBackref(i.data.slotId);return null==i?o.nextBranch:(i=this._text.slice(i.capIndex,i.capIndex+i.capLength),this._scanLiteral(t,e,n,r,i))},_scanAnchorToken:function(t,e,n,r,i){var o=this._branchResultKind,n=n.state.txtIndex;if("\\b"===i.value||"\\B"===i.value){if((0<n&&this._scanWithJsRegex2(n-1,"\\w")===o.ok)==(this._scanWithJsRegex2(n,"\\w")===o.ok)==("\\B"===i.value))return o.ok}else if("^"===i.value){if(0===n||r.settings.multiline&&"\n"===this._text[n-1])return o.ok}else if("$"===i.value){if(n===t||r.settings.multiline&&"\n"===this._text[n])return o.ok}else if("\\A"===i.value){if(0===n)return o.ok}else if("\\z"===i.value){if(n===t)return o.ok}else if("\\Z"===i.value){if(n===t||n===t-1&&"\n"===this._text[n])return o.ok}else if("\\G"===i.value)return o.ok;return o.nextBranch},_cloneSettings:function(t){return{ignoreCase:t.ignoreCase,multiline:t.multiline,singleline:t.singleline,ignoreWhitespace:t.ignoreWhitespace,explicitCapture:t.explicitCapture}},_combineScanResults:function(t,e){if(null==e)return!1;for(var n=t.state.groups,r=e.groups,i=r.length,o=0;o<i;++o)n.push(r[o]);return!0},_getEmptyMatch:function(){return{capIndex:0,capLength:0,success:!1,value:"",groups:[],captures:[]}},_fillMatch:function(t,e,n,r){t.capIndex=e=null==e?r:e,t.capLength=n,t.success=!0,t.value=this._text.slice(e,e+n),t.groups.push({capIndex:e,capLength:n,value:t.value,success:!0,captures:[{capIndex:e,capLength:n,value:t.value}]}),t.captures.push(t.groups[0].captures[0])},_checkTimeout:function(){if(!(this._timeoutTime<0)&&(new Date).getTime()>=this._timeoutTime)throw new System.RegexMatchTimeoutException(this._text,this._pattern,System.TimeSpan.fromMilliseconds(this._timeoutMs))}}),Bridge.define("System.Text.RegularExpressions.RegexEngineBranch",{type:0,value:0,min:0,max:0,isStarted:!1,isNotFailing:!1,state:null,ctor:function(t,e,n,r,i){this.$initialize(),this.type=t,this.value=e,this.min=n,this.max=r,this.state=null!=i?i.clone():new System.Text.RegularExpressions.RegexEngineState},pushPass:function(t,e,n){n=new System.Text.RegularExpressions.RegexEnginePass(t,e,n);this.state.passes.push(n)},peekPass:function(){return this.state.passes[this.state.passes.length-1]},popPass:function(){return this.state.passes.pop()},hasPass:function(){return 0<this.state.passes.length},clone:function(){var t=new System.Text.RegularExpressions.RegexEngineBranch(this.type,this.value,this.min,this.max,this.state);return t.isNotFailing=this.isNotFailing,t}}),Bridge.define("System.Text.RegularExpressions.RegexEngineState",{txtIndex:0,capIndex:null,capLength:0,passes:null,groups:null,ctor:function(){this.$initialize(),this.passes=[],this.groups=[]},logCapture:function(t){null==this.capIndex&&(this.capIndex=this.txtIndex),this.txtIndex+=t,this.capLength+=t},logCaptureGroup:function(t,e,n){this.groups.push({rawIndex:t.rawIndex,slotId:t.packedSlotId,capIndex:e,capLength:n})},logCaptureGroupBalancing:function(t,e){for(var n,r,i,o=t.balancingSlotId,s=this.groups,a=s.length-1;0<=a;){if(s[a].slotId===o){n=s[a],r=a;break}--a}return null!=n&&null!=r&&(s.splice(r,1),null!=t.constructs.name1&&(i=n.capIndex+n.capLength,this.logCaptureGroup(t,i,e-i)),!0)},resolveBackref:function(t){for(var e=this.groups,n=e.length-1;0<=n;){if(e[n].slotId===t)return e[n];--n}return null},clone:function(){var t,e,n=new System.Text.RegularExpressions.RegexEngineState;n.txtIndex=this.txtIndex,n.capIndex=this.capIndex,n.capLength=this.capLength;for(var r,i=n.passes,o=this.passes,s=o.length,a=0;a<s;a++)r=o[a].clone(),i.push(r);for(t=n.groups,s=(e=this.groups).length,a=0;a<s;a++)r=e[a],t.push(r);return n}}),Bridge.define("System.Text.RegularExpressions.RegexEnginePass",{index:0,tokens:null,probe:null,onHold:!1,onHoldTextIndex:-1,alternationHandled:!1,settings:null,ctor:function(t,e,n){this.$initialize(),this.index=t,this.tokens=e,this.settings=n},clearState:function(t){this.index=0,this.probe=null,this.onHold=!1,this.onHoldTextIndex=-1,this.alternationHandled=!1,this.settings=t},clone:function(){var t=new System.Text.RegularExpressions.RegexEnginePass(this.index,this.tokens,this.settings);return t.onHold=this.onHold,t.onHoldTextIndex=this.onHoldTextIndex,t.alternationHandled=this.alternationHandled,t.probe=null!=this.probe?this.probe.clone():null,t}}),Bridge.define("System.Text.RegularExpressions.RegexEngineProbe",{min:0,max:0,value:0,isLazy:!1,forced:!1,ctor:function(t,e,n,r){this.$initialize(),this.min=t,this.max=e,this.value=n,this.isLazy=r,this.forced=!1},clone:function(){var t=new System.Text.RegularExpressions.RegexEngineProbe(this.min,this.max,this.value,this.isLazy);return t.forced=this.forced,t}}),Bridge.define("System.Text.RegularExpressions.RegexEngineParser",{statics:{_hexSymbols:"0123456789abcdefABCDEF",_octSymbols:"01234567",_decSymbols:"0123456789",_escapedChars:"abtrvfnexcu",_escapedCharClasses:"pPwWsSdD",_escapedAnchors:"AZzGbB",_escapedSpecialSymbols:" .,$^{}[]()|*+-=?\\|/\"':;~!@#%&",_whiteSpaceChars:" \r\n\t\v\f\ufeff",_unicodeCategories:["Lu","Ll","Lt","Lm","Lo","L","Mn","Mc","Me","M","Nd","Nl","No","N","Pc","Pd","Ps","Pe","Pi","Pf","Po","P","Sm","Sc","Sk","So","S","Zs","Zl","Zp","Z","Cc","Cf","Cs","Co","Cn","C"],_namedCharBlocks:["IsBasicLatin","IsLatin-1Supplement","IsLatinExtended-A","IsLatinExtended-B","IsIPAExtensions","IsSpacingModifierLetters","IsCombiningDiacriticalMarks","IsGreek","IsGreekandCoptic","IsCyrillic","IsCyrillicSupplement","IsArmenian","IsHebrew","IsArabic","IsSyriac","IsThaana","IsDevanagari","IsBengali","IsGurmukhi","IsGujarati","IsOriya","IsTamil","IsTelugu","IsKannada","IsMalayalam","IsSinhala","IsThai","IsLao","IsTibetan","IsMyanmar","IsGeorgian","IsHangulJamo","IsEthiopic","IsCherokee","IsUnifiedCanadianAboriginalSyllabics","IsOgham","IsRunic","IsTagalog","IsHanunoo","IsBuhid","IsTagbanwa","IsKhmer","IsMongolian","IsLimbu","IsTaiLe","IsKhmerSymbols","IsPhoneticExtensions","IsLatinExtendedAdditional","IsGreekExtended","IsGeneralPunctuation","IsSuperscriptsandSubscripts","IsCurrencySymbols","IsCombiningDiacriticalMarksforSymbols","IsCombiningMarksforSymbols","IsLetterlikeSymbols","IsNumberForms","IsArrows","IsMathematicalOperators","IsMiscellaneousTechnical","IsControlPictures","IsOpticalCharacterRecognition","IsEnclosedAlphanumerics","IsBoxDrawing","IsBlockElements","IsGeometricShapes","IsMiscellaneousSymbols","IsDingbats","IsMiscellaneousMathematicalSymbols-A","IsSupplementalArrows-A","IsBraillePatterns","IsSupplementalArrows-B","IsMiscellaneousMathematicalSymbols-B","IsSupplementalMathematicalOperators","IsMiscellaneousSymbolsandArrows","IsCJKRadicalsSupplement","IsKangxiRadicals","IsIdeographicDescriptionCharacters","IsCJKSymbolsandPunctuation","IsHiragana","IsKatakana","IsBopomofo","IsHangulCompatibilityJamo","IsKanbun","IsBopomofoExtended","IsKatakanaPhoneticExtensions","IsEnclosedCJKLettersandMonths","IsCJKCompatibility","IsCJKUnifiedIdeographsExtensionA","IsYijingHexagramSymbols","IsCJKUnifiedIdeographs","IsYiSyllables","IsYiRadicals","IsHangulSyllables","IsHighSurrogates","IsHighPrivateUseSurrogates","IsLowSurrogates","IsPrivateUse or IsPrivateUseArea","IsCJKCompatibilityIdeographs","IsAlphabeticPresentationForms","IsArabicPresentationForms-A","IsVariationSelectors","IsCombiningHalfMarks","IsCJKCompatibilityForms","IsSmallFormVariants","IsArabicPresentationForms-B","IsHalfwidthandFullwidthForms","IsSpecials"],_controlChars:["@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_"],tokenTypes:{literal:0,escChar:110,escCharOctal:111,escCharHex:112,escCharCtrl:113,escCharUnicode:114,escCharOther:115,escCharClass:120,escCharClassCategory:121,escCharClassBlock:122,escCharClassDot:123,escAnchor:130,escBackrefNumber:140,escBackrefName:141,charGroup:200,charNegativeGroup:201,charInterval:202,anchor:300,group:400,groupImnsx:401,groupImnsxMisc:402,groupConstruct:403,groupConstructName:404,groupConstructImnsx:405,groupConstructImnsxMisc:406,quantifier:500,quantifierN:501,quantifierNM:502,alternation:600,alternationGroup:601,alternationGroupCondition:602,alternationGroupRefNumberCondition:603,alternationGroupRefNameCondition:604,commentInline:700,commentXMode:701},parsePattern:function(t,e){var n,r=System.Text.RegularExpressions.RegexEngineParser,i=r._parsePatternImpl(t,e,0,t.length),o=[];return r._fillGroupDescriptors(i,o),n=r._getGroupSparseInfo(o),r._fillBalancingGroupInfo(o,n),r._preTransformBackrefTokens(t,i,n),r._transformRawTokens(e,i,n,[],[],0),r._updateGroupDescriptors(i),{groups:o,sparseSettings:n,isContiguous:e.isContiguous||!1,shouldFail:e.shouldFail||!1,tokens:i}},_transformRawTokens:function(t,e,n,r,i,o){for(var s,a,u,l,c,g,h,m=System.Text.RegularExpressions.RegexEngineParser,f=m.tokenTypes,d=0;d<e.length;d++){if(a=e[d],d<e.length-1)switch((h=e[d+1]).type){case f.quantifier:case f.quantifierN:case f.quantifierNM:a.qtoken=h,e.splice(d+1,1),--d}if(a.type===f.escBackrefNumber){if(g=a.data.number,null==(l=n.getPackedSlotIdBySlotNumber(g)))throw new System.ArgumentException("Reference to undefined group number "+g.toString()+".");if(r.indexOf(l)<0){t.shouldFail=!0;continue}a.data.slotId=l}else if(a.type===f.escBackrefName){if(u=a.data.name,null==(l=n.getPackedSlotIdBySlotName(u))){if(m._matchChars(u,0,u.length,m._decSymbols).matchLength!==u.length)throw new System.ArgumentException("Reference to undefined group name '"+u+"'.");m._updatePatternToken(a,f.escBackrefNumber,a.index,(u="\\"+u).length,u),--d;continue}if(r.indexOf(l)<0){t.shouldFail=!0;continue}a.data.slotId=l}else if(a.type===f.anchor||a.type===f.escAnchor){if("\\G"===a.value){0===o&&0===d?t.isContiguous=!0:t.shouldFail=!0,e.splice(d,1),--d;continue}}else{if(a.type===f.commentInline||a.type===f.commentXMode){e.splice(d,1),--d;continue}if(a.type===f.literal){if(0<d&&!a.qtoken&&((s=e[d-1]).type===f.literal&&!s.qtoken)){s.value+=a.value,s.length+=a.length,e.splice(d,1),--d;continue}}else if(a.type===f.alternationGroupCondition&&null!=a.data)if(null!=a.data.number){if(null==(l=n.getPackedSlotIdBySlotNumber(a.data.number)))throw new System.ArgumentException("Reference to undefined group number "+u+".");a.data.packedSlotId=l,m._updatePatternToken(a,f.alternationGroupRefNumberCondition,a.index,a.length,a.value)}else null!=(l=n.getPackedSlotIdBySlotName(a.data.name))?(a.data.packedSlotId=l,m._updatePatternToken(a,f.alternationGroupRefNameCondition,a.index,a.length,a.value)):delete a.data}a.children&&a.children.length&&(c=(c=a.type===f.group?[a.group.rawIndex]:[]).concat(i),g=a.localSettings||t,m._transformRawTokens(g,a.children,n,r,c,o+1),t.shouldFail=t.shouldFail||g.shouldFail,t.isContiguous=t.isContiguous||g.isContiguous),a.type===f.group&&r.push(a.group.packedSlotId)}},_fillGroupDescriptors:function(t,e){var n,r,i;for(System.Text.RegularExpressions.RegexEngineParser._fillGroupStructure(e,t,null),i=1,r=0;r<e.length;r++)null!=(n=e[r]).constructs.name1?(n.name=n.constructs.name1,n.hasName=!0):(n.hasName=!1,n.name=i.toString(),++i)},_fillGroupStructure:function(t,e,n){for(var r,i,o,s,a=System.Text.RegularExpressions.RegexEngineParser,u=a.tokenTypes,l=0;l<e.length;l++)s=(r=e[l]).children&&r.children.length,r.type!==u.group&&r.type!==u.groupImnsx&&r.type!==u.groupImnsxMisc||(i={rawIndex:t.length+1,number:-1,parentGroup:null,innerGroups:[],name:null,hasName:!1,constructs:null,quantifier:null,exprIndex:-1,exprLength:0,expr:null,exprFull:null},r.group=i,r.type===u.group&&(t.push(i),null!=n&&(r.group.parentGroup=n).innerGroups.push(i)),o=s?r.children[0]:null,i.constructs=a._fillGroupConstructs(o),i=i.constructs,r.isNonCapturingExplicit&&(delete r.isNonCapturingExplicit,i.isNonCapturingExplicit=!0),r.isEmptyCapturing&&(delete r.isEmptyCapturing,i.emptyCapture=!0),i.skipCapture=i.isNonCapturing||i.isNonCapturingExplicit||i.isNonbacktracking||i.isPositiveLookahead||i.isNegativeLookahead||i.isPositiveLookbehind||i.isNegativeLookbehind||null==i.name1&&null!=i.name2),s&&a._fillGroupStructure(t,r.children,r.group)},_getGroupSparseInfo:function(t){for(var e,n,r,i,o,s,a,u=System.Text.RegularExpressions.RegexEngineParser,l={},c=[],g={},h={0:0,lastSlot:0},m={0:0,keys:["0"]},f=0;f<t.length;f++)(o=t[f]).constructs.skipCapture||(o.constructs.isNumberName1?(r=parseInt(o.constructs.name1),c.push(r),l[r]?l[r].push(o):l[r]=[o]):g[i=o.constructs.name1]?g[i].push(o):g[i]=[o]);for(c.sort(function(t,e){return t-e}),a=!1,s=0;s<2;s++){for(f=0;f<t.length;f++)(o=t[f]).constructs.skipCapture||!0===o.constructs.emptyCapture===a&&(r=m.keys.length,o.hasName||(n=[o],null!=(e=l[r])&&(n=n.concat(e),l[r]=null),u._addSparseSlotForSameNamedGroups(n,r,h,m)));a=!0}for(f=0;f<t.length;f++)if(!(o=t[f]).constructs.skipCapture&&o.hasName&&!o.constructs.isNumberName1){for(e=l[r=m.keys.length];null!=e;)u._addSparseSlotForSameNamedGroups(e,r,h,m),l[r]=null,e=l[r=m.keys.length];if(!o.constructs.isNumberName1)for(e=l[r=m.keys.length];null!=e;)u._addSparseSlotForSameNamedGroups(e,r,h,m),l[r]=null,e=l[r=m.keys.length];null!=(e=g[i=o.constructs.name1])&&(u._addSparseSlotForSameNamedGroups(e,r,h,m),g[i]=null)}for(f=0;f<c.length;f++)null!=(e=l[r=c[f]])&&(u._addSparseSlotForSameNamedGroups(e,r,h,m),l[r]=null);return{isSparse:h.isSparse||!1,sparseSlotMap:h,sparseSlotNameMap:m,getPackedSlotIdBySlotNumber:function(t){return this.sparseSlotMap[t]},getPackedSlotIdBySlotName:function(t){return this.sparseSlotNameMap[t]}}},_addSparseSlot:function(t,e,n,r){var i=r.keys.length;t.packedSlotId=i,n[e]=i,r[t.name]=i,r.keys.push(t.name),!n.isSparse&&1<e-n.lastSlot&&(n.isSparse=!0),n.lastSlot=e},_addSparseSlotForSameNamedGroups:function(t,e,n,r){var i,o,s;if(System.Text.RegularExpressions.RegexEngineParser._addSparseSlot(t[0],e,n,r),o=t[0].sparseSlotId,s=t[0].packedSlotId,1<t.length)for(i=1;i<t.length;i++)t[i].sparseSlotId=o,t[i].packedSlotId=s},_fillGroupConstructs:function(t){var e,n,r=System.Text.RegularExpressions.RegexEngineParser,i=r.tokenTypes,o={name1:null,name2:null,isNumberName1:!1,isNumberName2:!1,isNonCapturing:!1,isNonCapturingExplicit:!1,isIgnoreCase:null,isMultiline:null,isExplicitCapture:null,isSingleLine:null,isIgnoreWhitespace:null,isPositiveLookahead:!1,isNegativeLookahead:!1,isPositiveLookbehind:!1,isNegativeLookbehind:!1,isNonbacktracking:!1};if(null==t)return o;if(t.type===i.groupConstruct)switch(t.value){case"?:":o.isNonCapturing=!0;break;case"?=":o.isPositiveLookahead=!0;break;case"?!":o.isNegativeLookahead=!0;break;case"?>":o.isNonbacktracking=!0;break;case"?<=":o.isPositiveLookbehind=!0;break;case"?<!":o.isNegativeLookbehind=!0;break;default:throw new System.ArgumentException("Unrecognized grouping construct.")}else if(t.type===i.groupConstructName){if(0===(n=t.value.slice(2,t.length-1).split("-")).length||2<n.length)throw new System.ArgumentException("Invalid group name.");n[0].length&&(o.name1=n[0],e=r._validateGroupName(n[0]),o.isNumberName1=e.isNumberName),2===n.length&&(o.name2=n[1],n=r._validateGroupName(n[1]),o.isNumberName2=n.isNumberName)}else if(t.type===i.groupConstructImnsx||t.type===i.groupConstructImnsxMisc)for(var s,i=t.type===i.groupConstructImnsx?1:0,a=t.length-1-i,u=!0,l=1;l<=a;l++)"-"===(s=t.value[l])?u=!1:"i"===s?o.isIgnoreCase=u:"m"===s?o.isMultiline=u:"n"===s?o.isExplicitCapture=u:"s"===s?o.isSingleLine=u:"x"===s&&(o.isIgnoreWhitespace=u);return o},_validateGroupName:function(t){var e,n;if(!t||!t.length)throw new System.ArgumentException("Invalid group name: Group names must begin with a word character.");if((e="0"<=t[0]&&t[0]<="9")&&(n=System.Text.RegularExpressions.RegexEngineParser)._matchChars(t,0,t.length,n._decSymbols).matchLength!==t.length)throw new System.ArgumentException("Invalid group name: Group names must begin with a word character.");return{isNumberName:e}},_fillBalancingGroupInfo:function(t,e){for(var n,r=0;r<t.length;r++)if(null!=(n=t[r]).constructs.name2&&(n.isBalancing=!0,n.balancingSlotId=e.getPackedSlotIdBySlotName(n.constructs.name2),null==n.balancingSlotId))throw new System.ArgumentException("Reference to undefined group name '"+n.constructs.name2+"'.")},_preTransformBackrefTokens:function(t,e,n){for(var r,i,o,s=System.Text.RegularExpressions.RegexEngineParser,a=s.tokenTypes,u=0;u<e.length;u++){if((o=e[u]).type===a.escBackrefNumber){if(1<=(i=o.data.number)&&null!=n.getPackedSlotIdBySlotNumber(i))continue;if(i<=9)throw new System.ArgumentException("Reference to undefined group number "+i.toString()+".");if(null==(r=s._parseOctalCharToken(o.value,0,o.length)))throw new System.ArgumentException("Unrecognized escape sequence "+o.value.slice(0,2)+".");i=o.length-r.length,s._modifyPatternToken(o,t,a.escCharOctal,null,r.length),o.data=r.data,0<i&&(i=s._createPatternToken(t,a.literal,o.index+o.length,i),e.splice(u+1,0,i))}o.children&&o.children.length&&s._preTransformBackrefTokens(t,o.children,n)}},_updateGroupDescriptors:function(t,e){for(var n,r,i,o=System.Text.RegularExpressions.RegexEngineParser,s=o.tokenTypes,a=e||0,u=0;u<t.length;u++)(n=t[u]).index=a,n.children&&(i=n.childrenPostfix.length,o._updateGroupDescriptors(n.children,a+i),r=o._constructPattern(n.children),n.value=n.childrenPrefix+r+n.childrenPostfix,n.length=n.value.length),n.type===s.group&&n.group&&((i=n.group).exprIndex=n.index,i.exprLength=n.length,u+1<t.length&&((r=t[u+1]).type!==s.quantifier&&r.type!==s.quantifierN&&r.type!==s.quantifierNM||(i.quantifier=r.value)),i.expr=n.value,i.exprFull=i.expr+(null!=i.quantifier?i.quantifier:"")),a+=n.length},_constructPattern:function(t){for(var e="",n=0;n<t.length;n++)e+=t[n].value;return e},_parsePatternImpl:function(t,e,n,r){if(null==t)throw new System.ArgumentNullException("pattern");if(n<0||n>t.length)throw new System.ArgumentOutOfRangeException("startIndex");if(r<n||r>t.length)throw new System.ArgumentOutOfRangeException("endIndex");for(var i,o=System.Text.RegularExpressions.RegexEngineParser,s=o.tokenTypes,a=[],u=n;u<r;)i=t[u],e.ignoreWhitespace&&0<=o._whiteSpaceChars.indexOf(i)?++u:null!=(i=null==(i="."===i?o._parseDotToken(t,u,r):"\\"===i?o._parseEscapeToken(t,u,r):"["===i?o._parseCharRangeToken(t,u,r):"^"===i||"$"===i?o._parseAnchorToken(t,u):"("===i?o._parseGroupToken(t,e,u,r):"|"===i?o._parseAlternationToken(t,u):"#"===i&&e.ignoreWhitespace?o._parseXModeCommentToken(t,u,r):o._parseQuantifierToken(t,u,r))?o._createPatternToken(t,s.literal,u,1):i)&&(a.push(i),u+=i.length);return a},_parseEscapeToken:function(t,e,n){var r,i,o,s,a=System.Text.RegularExpressions.RegexEngineParser,u=a.tokenTypes,l=t[e];if("\\"!==l)return null;if(n<=e+1)throw new System.ArgumentException("Illegal \\ at end of pattern.");if("1"<=(l=t[e+1])&&l<="9")return r=a._matchChars(t,e+1,n,a._decSymbols,3),(i=a._createPatternToken(t,u.escBackrefNumber,e,1+r.matchLength)).data={number:parseInt(r.match,10)},i;if(0<=a._escapedAnchors.indexOf(l))return a._createPatternToken(t,u.escAnchor,e,2);if(null!=(i=a._parseEscapedChar(t,e,n)))return i;if("k"===l){if(e+2<n&&(("'"===(i=t[e+2])||"<"===i)&&(1===(o=a._matchUntil(t,e+3,n,"<"===i?">":"'")).unmatchLength&&0<o.matchLength)))return(s=a._createPatternToken(t,u.escBackrefName,e,3+o.matchLength+1)).data={name:o.match},s;throw new System.ArgumentException("Malformed \\k<...> named back reference.")}if(0<=(s=l.charCodeAt(0))&&s<48||57<s&&s<65||90<s&&s<95||96===s||122<s&&s<128)return(e=a._createPatternToken(t,u.escChar,e,2)).data={n:s,ch:l},e;throw new System.ArgumentException("Unrecognized escape sequence \\"+l+".")},_parseOctalCharToken:function(t,e,n){var r=System.Text.RegularExpressions.RegexEngineParser,i=r.tokenTypes;if("\\"===(o=t[e])&&e+1<n&&("0"<=(o=t[e+1])&&o<="7")){var o=r._matchChars(t,e+1,n,r._octSymbols,3),n=parseInt(o.match,8),o=r._createPatternToken(t,i.escCharOctal,e,1+o.matchLength);return o.data={n:n,ch:String.fromCharCode(n)},o}return null},_parseEscapedChar:function(t,e,n){var r,i,o,s,a=System.Text.RegularExpressions.RegexEngineParser,u=a.tokenTypes,l=t[e];if("\\"!==l||n<=e+1)return null;if(l=t[e+1],0<=a._escapedChars.indexOf(l)){if("x"===l){if(2!==(r=a._matchChars(t,e+2,n,a._hexSymbols,2)).matchLength)throw new System.ArgumentException("Insufficient hexadecimal digits.");return i=parseInt(r.match,16),(r=a._createPatternToken(t,u.escCharHex,e,4)).data={n:i,ch:String.fromCharCode(i)},r}if("c"===l){if(n<=e+2)throw new System.ArgumentException("Missing control character.");if(i=(i=t[e+2]).toUpperCase(),0<=(i=this._controlChars.indexOf(i)))return(r=a._createPatternToken(t,u.escCharCtrl,e,3)).data={n:i,ch:String.fromCharCode(i)},r;throw new System.ArgumentException("Unrecognized control character.")}if("u"===l){if(4!==(s=a._matchChars(t,e+2,n,a._hexSymbols,4)).matchLength)throw new System.ArgumentException("Insufficient hexadecimal digits.");return s=parseInt(s.match,16),(r=a._createPatternToken(t,u.escCharUnicode,e,6)).data={n:s,ch:String.fromCharCode(s)},r}switch(r=a._createPatternToken(t,u.escChar,e,2),l){case"a":o=7;break;case"b":o=8;break;case"t":o=9;break;case"r":o=13;break;case"v":o=11;break;case"f":o=12;break;case"n":o=10;break;case"e":o=27;break;default:throw new System.ArgumentException("Unexpected escaped char: '"+l+"'.")}return r.data={n:o,ch:String.fromCharCode(o)},r}if("0"<=l&&l<="7")return a._parseOctalCharToken(t,e,n);if(0<=a._escapedCharClasses.indexOf(l)){if("p"!==l&&"P"!==l)return a._createPatternToken(t,u.escCharClass,e,2);if((s=a._matchUntil(t,e+2,n,"}")).matchLength<2||"{"!==s.match[0]||1!==s.unmatchLength)throw new System.ArgumentException("Incomplete p{X} character escape.");if(n=s.match.slice(1),0<=a._unicodeCategories.indexOf(n))return a._createPatternToken(t,u.escCharClassCategory,e,2+s.matchLength+1);if(0<=a._namedCharBlocks.indexOf(n))return a._createPatternToken(t,u.escCharClassBlock,e,2+s.matchLength+1);throw new System.ArgumentException("Unknown property '"+n+"'.")}return 0<=a._escapedSpecialSymbols.indexOf(l)?((r=a._createPatternToken(t,u.escCharOther,e,2)).data={n:l.charCodeAt(0),ch:l},r):null},_parseCharRangeToken:function(t,e,n){var r,i,o,s,a,u,l,c,g=System.Text.RegularExpressions.RegexEngineParser,h=g.tokenTypes,m=[],f=!1,d=!1;if("["!==(s=t[e]))return null;for(u=-1,(a=e+1)<n&&"^"===t[a]&&(f=!0,a++),c=a;a<n;){if(o=d,"-"===(s=t[a])&&a+1<n&&"["===t[a+1])(r=g._parseCharRangeToken(t,a+1,n)).childrenPrefix="-"+r.childrenPrefix,r.length++,l=(i=r).length,d=!0;else if("\\"===s){if(null==(i=g._parseEscapedChar(t,a,n)))throw new System.ArgumentException("Unrecognized escape sequence \\"+s+".");l=i.length}else{if("]"===s&&c<a){u=a;break}i=g._createPatternToken(t,h.literal,a,1),l=1}if(o)throw new System.ArgumentException("A subtraction must be the last element in a character class.");1<m.length&&(null!=(o=g._parseCharIntervalToken(t,m[m.length-2],m[m.length-1],i))&&(m.pop(),m.pop(),i=o)),null!=i&&(m.push(i),a+=l)}if(u<0||m.length<1)throw new System.ArgumentException("Unterminated [] set.");return f=f?g._createPatternToken(t,h.charNegativeGroup,e,1+u-e,m,"[^","]"):g._createPatternToken(t,h.charGroup,e,1+u-e,m,"[","]"),e=g._tidyCharRange(m),f.data={ranges:e},null!=r&&(f.data.substractToken=r),f},_parseCharIntervalToken:function(t,e,n,r){var i,o,s,a,u=System.Text.RegularExpressions.RegexEngineParser,l=u.tokenTypes;if(n.type!==l.literal||"-"!==n.value||e.type!==l.literal&&e.type!==l.escChar&&e.type!==l.escCharOctal&&e.type!==l.escCharHex&&e.type!==l.escCharCtrl&&e.type!==l.escCharUnicode&&e.type!==l.escCharOther||r.type!==l.literal&&r.type!==l.escChar&&r.type!==l.escCharOctal&&r.type!==l.escCharHex&&r.type!==l.escCharCtrl&&r.type!==l.escCharUnicode&&r.type!==l.escCharOther)return null;if(o=e.type===l.literal?(i=e.value.charCodeAt(0),e.value):(i=e.data.n,e.data.ch),a=r.type===l.literal?(s=r.value.charCodeAt(0),r.value):(s=r.data.n,r.data.ch),s<i)throw new System.NotSupportedException("[x-y] range in reverse order.");var c=e.index,g=e.length+n.length+r.length,r=u._createPatternToken(t,l.charInterval,c,g,[e,n,r],"","");return r.data={startN:i,startCh:o,endN:s,endCh:a},r},_tidyCharRange:function(t){for(var e,n,r,i,o,s,a,u,l=System.Text.RegularExpressions.RegexEngineParser,c=l.tokenTypes,g=[],h=[],m=0;m<t.length;m++){if((i=t[m]).type===c.literal)r=n=i.value.charCodeAt(0);else if(i.type===c.charInterval)n=i.data.startN,r=i.data.endN;else{if(i.type!==c.literal&&i.type!==c.escChar&&i.type!==c.escCharOctal&&i.type!==c.escCharHex&&i.type!==c.escCharCtrl&&i.type!==c.escCharUnicode&&i.type!==c.escCharOther){if(i.type===c.charGroup||i.type===c.charNegativeGroup)continue;h.push(i);continue}r=n=i.data.n}if(0!==g.length){for(e=0;e<g.length&&!(g[e].n>n);e++);g.splice(e,0,{n:n,m:r})}else g.push({n:n,m:r})}for(m=0;m<g.length;m++){for(o=g[m],a=0,e=m+1;e<g.length&&!((s=g[e]).n>1+o.m);e++)a++,s.m>o.m&&(o.m=s.m);0<a&&g.splice(m+1,a)}return 0<h.length&&(u="["+l._constructPattern(h)+"]",g.charClassToken=l._createPatternToken(u,c.charGroup,0,u.length,t,"[","]")),g},_parseDotToken:function(t,e){var n=System.Text.RegularExpressions.RegexEngineParser,r=n.tokenTypes;return"."!==t[e]?null:n._createPatternToken(t,r.escCharClassDot,e,1)},_parseAnchorToken:function(t,e){var n=System.Text.RegularExpressions.RegexEngineParser,r=n.tokenTypes,i=t[e];return"^"!==i&&"$"!==i?null:n._createPatternToken(t,r.anchor,e,1)},_updateSettingsFromConstructs:function(t,e){null!=e.isIgnoreWhitespace&&(t.ignoreWhitespace=e.isIgnoreWhitespace),null!=e.isExplicitCapture&&(t.explicitCapture=e.isExplicitCapture)},_parseGroupToken:function(t,e,n,r){var i,o,s,a,u,l,c=System.Text.RegularExpressions.RegexEngineParser,g=c.tokenTypes,h={ignoreWhitespace:e.ignoreWhitespace,explicitCapture:e.explicitCapture};if("("!==(i=t[n]))return null;var m=1,f=!1,d=n+1,y=-1,p=!1,S=!1,C=!1,x=!1,w=!1,v=null,b=c._parseGroupConstructToken(t,h,n+1,r);for(null!=b&&(v=this._fillGroupConstructs(b),d+=b.length,b.type===g.commentInline?p=!0:b.type===g.alternationGroupCondition?S=!0:b.type===g.groupConstructImnsx?(this._updateSettingsFromConstructs(h,v),x=!0):b.type===g.groupConstructImnsxMisc&&(this._updateSettingsFromConstructs(e,v),C=!0)),!h.explicitCapture||null!=v&&null!=v.name1||(w=!0),o=d;o<r;){if("\\"===(i=t[o]))o++;else if("["===i)f=!0;else if("]"===i&&f)f=!1;else if(!f)if("("!==i||p){if(")"===i&&0===--m){y=o;break}}else++m;++o}if(v=null,p){if(y<0)throw new System.ArgumentException("Unterminated (?#...) comment.");v=c._createPatternToken(t,g.commentInline,n,1+y-n)}else{if(y<0)throw new System.ArgumentException("Not enough )'s.");if(s=c._parsePatternImpl(t,h,d,y),null!=b&&s.splice(0,0,b),S){for(a=s.length,u=l=0;u<a;u++)if(s[u].type===g.alternation&&1<++l)throw new System.ArgumentException("Too many | in (?()|).");if(0===l)throw new System.NotSupportedException("Alternation group without | is not supported.");v=c._createPatternToken(t,g.alternationGroup,n,1+y-n,s,"(",")")}else S=g.group,C?S=g.groupImnsxMisc:x&&(S=g.groupImnsx),(n=c._createPatternToken(t,S,n,1+y-n,s,"(",")")).localSettings=h,v=n}return w&&(v.isNonCapturingExplicit=!0),v},_parseGroupConstructToken:function(t,e,n,r){var i,o,s=System.Text.RegularExpressions.RegexEngineParser,a=s.tokenTypes;if("?"!==(i=t[n])||r<=n+1)return null;if(":"===(i=t[n+1])||"="===i||"!"===i||">"===i)return s._createPatternToken(t,a.groupConstruct,n,2);if("#"===i)return s._createPatternToken(t,a.commentInline,n,2);if("("===i)return s._parseAlternationGroupConditionToken(t,e,n,r);if("<"===i&&n+2<r&&("="===(e=t[n+2])||"!"===e))return s._createPatternToken(t,a.groupConstruct,n,3);if("<"===i||"'"===i){if(1!==(o=s._matchUntil(t,n+2,r,"<"===i?">":i)).unmatchLength||0===o.matchLength)throw new System.ArgumentException("Unrecognized grouping construct.");if(i=o.match.slice(0,1),0<="`~@#$%^&*()+{}[]|\\/|'\";:,.?".indexOf(i))throw new System.ArgumentException("Invalid group name: Group names must begin with a word character.");return s._createPatternToken(t,a.groupConstructName,n,2+o.matchLength+1)}if(0<(o=s._matchChars(t,n+1,r,"imnsx-")).matchLength&&(":"===o.unmatchCh||")"===o.unmatchCh))return r=":"===o.unmatchCh?a.groupConstructImnsx:a.groupConstructImnsxMisc,a=":"===o.unmatchCh?1:0,s._createPatternToken(t,r,n,1+o.matchLength+a);throw new System.ArgumentException("Unrecognized grouping construct.")},_parseQuantifierToken:function(t,e,n){var r,i=System.Text.RegularExpressions.RegexEngineParser,o=i.tokenTypes,s=null,a=t[e];if("*"===a||"+"===a||"?"===a)(s=i._createPatternToken(t,o.quantifier,e,1)).data={val:a};else if("{"===a&&0!==(r=i._matchChars(t,e+1,n,i._decSymbols)).matchLength)if("}"===r.unmatchCh)(s=i._createPatternToken(t,o.quantifierN,e,1+r.matchLength+1)).data={n:parseInt(r.match,10)};else if(","===r.unmatchCh&&("}"===(a=i._matchChars(t,r.unmatchIndex+1,n,i._decSymbols)).unmatchCh&&((s=i._createPatternToken(t,o.quantifierNM,e,1+r.matchLength+1+a.matchLength+1)).data={n:parseInt(r.match,10),m:null},0!==a.matchLength&&(s.data.m=parseInt(a.match,10),s.data.n>s.data.m))))throw new System.ArgumentException("Illegal {x,y} with x > y.");return null!=s&&((e=e+s.length)<n&&("?"===t[e]&&(this._modifyPatternToken(s,t,s.type,s.index,s.length+1),s.data.isLazy=!0))),s},_parseAlternationToken:function(t,e){var n=System.Text.RegularExpressions.RegexEngineParser,r=n.tokenTypes;return"|"!==t[e]?null:n._createPatternToken(t,r.alternation,e,1)},_parseAlternationGroupConditionToken:function(t,e,n,r){var i,o,s,a=System.Text.RegularExpressions.RegexEngineParser,u=a.tokenTypes,l=null;if("?"!==t[n]||r<=n+1||"("!==t[n+1]||null==(s=a._parseGroupToken(t,e,n+1,r)))return null;if(s.type===u.commentInline)throw new System.ArgumentException("Alternation conditions cannot be comments.");if((r=s.children)&&r.length){if((i=r[0]).type===u.groupConstructName)throw new System.ArgumentException("Alternation conditions do not capture and cannot be named.");if(i.type!==u.groupConstruct&&i.type!==u.groupConstructImnsx||null!=(o=a._findFirstGroupWithoutConstructs(r))&&(o.isEmptyCapturing=!0),i.type===u.literal)if("0"<=(o=s.value.slice(1,s.value.length-1))[0]&&o[0]<="9"){if(a._matchChars(o,0,o.length,a._decSymbols).matchLength!==o.length)throw new System.ArgumentException("Malformed Alternation group number: "+o+".");l={number:parseInt(o,10)}}else l={name:o}}return r.length&&(r[0].type===u.groupConstruct||r[0].type===u.groupConstructImnsx)||(i=a._createPatternToken("?:",u.groupConstruct,0,2),r.splice(0,0,i)),s=a._createPatternToken(t,u.alternationGroupCondition,s.index-1,1+s.length,[s],"?",""),null!=l&&(s.data=l),s},_findFirstGroupWithoutConstructs:function(t){for(var e,n=System.Text.RegularExpressions.RegexEngineParser,r=n.tokenTypes,i=null,o=0;o<t.length;++o)if((e=t[o]).type===r.group&&e.children&&e.children.length){if(e.children[0].type!==r.groupConstruct&&e.children[0].type!==r.groupConstructImnsx){i=e;break}if(e.children&&e.children.length&&null!=(i=n._findFirstGroupWithoutConstructs(e.children)))break}return i},_parseXModeCommentToken:function(t,e,n){var r,i,o=System.Text.RegularExpressions.RegexEngineParser,s=o.tokenTypes;if("#"!==(r=t[e]))return null;for(i=e+1;i<n&&(r=t[i],++i,"\n"!==r););return o._createPatternToken(t,s.commentXMode,e,i-e)},_createLiteralToken:function(t){var e=System.Text.RegularExpressions.RegexEngineParser;return e._createPatternToken(t,e.tokenTypes.literal,0,t.length)},_createPositiveLookaheadToken:function(t,e){t="(?="+t+")";return System.Text.RegularExpressions.RegexEngineParser._parseGroupToken(t,e,0,t.length)},_createPatternToken:function(t,e,n,r,i,o,s){r={type:e,index:n,length:r,value:t.slice(n,n+r)};return null!=i&&0<i.length&&(r.children=i,r.childrenPrefix=o,r.childrenPostfix=s),r},_modifyPatternToken:function(t,e,n,r,i){null!=n&&(t.type=n),null==r&&null==i||(null!=r&&(t.index=r),null!=i&&(t.length=i),t.value=e.slice(t.index,t.index+t.length))},_updatePatternToken:function(t,e,n,r,i){t.type=e,t.index=n,t.length=r,t.value=i},_matchChars:function(t,e,n,r,i){var o,s={match:"",matchIndex:-1,matchLength:0,unmatchCh:"",unmatchIndex:-1,unmatchLength:0},a=e;for(null!=i&&0<=i&&(n=e+i);a<n;){if(o=t[a],r.indexOf(o)<0){s.unmatchCh=o,s.unmatchIndex=a,s.unmatchLength=1;break}a++}return e<a&&(s.match=t.slice(e,a),s.matchIndex=e,s.matchLength=a-e),s},_matchUntil:function(t,e,n,r,i){var o,s={match:"",matchIndex:-1,matchLength:0,unmatchCh:"",unmatchIndex:-1,unmatchLength:0},a=e;for(null!=i&&0<=i&&(n=e+i);a<n;){if(o=t[a],0<=r.indexOf(o)){s.unmatchCh=o,s.unmatchIndex=a,s.unmatchLength=1;break}a++}return e<a&&(s.match=t.slice(e,a),s.matchIndex=e,s.matchLength=a-e),s}}}),Bridge.define("System.Random",{statics:{MBIG:2147483647,MSEED:161803398,MZ:0},inext:0,inextp:0,seedArray:null,config:{init:function(){this.seedArray=System.Array.init(56,0)}},ctor:function(){System.Random.$ctor1.call(this,System.Int64.clip32(System.Int64((new Date).getTime()).mul(1e4)))},$ctor1:function(t){var e,n,r,i,o,s;for(this.$initialize(),t=-2147483648===t?2147483647:Math.abs(t),n=System.Random.MSEED-t|0,this.seedArray[55]=n,i=r=1;i<55;i=i+1|0)(r=n-(this.seedArray[e=(21*i|0)%55]=r)|0)<0&&(r=r+System.Random.MBIG|0),n=this.seedArray[e];for(o=1;o<5;o=o+1|0)for(s=1;s<56;s=s+1|0)this.seedArray[s]=this.seedArray[s]-this.seedArray[1+(s+30|0)%55|0]|0,this.seedArray[s]<0&&(this.seedArray[s]=this.seedArray[s]+System.Random.MBIG|0);this.inext=0,this.inextp=21},sample:function(){return 4.656612875245797e-10*this.internalSample()},internalSample:function(){var t,e=this.inext,n=this.inextp;return 56<=(e=e+1|0)&&(e=1),56<=(n=n+1|0)&&(n=1),(t=(t=this.seedArray[e]-this.seedArray[n]|0)===System.Random.MBIG?t-1|0:t)<0&&(t=t+System.Random.MBIG|0),this.seedArray[e]=t,this.inext=e,this.inextp=n,t},next:function(){return this.internalSample()},next$2:function(t,e){if(e<t)throw new System.ArgumentOutOfRangeException("minValue","'minValue' cannot be greater than maxValue.");e=System.Int64(e).sub(System.Int64(t));return e.lte(System.Int64(2147483647))?Bridge.Int.clip32(this.sample()*System.Int64.toNumber(e))+t|0:System.Int64.clip32(Bridge.Int.clip64(this.getSampleForLargeRange()*System.Int64.toNumber(e)).add(System.Int64(t)))},next$1:function(t){if(t<0)throw new System.ArgumentOutOfRangeException("maxValue","'maxValue' must be greater than zero.");return Bridge.Int.clip32(this.sample()*t)},getSampleForLargeRange:function(){var t=this.internalSample(),t=t=this.internalSample()%2==0?0|-t:t;return(t+=2147483646)/4294967293},nextDouble:function(){return this.sample()},nextBytes:function(t){if(null==t)throw new System.ArgumentNullException("buffer");for(var e=0;e<t.length;e=e+1|0)t[e]=this.internalSample()%256&255}}),Bridge.define("System.Threading.Timer",{inherits:[System.IDisposable],statics:{MAX_SUPPORTED_TIMEOUT:4294967294,EXC_LESS:"Number must be either non-negative and less than or equal to Int32.MaxValue or -1.",EXC_MORE:"Time-out interval must be less than 2^32-2.",EXC_DISPOSED:"The timer has been already disposed."},dueTime:System.Int64(0),period:System.Int64(0),timerCallback:null,state:null,id:null,disposed:!1,config:{alias:["dispose","System$IDisposable$dispose"]},$ctor1:function(t,e,n,r){this.$initialize(),this.timerSetup(t,e,System.Int64(n),System.Int64(r))},$ctor3:function(t,e,n,r){this.$initialize();n=Bridge.Int.clip64(n.getTotalMilliseconds()),r=Bridge.Int.clip64(r.getTotalMilliseconds());this.timerSetup(t,e,n,r)},$ctor4:function(t,e,n,r){this.$initialize(),this.timerSetup(t,e,System.Int64(n),System.Int64(r))},$ctor2:function(t,e,n,r){this.$initialize(),this.timerSetup(t,e,n,r)},ctor:function(t){this.$initialize(),this.timerSetup(t,this,System.Int64(-1),System.Int64(-1))},timerSetup:function(t,e,n,r){if(this.disposed)throw new System.InvalidOperationException(System.Threading.Timer.EXC_DISPOSED);if(Bridge.staticEquals(t,null))throw new System.ArgumentNullException("TimerCallback");if(n.lt(System.Int64(-1)))throw new System.ArgumentOutOfRangeException("dueTime",System.Threading.Timer.EXC_LESS);if(r.lt(System.Int64(-1)))throw new System.ArgumentOutOfRangeException("period",System.Threading.Timer.EXC_LESS);if(n.gt(System.Int64(System.Threading.Timer.MAX_SUPPORTED_TIMEOUT)))throw new System.ArgumentOutOfRangeException("dueTime",System.Threading.Timer.EXC_MORE);if(r.gt(System.Int64(System.Threading.Timer.MAX_SUPPORTED_TIMEOUT)))throw new System.ArgumentOutOfRangeException("period",System.Threading.Timer.EXC_MORE);return this.dueTime=n,this.period=r,this.state=e,this.timerCallback=t,this.runTimer(this.dueTime)},handleCallback:function(){var t;this.disposed||Bridge.staticEquals(this.timerCallback,null)||(t=this.id,this.timerCallback(this.state),System.Nullable.eq(this.id,t)&&this.runTimer(this.period,!1))},runTimer:function(t,e){if((e=void 0===e?!0:e)&&this.disposed)throw new System.InvalidOperationException(System.Threading.Timer.EXC_DISPOSED);if(!t.ne(System.Int64(-1))||this.disposed)return!1;t=t.toNumber();return this.id=Bridge.global.setTimeout(Bridge.fn.bind(this,this.handleCallback),t),!0},change:function(t,e){return this.changeTimer(System.Int64(t),System.Int64(e))},change$2:function(t,e){return this.changeTimer(Bridge.Int.clip64(t.getTotalMilliseconds()),Bridge.Int.clip64(e.getTotalMilliseconds()))},change$3:function(t,e){return this.changeTimer(System.Int64(t),System.Int64(e))},change$1:function(t,e){return this.changeTimer(t,e)},changeTimer:function(t,e){return this.clearTimeout(),this.timerSetup(this.timerCallback,this.state,t,e)},clearTimeout:function(){System.Nullable.hasValue(this.id)&&(Bridge.global.clearTimeout(System.Nullable.getValue(this.id)),this.id=null)},dispose:function(){this.clearTimeout(),this.disposed=!0}}),Bridge.define("Bridge.Console",{statics:{BODY_WRAPPER_ID:"bridge-body-wrapper",CONSOLE_MESSAGES_ID:"bridge-console-messages",position:"horizontal",instance:null,getInstance:function(){return null==Bridge.Console.instance&&(Bridge.Console.instance=new Bridge.Console),Bridge.Console.instance},logBase:function(t,e){var n,r;void 0===e&&(e=0),n=Bridge.Console.getInstance(),r=null!=t?t.toString():"null",null==n.bufferedOutput?(Bridge.Console.show(),t=n.buildConsoleMessage(r,e),n.consoleMessages.appendChild(t),n.currentMessageElement=t,n.consoleDefined?1===e&&n.consoleDebugDefined?Bridge.global.console.debug(r):Bridge.global.console.log(r):n.operaPostErrorDefined&&Bridge.global.opera.postError(r)):n.bufferedOutput=System.String.concat(n.bufferedOutput,r)},error:function(t){Bridge.Console.logBase(t,2)},debug:function(t){Bridge.Console.logBase(t,1)},log:function(t){Bridge.Console.logBase(t)},hide:function(){var t;null!=Bridge.Console.instance&&((t=Bridge.Console.getInstance()).hidden||t.close())},show:function(){var t=Bridge.Console.getInstance();t.hidden&&t.init(!0)},toggle:function(){Bridge.Console.getInstance().hidden?Bridge.Console.show():Bridge.Console.hide()}},svgNS:"http://www.w3.org/2000/svg",consoleHeight:"300px",consoleHeaderHeight:"35px",tooltip:null,consoleWrapper:null,consoleMessages:null,bridgeIcon:null,bridgeIconPath:null,bridgeConsoleLabel:null,closeBtn:null,closeIcon:null,closeIconPath:null,consoleHeader:null,consoleBody:null,hidden:!0,consoleDefined:!1,consoleDebugDefined:!1,operaPostErrorDefined:!1,currentMessageElement:null,bufferedOutput:null,ctor:function(){this.$initialize(),this.init()},init:function(t){var e;void 0===t&&(t=!1),this.hidden=!1;var n=Bridge.fn.bind(this,s.$.Bridge.Console.f1)(new(System.Collections.Generic.Dictionary$2(String,String))),r=s.$.Bridge.Console.f2(new(System.Collections.Generic.Dictionary$2(String,String))),i=s.$.Bridge.Console.f3(new(System.Collections.Generic.Dictionary$2(String,String)));this.bridgeIcon=this.bridgeIcon||document.createElementNS(this.svgNS,"svg"),e=Bridge.fn.bind(this,s.$.Bridge.Console.f4)(new(System.Collections.Generic.Dictionary$2(String,String))),this.setAttributes(this.bridgeIcon,e),this.bridgeIconPath=this.bridgeIconPath||document.createElementNS(this.svgNS,"path"),(e=new(System.Collections.Generic.Dictionary$2(String,String))).set("d","M19 14.4h2.2V9.6L19 7.1v7.3zm4.3-2.5v2.5h2.2l-2.2-2.5zm-8.5 2.5H17V4.8l-2.2-2.5v12.1zM0 14.4h3l7.5-8.5v8.5h2.2V0L0 14.4z"),e.set("fill","#555"),this.setAttributes(this.bridgeIconPath,e),this.bridgeConsoleLabel=this.bridgeConsoleLabel||document.createElement("span"),this.bridgeConsoleLabel.innerHTML="Bridge Console",this.closeBtn=this.closeBtn||document.createElement("span"),this.closeBtn.setAttribute("style","position: relative;display: inline-block;float: right;cursor: pointer"),this.closeIcon=this.closeIcon||document.createElementNS(this.svgNS,"svg"),e=Bridge.fn.bind(this,s.$.Bridge.Console.f5)(new(System.Collections.Generic.Dictionary$2(String,String))),this.setAttributes(this.closeIcon,e),this.closeIconPath=this.closeIconPath||document.createElementNS(this.svgNS,"path"),e=s.$.Bridge.Console.f6(new(System.Collections.Generic.Dictionary$2(String,String))),this.setAttributes(this.closeIconPath,e),this.tooltip=this.tooltip||document.createElement("div"),this.tooltip.innerHTML="Refresh page to open Bridge Console",this.tooltip.setAttribute("style","position: absolute;right: 30px;top: -6px;white-space: nowrap;padding: 7px;border-radius: 3px;background-color: rgba(0, 0, 0, 0.75);color: #eee;text-align: center;visibility: hidden;opacity: 0;-webkit-transition: all 0.25s ease-in-out;transition: all 0.25s ease-in-out;z-index: 1;"),Bridge.Console.position="horizontal",Bridge.referenceEquals(Bridge.Console.position,"horizontal")?(this.wrapBodyContent(),n.set("right","0"),r.set("border-top","1px solid #a3a3a3"),i.set("height",this.consoleHeight)):Bridge.referenceEquals(Bridge.Console.position,"vertical")&&(document.body.style.marginLeft="400px",n.set("top","0"),n.set("width","400px"),n.set("border-right","1px solid #a3a3a3"),i.set("height","100%")),this.consoleWrapper=this.consoleWrapper||document.createElement("div"),this.consoleWrapper.setAttribute("style",this.obj2Css(n)),this.consoleHeader=this.consoleHeader||document.createElement("div"),this.consoleHeader.setAttribute("style",this.obj2Css(r)),this.consoleBody=this.consoleBody||document.createElement("div"),this.consoleBody.setAttribute("style",this.obj2Css(i)),this.consoleMessages=this.consoleMessages||document.createElement("ul"),(i=this.consoleMessages).id=Bridge.Console.CONSOLE_MESSAGES_ID,i.setAttribute("style","margin: 0;padding: 0;list-style: none;"),t||(this.bridgeIcon.appendChild(this.bridgeIconPath),this.closeIcon.appendChild(this.closeIconPath),this.closeBtn.appendChild(this.closeIcon),this.closeBtn.appendChild(this.tooltip),this.consoleHeader.appendChild(this.bridgeIcon),this.consoleHeader.appendChild(this.bridgeConsoleLabel),this.consoleHeader.appendChild(this.closeBtn),this.consoleBody.appendChild(i),this.consoleWrapper.appendChild(this.consoleHeader),this.consoleWrapper.appendChild(this.consoleBody),document.body.appendChild(this.consoleWrapper),this.closeBtn.addEventListener("click",Bridge.fn.bind(this,this.close)),this.closeBtn.addEventListener("mouseover",Bridge.fn.bind(this,this.showTooltip)),this.closeBtn.addEventListener("mouseout",Bridge.fn.bind(this,this.hideTooltip)),this.consoleDefined=Bridge.isDefined(Bridge.global)&&Bridge.isDefined(Bridge.global.console),this.consoleDebugDefined=this.consoleDefined&&Bridge.isDefined(Bridge.global.console.debug),this.operaPostErrorDefined=Bridge.isDefined(Bridge.global.opera)&&Bridge.isDefined(Bridge.global.opera.postError))},showTooltip:function(){var t=Bridge.Console.getInstance();t.tooltip.style.right="20px",t.tooltip.style.visibility="visible",t.tooltip.style.opacity="1"},hideTooltip:function(){var t=Bridge.Console.getInstance();t.tooltip.style.right="30px",t.tooltip.style.opacity="0"},close:function(){this.hidden=!0,this.consoleWrapper.style.display="none",Bridge.referenceEquals(Bridge.Console.position,"horizontal")?this.unwrapBodyContent():Bridge.referenceEquals(Bridge.Console.position,"vertical")&&document.body.removeAttribute("style")},wrapBodyContent:function(){if(null!=document.body){var t=document.defaultView.getComputedStyle(document.body,null),e=t.paddingTop,n=t.paddingRight,r=t.paddingBottom,i=t.paddingLeft,o=t.marginTop,s=t.marginRight,a=t.marginBottom,t=t.marginLeft,u=document.createElement("div");for(u.id=Bridge.Console.BODY_WRAPPER_ID,u.setAttribute("style",System.String.concat("height: calc(100vh - ",this.consoleHeight," - ",this.consoleHeaderHeight,");","margin-top: calc(-1 * ","(",System.String.concat(o," + ",e),"));","margin-right: calc(-1 * ","(",System.String.concat(s," + ",n),"));","margin-left: calc(-1 * ","(",System.String.concat(t," + ",i),"));","padding-top: calc(",System.String.concat(o," + ",e),");","padding-right: calc(",System.String.concat(s," + ",n),");","padding-bottom: calc(",System.String.concat(a," + ",r),");","padding-left: calc(",System.String.concat(t," + ",i),");","overflow-x: auto;","box-sizing: border-box !important;"));null!=document.body.firstChild;)u.appendChild(document.body.firstChild);document.body.appendChild(u)}},unwrapBodyContent:function(){var t=document.getElementById(Bridge.Console.BODY_WRAPPER_ID);if(null!=t){for(;null!=t.firstChild;)document.body.insertBefore(t.firstChild,t);document.body.removeChild(t)}},buildConsoleMessage:function(t,e){var n,r,i,o=document.createElement("li");return o.setAttribute("style","padding: 5px 10px;border-bottom: 1px solid #f0f0f0;"),n=document.createElementNS(this.svgNS,"svg"),i=Bridge.fn.bind(this,s.$.Bridge.Console.f7)(new(System.Collections.Generic.Dictionary$2(String,String))),this.setAttributes(n,i),r="#555",2===e?r="#d65050":1===e&&(r="#1800FF"),i=document.createElementNS(this.svgNS,"path"),(e=new(System.Collections.Generic.Dictionary$2(String,String))).set("d","M3.8 3.5L.7 6.6s-.1.1-.2.1-.1 0-.2-.1l-.2-.3C0 6.2 0 6.2 0 6.1c0 0 0-.1.1-.1l2.6-2.6L.1.7C0 .7 0 .6 0 .6 0 .5 0 .5.1.4L.4.1c0-.1.1-.1.2-.1s.1 0 .2.1l3.1 3.1s.1.1.1.2-.1.1-.2.1z"),e.set("fill",r),this.setAttributes(i,e),n.appendChild(i),(i=document.createElement("span")).innerHTML=t,i.setAttribute("style",System.String.concat("color: ",r,"; white-space: pre;")),o.appendChild(n),o.appendChild(i),o},setAttributes:function(t,e){for(var n,r=Bridge.getEnumerator(e);r.moveNext();)n=r.getCurrent(),t.setAttribute(n.key,n.value)},obj2Css:function(t){for(var e,n="",r=Bridge.getEnumerator(t);r.moveNext();)e=r.getCurrent(),n=System.String.concat(n,System.String.concat(e.key.toLowerCase(),":",e.value,";"));return n}}),Bridge.ns("Bridge.Console",s.$),Bridge.apply(s.$.Bridge.Console,{f1:function(t){return t.add("position","fixed"),t.add("left","0"),t.add("bottom","0"),t.add("padding-top",this.consoleHeaderHeight),t.add("background-color","#fff"),t.add("font","normal normal normal 13px/1 sans-serif"),t.add("color","#555"),t},f2:function(t){return t.add("position","absolute"),t.add("top","0"),t.add("left","0"),t.add("right","0"),t.add("height","35px"),t.add("padding","9px 15px 7px 10px"),t.add("border-bottom","1px solid #ccc"),t.add("background-color","#f3f3f3"),t.add("box-sizing","border-box"),t},f3:function(t){return t.add("overflow-x","auto"),t.add("font-family","Menlo, Monaco, Consolas, 'Courier New', monospace"),t},f4:function(t){return t.add("xmlns",this.svgNS),t.add("width","25.5"),t.add("height","14.4"),t.add("viewBox","0 0 25.5 14.4"),t.add("style","margin: 0 3px 3px 0;vertical-align:middle;"),t},f5:function(t){return t.add("xmlns",this.svgNS),t.add("width","11.4"),t.add("height","11.4"),t.add("viewBox","0 0 11.4 11.4"),t.add("style","vertical-align: middle;"),t},f6:function(t){return t.add("d","M11.4 1.4L10 0 5.7 4.3 1.4 0 0 1.4l4.3 4.3L0 10l1.4 1.4 4.3-4.3 4.3 4.3 1.4-1.4-4.3-4.3"),t.add("fill","#555"),t},f7:function(t){return t.add("xmlns",this.svgNS),t.add("width","3.9"),t.add("height","6.7"),t.add("viewBox","0 0 3.9 6.7"),t.add("style","margin-right: 7px; vertical-align: middle;"),t}}),"function"==typeof define&&define.amd?define("bridge",[],function(){return Bridge}):"undefined"!=typeof module&&module.exports&&(module.exports=Bridge)}(this),Bridge.assembly("Bridge.Collections",function(){"use strict";Bridge.define("System.Collections.BitArray",{inherits:[System.Collections.ICollection,System.ICloneable],statics:{BitsPerInt32:32,BytesPerInt32:4,BitsPerByte:8,_ShrinkThreshold:256,getArrayLength:function(t,e){return 0<t?1+(0|Bridge.Int.div(t-1|0,e))|0:0}},m_array:null,m_length:0,_version:0,config:{alias:["getCount","System$Collections$ICollection$getCount","clone","System$ICloneable$clone","getIsReadOnly","System$Collections$ICollection$getIsReadOnly","getEnumerator","System$Collections$IEnumerable$getEnumerator"]},$ctor3:function(t){System.Collections.BitArray.$ctor4.call(this,t,!1)},$ctor4:function(t,e){var n,r;if(this.$initialize(),t<0)throw new System.ArgumentOutOfRangeException("length","Index is less than zero.");for(this.m_array=System.Array.init(System.Collections.BitArray.getArrayLength(t,System.Collections.BitArray.BitsPerInt32),0),this.m_length=t,n=e?-1:0,r=0;r<this.m_array.length;r=r+1|0)this.m_array[r]=n;this._version=0},$ctor1:function(t){var e,n,r;if(this.$initialize(),null==t)throw new System.ArgumentNullException("bytes");if(268435455<t.length)throw new System.ArgumentException(System.String.format("The input array length must not exceed Int32.MaxValue / {0}. Otherwise BitArray.Length would exceed Int32.MaxValue.",System.Collections.BitArray.BitsPerByte),"bytes");for(this.m_array=System.Array.init(System.Collections.BitArray.getArrayLength(t.length,System.Collections.BitArray.BytesPerInt32),0),this.m_length=t.length*System.Collections.BitArray.BitsPerByte|0,n=e=0;4<=(t.length-n|0);)this.m_array[Bridge.identity(e,e=e+1|0)]=255&t[n]|(255&t[n+1|0])<<8|(255&t[n+2|0])<<16|(255&t[n+3|0])<<24,n=n+4|0;3===(r=t.length-n|0)&&(this.m_array[e]=(255&t[n+2|0])<<16,r=2),2===r&&(this.m_array[e]=this.m_array[e]|(255&t[n+1|0])<<8,r=1),1===r&&(this.m_array[e]=this.m_array[e]|255&t[n]),this._version=0},ctor:function(t){if(this.$initialize(),null==t)throw new System.ArgumentNullException("values");this.m_array=System.Array.init(System.Collections.BitArray.getArrayLength(t.length,System.Collections.BitArray.BitsPerInt32),0),this.m_length=t.length;for(var e=0;e<t.length;e=e+1|0)t[e]&&(this.m_array[0|Bridge.Int.div(e,32)]=this.m_array[0|Bridge.Int.div(e,32)]|1<<e%32);this._version=0},$ctor5:function(t){if(this.$initialize(),null==t)throw new System.ArgumentNullException("values");if(67108863<t.length)throw new System.ArgumentException(System.String.format("The input array length must not exceed Int32.MaxValue / {0}. Otherwise BitArray.Length would exceed Int32.MaxValue.",System.Collections.BitArray.BitsPerInt32),"values");this.m_array=System.Array.init(t.length,0),this.m_length=t.length*System.Collections.BitArray.BitsPerInt32|0,System.Array.copy(t,0,this.m_array,0,t.length),this._version=0},$ctor2:function(t){if(this.$initialize(),null==t)throw new System.ArgumentNullException("bits");var e=System.Collections.BitArray.getArrayLength(t.m_length,System.Collections.BitArray.BitsPerInt32);this.m_array=System.Array.init(e,0),this.m_length=t.m_length,System.Array.copy(t.m_array,0,this.m_array,0,e),this._version=t._version},getItem:function(t){return this.get(t)},setItem:function(t,e){this.set(t,e)},getLength:function(){return this.m_length},setLength:function(t){var e,n,r;if(t<0)throw new System.ArgumentOutOfRangeException("value","Non-negative number required.");((e=System.Collections.BitArray.getArrayLength(t,System.Collections.BitArray.BitsPerInt32))>this.m_array.length||(e+System.Collections.BitArray._ShrinkThreshold|0)<this.m_array.length)&&(r=System.Array.init(e,0),System.Array.copy(this.m_array,0,r,0,e>this.m_array.length?this.m_array.length:e),this.m_array=r),t>this.m_length&&(n=System.Collections.BitArray.getArrayLength(this.m_length,System.Collections.BitArray.BitsPerInt32)-1|0,0<(r=this.m_length%32)&&(this.m_array[n]=this.m_array[n]&((1<<r)-1|0)),System.Array.fill(this.m_array,0,1+n|0,(e-n|0)-1|0)),this.m_length=t,this._version=this._version+1|0},getCount:function(){return this.m_length},getIsReadOnly:function(){return!1},getIsSynchronized:function(){return!1},get:function(t){if(t<0||t>=this.getLength())throw new System.ArgumentOutOfRangeException("index","Index was out of range. Must be non-negative and less than the size of the collection.");return 0!=(this.m_array[0|Bridge.Int.div(t,32)]&1<<t%32)},set:function(t,e){if(t<0||t>=this.getLength())throw new System.ArgumentOutOfRangeException("index","Index was out of range. Must be non-negative and less than the size of the collection.");this.m_array[0|Bridge.Int.div(t,32)]=e?this.m_array[0|Bridge.Int.div(t,32)]|1<<t%32:this.m_array[0|Bridge.Int.div(t,32)]&~(1<<t%32),this._version=this._version+1|0},setAll:function(t){for(var e=t?-1:0,n=System.Collections.BitArray.getArrayLength(this.m_length,System.Collections.BitArray.BitsPerInt32),r=0;r<n;r=r+1|0)this.m_array[r]=e;this._version=this._version+1|0},and:function(t){var e,n;if(null==t)throw new System.ArgumentNullException("value");if(this.getLength()!==t.getLength())throw new System.ArgumentException("Array lengths must be the same.");for(e=System.Collections.BitArray.getArrayLength(this.m_length,System.Collections.BitArray.BitsPerInt32),n=0;n<e;n=n+1|0)this.m_array[n]=this.m_array[n]&t.m_array[n];return this._version=this._version+1|0,this},or:function(t){var e,n;if(null==t)throw new System.ArgumentNullException("value");if(this.getLength()!==t.getLength())throw new System.ArgumentException("Array lengths must be the same.");for(e=System.Collections.BitArray.getArrayLength(this.m_length,System.Collections.BitArray.BitsPerInt32),n=0;n<e;n=n+1|0)this.m_array[n]=this.m_array[n]|t.m_array[n];return this._version=this._version+1|0,this},xor:function(t){var e,n;if(null==t)throw new System.ArgumentNullException("value");if(this.getLength()!==t.getLength())throw new System.ArgumentException("Array lengths must be the same.");for(e=System.Collections.BitArray.getArrayLength(this.m_length,System.Collections.BitArray.BitsPerInt32),n=0;n<e;n=n+1|0)this.m_array[n]=this.m_array[n]^t.m_array[n];return this._version=this._version+1|0,this},not:function(){for(var t=System.Collections.BitArray.getArrayLength(this.m_length,System.Collections.BitArray.BitsPerInt32),e=0;e<t;e=e+1|0)this.m_array[e]=~this.m_array[e];return this._version=this._version+1|0,this},clone:function(){var t=new System.Collections.BitArray.$ctor5(this.m_array);return t._version=this._version,t.m_length=this.m_length,t},getEnumerator:function(){return new System.Collections.BitArray.BitArrayEnumeratorSimple(this)}}),Bridge.define("System.Collections.BitArray.BitArrayEnumeratorSimple",{inherits:[System.Collections.IEnumerator],bitarray:null,index:0,version:0,currentElement:!1,config:{alias:["moveNext","System$Collections$IEnumerator$moveNext","getCurrent","System$Collections$IEnumerator$getCurrent","reset","System$Collections$IEnumerator$reset"]},ctor:function(t){this.$initialize(),this.bitarray=t,this.index=-1,this.version=t._version},getCurrent:function(){if(-1===this.index)throw new System.InvalidOperationException("Enumeration has not started. Call MoveNext.");if(this.index>=this.bitarray.getCount())throw new System.InvalidOperationException("Enumeration already finished.");return this.currentElement},moveNext:function(){if(this.version!==this.bitarray._version)throw new System.InvalidOperationException("Collection was modified; enumeration operation may not execute.");return this.index<(this.bitarray.getCount()-1|0)?(this.index=this.index+1|0,this.currentElement=this.bitarray.get(this.index),!0):(this.index=this.bitarray.getCount(),!1)},reset:function(){if(this.version!==this.bitarray._version)throw new System.InvalidOperationException("Collection was modified; enumeration operation may not execute.");this.index=-1}}),Bridge.define("System.Collections.Generic.BitHelper",{statics:{MarkedBitFlag:1,IntSize:32,toIntArrayLength:function(t){return 0<t?1+(0|Bridge.Int.div(t-1|0,System.Collections.Generic.BitHelper.IntSize))|0:0}},_length:0,_array:null,ctor:function(t,e){this.$initialize(),this._array=t,this._length=e},markBit:function(t){var e=0|Bridge.Int.div(t,System.Collections.Generic.BitHelper.IntSize);e<this._length&&0<=e&&(t=System.Collections.Generic.BitHelper.MarkedBitFlag<<t%System.Collections.Generic.BitHelper.IntSize,this._array[e]=this._array[e]|t)},isMarked:function(t){var e=0|Bridge.Int.div(t,System.Collections.Generic.BitHelper.IntSize);return e<this._length&&0<=e&&(t=System.Collections.Generic.BitHelper.MarkedBitFlag<<t%System.Collections.Generic.BitHelper.IntSize,0!=(this._array[e]&t))}}),Bridge.define("Bridge.Collections.EnumerableHelpers",{statics:{toArray:function(t,e){var n={},e={v:Bridge.Collections.EnumerableHelpers.toArray$1(t,e,n)};return System.Array.resize(e,n.v,Bridge.getDefaultValue(t)),e.v},toArray$1:function(t,e,n){var r,i,o,s,a=Bridge.getEnumerator(e,null,t);try{if(a.System$Collections$IEnumerator$moveNext()){for((r={v:System.Array.init(4,function(){return Bridge.getDefaultValue(t)})}).v[0]=a[Bridge.geti(a,"System$Collections$Generic$IEnumerator$1$"+Bridge.getTypeAlias(t)+"$getCurrent$1","getCurrent$1")](),i=1;a.System$Collections$IEnumerator$moveNext();)i===r.v.length&&((o=2146435071)<(s=i<<1)>>>0&&(s=o<=i?i+1|0:o),System.Array.resize(r,s,Bridge.getDefaultValue(t))),r.v[Bridge.identity(i,i=i+1|0)]=a[Bridge.geti(a,"System$Collections$Generic$IEnumerator$1$"+Bridge.getTypeAlias(t)+"$getCurrent$1","getCurrent$1")]();return n.v=i,r.v}}finally{Bridge.hasValue(a)&&a.dispose()}return n.v=0,System.Array.init(0,function(){return Bridge.getDefaultValue(t)})}}}),Bridge.define("System.Collections.Generic.HashSet$1",function(h){return{inherits:[System.Collections.Generic.ICollection$1(h),System.Collections.Generic.ISet$1(h)],statics:{Lower31BitMask:2147483647,ShrinkThreshold:3,hashSetEquals:function(t,e,n){var r,i,o,s,a,u,l;if(null==t)return null==e;if(null==e)return!1;if(System.Collections.Generic.HashSet$1(h).areEqualityComparersEqual(t,e)){if(t.getCount()!==e.getCount())return!1;for(r=Bridge.getEnumerator(e);r.moveNext();)if(s=r.getCurrent(),!t.contains(s))return!1;return!0}for(i=Bridge.getEnumerator(e);i.moveNext();){for(a=i.getCurrent(),u=!1,o=Bridge.getEnumerator(t);o.moveNext();)if(l=o.getCurrent(),n["System$Collections$Generic$IEqualityComparer$1$"+Bridge.getTypeAlias(h)+"$equals2"](a,l)){u=!0;break}if(!u)return!1}return!0},areEqualityComparersEqual:function(t,e){return Bridge.equals(t.getComparer(),e.getComparer())}},_buckets:null,_slots:null,_count:0,_lastIndex:0,_freeList:0,_comparer:null,_version:0,config:{alias:["System$Collections$Generic$ICollection$1$T$add","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(h)+"$add","clear","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(h)+"$clear","contains","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(h)+"$contains","copyTo","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(h)+"$copyTo","remove","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(h)+"$remove","getCount","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(h)+"$getCount","getIsReadOnly","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(h)+"$getIsReadOnly","System$Collections$Generic$IEnumerable$1$T$getEnumerator","System$Collections$Generic$IEnumerable$1$"+Bridge.getTypeAlias(h)+"$getEnumerator","add","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$add","unionWith","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$unionWith","intersectWith","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$intersectWith","exceptWith","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$exceptWith","symmetricExceptWith","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$symmetricExceptWith","isSubsetOf","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$isSubsetOf","isProperSubsetOf","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$isProperSubsetOf","isSupersetOf","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$isSupersetOf","isProperSupersetOf","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$isProperSupersetOf","overlaps","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$overlaps","setEquals","System$Collections$Generic$ISet$1$"+Bridge.getTypeAlias(h)+"$setEquals"]},ctor:function(){System.Collections.Generic.HashSet$1(h).$ctor3.call(this,System.Collections.Generic.EqualityComparer$1(h).def)},$ctor3:function(t){this.$initialize(),null==t&&(t=System.Collections.Generic.EqualityComparer$1(h).def),this._comparer=t,this._lastIndex=0,this._count=0,this._freeList=-1,this._version=0},$ctor1:function(t){System.Collections.Generic.HashSet$1(h).$ctor2.call(this,t,System.Collections.Generic.EqualityComparer$1(h).def)},$ctor2:function(t,e){if(System.Collections.Generic.HashSet$1(h).$ctor3.call(this,e),null==t)throw new System.ArgumentNullException("collection");var n=0,e=Bridge.as(t,System.Collections.Generic.ICollection$1(h));null!=e&&(n=System.Array.getCount(e,h)),this.initialize(n),this.unionWith(t),(0===this._count&&this._slots.length>System.Collections.HashHelpers.getMinPrime()||0<this._count&&(0|Bridge.Int.div(this._slots.length,this._count))>System.Collections.Generic.HashSet$1(h).ShrinkThreshold)&&this.trimExcess()},getCount:function(){return this._count},getIsReadOnly:function(){return!1},getComparer:function(){return this._comparer},System$Collections$Generic$ICollection$1$T$add:function(t){this.addIfNotPresent(t)},add:function(t){return this.addIfNotPresent(t)},clear:function(){var t,e;if(0<this._lastIndex){for(t=0;t<this._lastIndex;t=t+1|0)this._slots[t]=new(System.Collections.Generic.HashSet$1.Slot(h));for(e=0;e<this._buckets.length;e=e+1|0)this._buckets[e]=0;this._lastIndex=0,this._count=0,this._freeList=-1}this._version=this._version+1|0},arrayClear:function(){},contains:function(t){var e,n;if(null!=this._buckets)for(e=this.internalGetHashCode(t),n=this._buckets[e%this._buckets.length]-1|0;0<=n;n=this._slots[n].next)if(this._slots[n].hashCode===e&&this._comparer["System$Collections$Generic$IEqualityComparer$1$"+Bridge.getTypeAlias(h)+"$equals2"](this._slots[n].value,t))return!0;return!1},copyTo:function(t,e){this.copyTo$2(t,e,this._count)},copyTo$1:function(t){this.copyTo$2(t,0,this._count)},copyTo$2:function(t,e,n){var r,i;if(null==t)throw new System.ArgumentNullException("array");if(e<0)throw new System.ArgumentOutOfRangeException("arrayIndex");if(n<0)throw new System.ArgumentOutOfRangeException("count");if(e>t.length||n>(t.length-e|0))throw new System.ArgumentException("Destination array is not long enough to copy all the items in the collection. Check array index and length.");for(i=r=0;i<this._lastIndex&&r<n;i=i+1|0)0<=this._slots[i].hashCode&&(t[e+r|0]=this._slots[i].value,r=r+1|0)},remove:function(t){if(null!=this._buckets)for(var e=this.internalGetHashCode(t),n=e%this._buckets.length,r=-1,i=this._buckets[n]-1|0;0<=i;r=i,i=this._slots[i].next)if(this._slots[i].hashCode===e&&this._comparer["System$Collections$Generic$IEqualityComparer$1$"+Bridge.getTypeAlias(h)+"$equals2"](this._slots[i].value,t))return r<0?this._buckets[n]=this._slots[i].next+1|0:this._slots[r].next=this._slots[i].next,this._slots[i].hashCode=-1,this._slots[i].value=Bridge.getDefaultValue(h),this._slots[i].next=this._freeList,this._count=this._count-1|0,this._version=this._version+1|0,0===this._count?(this._lastIndex=0,this._freeList=-1):this._freeList=i,!0;return!1},getEnumerator:function(){return new(System.Collections.Generic.HashSet$1.Enumerator(h).$ctor1)(this)},System$Collections$Generic$IEnumerable$1$T$getEnumerator:function(){return new(System.Collections.Generic.HashSet$1.Enumerator(h).$ctor1)(this)},System$Collections$IEnumerable$getEnumerator:function(){return new(System.Collections.Generic.HashSet$1.Enumerator(h).$ctor1)(this)},unionWith:function(t){var e,n;if(null==t)throw new System.ArgumentNullException("other");for(e=Bridge.getEnumerator(t,null,h);e.moveNext();)n=e.getCurrent(),this.addIfNotPresent(n)},intersectWith:function(t){var e;if(null==t)throw new System.ArgumentNullException("other");if(0!==this._count){if(null!=(e=Bridge.as(t,System.Collections.Generic.ICollection$1(h)))){if(0===System.Array.getCount(e,h))return void this.clear();if(null!=(e=Bridge.as(t,System.Collections.Generic.HashSet$1(h)))&&System.Collections.Generic.HashSet$1(h).areEqualityComparersEqual(this,e))return void this.intersectWithHashSetWithSameEC(e)}this.intersectWithEnumerable(t)}},exceptWith:function(t){var e,n;if(null==t)throw new System.ArgumentNullException("other");if(0!==this._count)if(Bridge.referenceEquals(t,this))this.clear();else for(e=Bridge.getEnumerator(t,null,h);e.moveNext();)n=e.getCurrent(),this.remove(n)},symmetricExceptWith:function(t){if(null==t)throw new System.ArgumentNullException("other");var e;0!==this._count?Bridge.referenceEquals(t,this)?this.clear():null!=(e=Bridge.as(t,System.Collections.Generic.HashSet$1(h)))&&System.Collections.Generic.HashSet$1(h).areEqualityComparersEqual(this,e)?this.symmetricExceptWithUniqueHashSet(e):this.symmetricExceptWithEnumerable(t):this.unionWith(t)},isSubsetOf:function(t){var e;if(null==t)throw new System.ArgumentNullException("other");return 0===this._count||(null!=(e=Bridge.as(t,System.Collections.Generic.HashSet$1(h)))&&System.Collections.Generic.HashSet$1(h).areEqualityComparersEqual(this,e)?!(this._count>e.getCount())&&this.isSubsetOfHashSetWithSameEC(e):(t=this.checkUniqueAndUnfoundElements(t,!1).$clone()).uniqueCount===this._count&&0<=t.unfoundCount)},isProperSubsetOf:function(t){var e;if(null==t)throw new System.ArgumentNullException("other");if(null!=(e=Bridge.as(t,System.Collections.Generic.ICollection$1(h)))){if(0===this._count)return 0<System.Array.getCount(e,h);if(null!=(e=Bridge.as(t,System.Collections.Generic.HashSet$1(h)))&&System.Collections.Generic.HashSet$1(h).areEqualityComparersEqual(this,e))return!(this._count>=e.getCount())&&this.isSubsetOfHashSetWithSameEC(e)}return(t=this.checkUniqueAndUnfoundElements(t,!1).$clone()).uniqueCount===this._count&&0<t.unfoundCount},isSupersetOf:function(t){var e;if(null==t)throw new System.ArgumentNullException("other");if(null!=(e=Bridge.as(t,System.Collections.Generic.ICollection$1(h)))){if(0===System.Array.getCount(e,h))return!0;if(null!=(e=Bridge.as(t,System.Collections.Generic.HashSet$1(h)))&&System.Collections.Generic.HashSet$1(h).areEqualityComparersEqual(this,e)&&e.getCount()>this._count)return!1}return this.containsAllElements(t)},isProperSupersetOf:function(t){var e;if(null==t)throw new System.ArgumentNullException("other");if(0===this._count)return!1;if(null!=(e=Bridge.as(t,System.Collections.Generic.ICollection$1(h)))){if(0===System.Array.getCount(e,h))return!0;if(null!=(e=Bridge.as(t,System.Collections.Generic.HashSet$1(h)))&&System.Collections.Generic.HashSet$1(h).areEqualityComparersEqual(this,e))return!(e.getCount()>=this._count)&&this.containsAllElements(e)}return(t=this.checkUniqueAndUnfoundElements(t,!0).$clone()).uniqueCount<this._count&&0===t.unfoundCount},overlaps:function(t){var e,n;if(null==t)throw new System.ArgumentNullException("other");if(0===this._count)return!1;for(e=Bridge.getEnumerator(t,null,h);e.moveNext();)if(n=e.getCurrent(),this.contains(n))return!0;return!1},setEquals:function(t){var e;if(null==t)throw new System.ArgumentNullException("other");return null!=(e=Bridge.as(t,System.Collections.Generic.HashSet$1(h)))&&System.Collections.Generic.HashSet$1(h).areEqualityComparersEqual(this,e)?this._count===e.getCount()&&this.containsAllElements(e):!(null!=(e=Bridge.as(t,System.Collections.Generic.ICollection$1(h)))&&0===this._count&&0<System.Array.getCount(e,h))&&((t=this.checkUniqueAndUnfoundElements(t,!0).$clone()).uniqueCount===this._count&&0===t.unfoundCount)},removeWhere:function(t){var e,n,r;if(Bridge.staticEquals(t,null))throw new System.ArgumentNullException("match");for(n=e=0;n<this._lastIndex;n=n+1|0)0<=this._slots[n].hashCode&&(t(r=this._slots[n].value)&&this.remove(r)&&(e=e+1|0));return e},trimExcess:function(){var t;if(0===this._count)this._buckets=null,this._slots=null,this._version=this._version+1|0;else{for(var e=System.Collections.HashHelpers.getPrime(this._count),n=System.Array.init(e,function(){return new(System.Collections.Generic.HashSet$1.Slot(h))}),r=System.Array.init(e,0),i=0,o=0;o<this._lastIndex;o=o+1|0)0<=this._slots[o].hashCode&&(n[i]=this._slots[o].$clone(),t=n[i].hashCode%e,n[i].next=r[t]-1|0,r[t]=i+1|0,i=i+1|0);this._lastIndex=i,this._slots=n,this._buckets=r,this._freeList=-1}},initialize:function(t){t=System.Collections.HashHelpers.getPrime(t);this._buckets=System.Array.init(t,0),this._slots=System.Array.init(t,function(){return new(System.Collections.Generic.HashSet$1.Slot(h))})},increaseCapacity:function(){var t=System.Collections.HashHelpers.expandPrime(this._count);if(t<=this._count)throw new System.ArgumentException("HashSet capacity is too big.");this.setCapacity(t,!1)},setCapacity:function(t,e){var n,r,i,o,s,a=System.Array.init(t,function(){return new(System.Collections.Generic.HashSet$1.Slot(h))});if(null!=this._slots)for(n=0;n<this._lastIndex;n=n+1|0)a[n]=this._slots[n].$clone();if(e)for(r=0;r<this._lastIndex;r=r+1|0)-1!==a[r].hashCode&&(a[r].hashCode=this.internalGetHashCode(a[r].value));for(i=System.Array.init(t,0),o=0;o<this._lastIndex;o=o+1|0)s=a[o].hashCode%t,a[o].next=i[s]-1|0,i[s]=o+1|0;this._slots=a,this._buckets=i},addIfNotPresent:function(t){var e,n,r,i;for(null==this._buckets&&this.initialize(0),n=(e=this.internalGetHashCode(t))%this._buckets.length,r=this._buckets[n]-1|0;0<=r;r=this._slots[r].next)if(this._slots[r].hashCode===e&&this._comparer["System$Collections$Generic$IEqualityComparer$1$"+Bridge.getTypeAlias(h)+"$equals2"](this._slots[r].value,t))return!1;return 0<=this._freeList?(i=this._freeList,this._freeList=this._slots[i].next):(this._lastIndex===this._slots.length&&(this.increaseCapacity(),n=e%this._buckets.length),i=this._lastIndex,this._lastIndex=this._lastIndex+1|0),this._slots[i].hashCode=e,this._slots[i].value=t,this._slots[i].next=this._buckets[n]-1|0,this._buckets[n]=i+1|0,this._count=this._count+1|0,this._version=this._version+1|0,!0},containsAllElements:function(t){for(var e,n=Bridge.getEnumerator(t,null,h);n.moveNext();)if(e=n.getCurrent(),!this.contains(e))return!1;return!0},isSubsetOfHashSetWithSameEC:function(t){for(var e,n=Bridge.getEnumerator(this);n.moveNext();)if(e=n.getCurrent(),!t.contains(e))return!1;return!0},intersectWithHashSetWithSameEC:function(t){for(var e,n=0;n<this._lastIndex;n=n+1|0)0<=this._slots[n].hashCode&&(e=this._slots[n].value,t.contains(e)||this.remove(e))},intersectWithEnumerable:function(t){for(var e,n,r=this._lastIndex,i=System.Collections.Generic.BitHelper.toIntArrayLength(r),o=System.Array.init(i,0),s=new System.Collections.Generic.BitHelper(o,i),a=Bridge.getEnumerator(t,null,h);a.moveNext();)e=a.getCurrent(),0<=(e=this.internalIndexOf(e))&&s.markBit(e);for(n=0;n<r;n=n+1|0)0<=this._slots[n].hashCode&&!s.isMarked(n)&&this.remove(this._slots[n].value)},internalIndexOf:function(t){for(var e=this.internalGetHashCode(t),n=this._buckets[e%this._buckets.length]-1|0;0<=n;n=this._slots[n].next)if(this._slots[n].hashCode===e&&this._comparer["System$Collections$Generic$IEqualityComparer$1$"+Bridge.getTypeAlias(h)+"$equals2"](this._slots[n].value,t))return n;return-1},symmetricExceptWithUniqueHashSet:function(t){for(var e,n=Bridge.getEnumerator(t);n.moveNext();)e=n.getCurrent(),this.remove(e)||this.addIfNotPresent(e)},symmetricExceptWithEnumerable:function(t){for(var e,n=this._lastIndex,r=System.Collections.Generic.BitHelper.toIntArrayLength(n),i=System.Array.init(r,0),o=new System.Collections.Generic.BitHelper(i,r),i=System.Array.init(r,0),s=new System.Collections.Generic.BitHelper(i,r),a=Bridge.getEnumerator(t,null,h);a.moveNext();){var u=a.getCurrent(),l={v:0};this.addOrGetLocation(u,l)?s.markBit(l.v):l.v<n&&!s.isMarked(l.v)&&o.markBit(l.v)}for(e=0;e<n;e=e+1|0)o.isMarked(e)&&this.remove(this._slots[e].value)},addOrGetLocation:function(t,e){for(var n,r=this.internalGetHashCode(t),i=r%this._buckets.length,o=this._buckets[i]-1|0;0<=o;o=this._slots[o].next)if(this._slots[o].hashCode===r&&this._comparer["System$Collections$Generic$IEqualityComparer$1$"+Bridge.getTypeAlias(h)+"$equals2"](this._slots[o].value,t))return e.v=o,!1;return 0<=this._freeList?(n=this._freeList,this._freeList=this._slots[n].next):(this._lastIndex===this._slots.length&&(this.increaseCapacity(),i=r%this._buckets.length),n=this._lastIndex,this._lastIndex=this._lastIndex+1|0),this._slots[n].hashCode=r,this._slots[n].value=t,this._slots[n].next=this._buckets[i]-1|0,this._buckets[i]=n+1|0,this._count=this._count+1|0,this._version=this._version+1|0,e.v=n,!0},checkUniqueAndUnfoundElements:function(t,e){var n,r,i,o=new(System.Collections.Generic.HashSet$1.ElementCount(h));if(0===this._count){for(r=0,n=Bridge.getEnumerator(t,null,h);n.moveNext();){n.getCurrent(),r=r+1|0;break}return o.uniqueCount=0,o.unfoundCount=r,o.$clone()}for(var s=this._lastIndex,a=System.Collections.Generic.BitHelper.toIntArrayLength(s),s=System.Array.init(a,0),u=new System.Collections.Generic.BitHelper(s,a),l=0,c=0,g=Bridge.getEnumerator(t,null,h);g.moveNext();)if(i=g.getCurrent(),0<=(i=this.internalIndexOf(i)))u.isMarked(i)||(u.markBit(i),c=c+1|0);else if(l=l+1|0,e)break;return o.uniqueCount=c,o.unfoundCount=l,o.$clone()},toArray:function(){var t=System.Array.init(this.getCount(),function(){return Bridge.getDefaultValue(h)});return this.copyTo$1(t),t},internalGetHashCode:function(t){return null==t?0:this._comparer["System$Collections$Generic$IEqualityComparer$1$"+Bridge.getTypeAlias(h)+"$getHashCode2"](t)&System.Collections.Generic.HashSet$1(h).Lower31BitMask}}}),Bridge.define("System.Collections.Generic.HashSet$1.ElementCount",function(e){return{$kind:"struct",statics:{getDefaultValue:function(){return new(System.Collections.Generic.HashSet$1.ElementCount(e))}},uniqueCount:0,unfoundCount:0,ctor:function(){this.$initialize()},getHashCode:function(){return Bridge.addHash([4920463385,this.uniqueCount,this.unfoundCount])},equals:function(t){return!!Bridge.is(t,System.Collections.Generic.HashSet$1.ElementCount(e))&&(Bridge.equals(this.uniqueCount,t.uniqueCount)&&Bridge.equals(this.unfoundCount,t.unfoundCount))},$clone:function(t){t=t||new(System.Collections.Generic.HashSet$1.ElementCount(e));return t.uniqueCount=this.uniqueCount,t.unfoundCount=this.unfoundCount,t}}}),Bridge.define("System.Collections.Generic.HashSet$1.Enumerator",function(e){return{inherits:[System.Collections.Generic.IEnumerator$1(e)],$kind:"struct",statics:{getDefaultValue:function(){return new(System.Collections.Generic.HashSet$1.Enumerator(e))}},_set:null,_index:0,_version:0,_current:Bridge.getDefaultValue(e),config:{alias:["dispose","System$IDisposable$dispose","moveNext","System$Collections$IEnumerator$moveNext","getCurrent","System$Collections$Generic$IEnumerator$1$"+Bridge.getTypeAlias(e)+"$getCurrent$1"]},$ctor1:function(t){this.$initialize(),this._set=t,this._index=0,this._version=t._version,this._current=Bridge.getDefaultValue(e)},ctor:function(){this.$initialize()},getCurrent:function(){return this._current},System$Collections$IEnumerator$getCurrent:function(){if(0===this._index||this._index===(this._set._lastIndex+1|0))throw new System.InvalidOperationException("Enumeration has either not started or has already finished.");return this.getCurrent()},dispose:function(){},moveNext:function(){if(this._version!==this._set._version)throw new System.InvalidOperationException("Collection was modified; enumeration operation may not execute.");for(;this._index<this._set._lastIndex;){if(0<=this._set._slots[this._index].hashCode)return this._current=this._set._slots[this._index].value,this._index=this._index+1|0,!0;this._index=this._index+1|0}return this._index=this._set._lastIndex+1|0,this._current=Bridge.getDefaultValue(e),!1},System$Collections$IEnumerator$reset:function(){if(this._version!==this._set._version)throw new System.InvalidOperationException("Collection was modified; enumeration operation may not execute.");this._index=0,this._current=Bridge.getDefaultValue(e)},getHashCode:function(){return Bridge.addHash([3788985113,this._set,this._index,this._version,this._current])},equals:function(t){return!!Bridge.is(t,System.Collections.Generic.HashSet$1.Enumerator(e))&&(Bridge.equals(this._set,t._set)&&Bridge.equals(this._index,t._index)&&Bridge.equals(this._version,t._version)&&Bridge.equals(this._current,t._current))},$clone:function(t){t=t||new(System.Collections.Generic.HashSet$1.Enumerator(e));return t._set=this._set,t._index=this._index,t._version=this._version,t._current=this._current,t}}}),Bridge.define("System.Collections.Generic.HashSet$1.Slot",function(e){return{$kind:"struct",statics:{getDefaultValue:function(){return new(System.Collections.Generic.HashSet$1.Slot(e))}},hashCode:0,value:Bridge.getDefaultValue(e),next:0,ctor:function(){this.$initialize()},getHashCode:function(){return Bridge.addHash([1953459283,this.hashCode,this.value,this.next])},equals:function(t){return!!Bridge.is(t,System.Collections.Generic.HashSet$1.Slot(e))&&(Bridge.equals(this.hashCode,t.hashCode)&&Bridge.equals(this.value,t.value)&&Bridge.equals(this.next,t.next))},$clone:function(t){t=t||new(System.Collections.Generic.HashSet$1.Slot(e));return t.hashCode=this.hashCode,t.value=this.value,t.next=this.next,t}}}),Bridge.define("System.Collections.Generic.Queue$1",function(i){return{inherits:[System.Collections.Generic.IEnumerable$1(i),System.Collections.ICollection],statics:{MinimumGrow:4,GrowFactor:200,DefaultCapacity:4},_array:null,_head:0,_tail:0,_size:0,_version:0,config:{alias:["getCount","System$Collections$ICollection$getCount","getIsReadOnly","System$Collections$ICollection$getIsReadOnly","System$Collections$Generic$IEnumerable$1$T$getEnumerator","System$Collections$Generic$IEnumerable$1$"+Bridge.getTypeAlias(i)+"$getEnumerator"]},ctor:function(){this.$initialize(),this._array=System.Array.init(0,function(){return Bridge.getDefaultValue(i)})},$ctor2:function(t){if(this.$initialize(),t<0)throw new System.ArgumentOutOfRangeException("capacity","Non-negative number required.");this._array=System.Array.init(t,function(){return Bridge.getDefaultValue(i)})},$ctor1:function(t){if(this.$initialize(),null==t)throw new System.ArgumentNullException("collection");this._array=System.Array.init(System.Collections.Generic.Queue$1(i).DefaultCapacity,function(){return Bridge.getDefaultValue(i)});var e=Bridge.getEnumerator(t,null,i);try{for(;e.System$Collections$IEnumerator$moveNext();)this.enqueue(e[Bridge.geti(e,"System$Collections$Generic$IEnumerator$1$"+Bridge.getTypeAlias(i)+"$getCurrent$1","getCurrent$1")]())}finally{Bridge.hasValue(e)&&e.dispose()}},getCount:function(){return this._size},getIsReadOnly:function(){return!1},clear:function(){this._head<this._tail?System.Array.fill(this._array,Bridge.getDefaultValue(i),this._head,this._size):(System.Array.fill(this._array,Bridge.getDefaultValue(i),this._head,this._array.length-this._head|0),System.Array.fill(this._array,Bridge.getDefaultValue(i),0,this._tail)),this._head=0,this._tail=0,this._size=0,this._version=this._version+1|0},copyTo:function(t,e){var n,r;if(null==t)throw new System.ArgumentNullException("array");if(e<0||e>t.length)throw new System.ArgumentOutOfRangeException("arrayIndex","Index was out of range. Must be non-negative and less than the size of the collection.");if(((r=t.length)-e|0)<this._size)throw new System.ArgumentException("Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.");0!==(n=(r-e|0)<this._size?r-e|0:this._size)&&(r=(this._array.length-this._head|0)<n?this._array.length-this._head|0:n,System.Array.copy(this._array,this._head,t,e,r),0<(n=n-r|0)&&System.Array.copy(this._array,0,t,(e+this._array.length|0)-this._head|0,n))},enqueue:function(t){var e;this._size===this._array.length&&((e=0|Bridge.Int.div(this._array.length*System.Collections.Generic.Queue$1(i).GrowFactor|0,100))<(this._array.length+System.Collections.Generic.Queue$1(i).MinimumGrow|0)&&(e=this._array.length+System.Collections.Generic.Queue$1(i).MinimumGrow|0),this.setCapacity(e)),this._array[this._tail]=t,this._tail=this.moveNext(this._tail),this._size=this._size+1|0,this._version=this._version+1|0},getEnumerator:function(){return new(System.Collections.Generic.Queue$1.Enumerator(i).$ctor1)(this)},System$Collections$Generic$IEnumerable$1$T$getEnumerator:function(){return new(System.Collections.Generic.Queue$1.Enumerator(i).$ctor1)(this)},System$Collections$IEnumerable$getEnumerator:function(){return new(System.Collections.Generic.Queue$1.Enumerator(i).$ctor1)(this)},dequeue:function(){if(0===this._size)throw new System.InvalidOperationException("Queue empty.");var t=this._array[this._head];return this._array[this._head]=Bridge.getDefaultValue(i),this._head=this.moveNext(this._head),this._size=this._size-1|0,this._version=this._version+1|0,t},peek:function(){if(0===this._size)throw new System.InvalidOperationException("Queue empty.");return this._array[this._head]},contains:function(t){for(var e=this._head,n=this._size,r=System.Collections.Generic.EqualityComparer$1(i).def;0<Bridge.identity(n,n=n-1|0);){if(null==t){if(null==this._array[e])return!0}else if(null!=this._array[e]&&r.equals2(this._array[e],t))return!0;e=this.moveNext(e)}return!1},getElement:function(t){return this._array[(this._head+t|0)%this._array.length]},toArray:function(){var t=System.Array.init(this._size,function(){return Bridge.getDefaultValue(i)});return 0===this._size||(this._head<this._tail?System.Array.copy(this._array,this._head,t,0,this._size):(System.Array.copy(this._array,this._head,t,0,this._array.length-this._head|0),System.Array.copy(this._array,0,t,this._array.length-this._head|0,this._tail))),t},setCapacity:function(t){var e=System.Array.init(t,function(){return Bridge.getDefaultValue(i)});0<this._size&&(this._head<this._tail?System.Array.copy(this._array,this._head,e,0,this._size):(System.Array.copy(this._array,this._head,e,0,this._array.length-this._head|0),System.Array.copy(this._array,0,e,this._array.length-this._head|0,this._tail))),this._array=e,this._head=0,this._tail=this._size===t?0:this._size,this._version=this._version+1|0},moveNext:function(t){t=t+1|0;return t===this._array.length?0:t},trimExcess:function(){var t=Bridge.Int.clip32(.9*this._array.length);this._size<t&&this.setCapacity(this._size)}}}),Bridge.define("System.Collections.Generic.Queue$1.Enumerator",function(e){return{inherits:[System.Collections.Generic.IEnumerator$1(e),System.Collections.IEnumerator],$kind:"struct",statics:{getDefaultValue:function(){return new(System.Collections.Generic.Queue$1.Enumerator(e))}},_q:null,_index:0,_version:0,_currentElement:Bridge.getDefaultValue(e),config:{alias:["dispose","System$IDisposable$dispose","moveNext","System$Collections$IEnumerator$moveNext","getCurrent","System$Collections$Generic$IEnumerator$1$"+Bridge.getTypeAlias(e)+"$getCurrent$1"]},$ctor1:function(t){this.$initialize(),this._q=t,this._version=this._q._version,this._index=-1,this._currentElement=Bridge.getDefaultValue(e)},ctor:function(){this.$initialize()},getCurrent:function(){if(this._index<0)throw-1===this._index?new System.InvalidOperationException("Enumeration has not started. Call MoveNext."):new System.InvalidOperationException("Enumeration already finished.");return this._currentElement},System$Collections$IEnumerator$getCurrent:function(){return this.getCurrent()},dispose:function(){this._index=-2,this._currentElement=Bridge.getDefaultValue(e)},moveNext:function(){if(this._version!==this._q._version)throw new System.InvalidOperationException("Collection was modified; enumeration operation may not execute.");return-2!==this._index&&(this._index=this._index+1|0,this._index===this._q._size?(this._index=-2,this._currentElement=Bridge.getDefaultValue(e),!1):(this._currentElement=this._q.getElement(this._index),!0))},System$Collections$IEnumerator$reset:function(){if(this._version!==this._q._version)throw new System.InvalidOperationException("Collection was modified; enumeration operation may not execute.");this._index=-1,this._currentElement=Bridge.getDefaultValue(e)},getHashCode:function(){return Bridge.addHash([3788985113,this._q,this._index,this._version,this._currentElement])},equals:function(t){return!!Bridge.is(t,System.Collections.Generic.Queue$1.Enumerator(e))&&(Bridge.equals(this._q,t._q)&&Bridge.equals(this._index,t._index)&&Bridge.equals(this._version,t._version)&&Bridge.equals(this._currentElement,t._currentElement))},$clone:function(t){t=t||new(System.Collections.Generic.Queue$1.Enumerator(e));return t._q=this._q,t._index=this._index,t._version=this._version,t._currentElement=this._currentElement,t}}}),Bridge.define("System.Collections.Generic.Stack$1",function(r){return{inherits:[System.Collections.Generic.IEnumerable$1(r),System.Collections.ICollection],statics:{DefaultCapacity:4},_array:null,_size:0,_version:0,config:{alias:["getCount","System$Collections$ICollection$getCount","getIsReadOnly","System$Collections$ICollection$getIsReadOnly","System$Collections$Generic$IEnumerable$1$T$getEnumerator","System$Collections$Generic$IEnumerable$1$"+Bridge.getTypeAlias(r)+"$getEnumerator"]},ctor:function(){this.$initialize(),this._array=System.Array.init(0,function(){return Bridge.getDefaultValue(r)})},$ctor2:function(t){if(this.$initialize(),t<0)throw new System.ArgumentOutOfRangeException("capacity","Non-negative number required.");this._array=System.Array.init(t,function(){return Bridge.getDefaultValue(r)})},$ctor1:function(t){if(this.$initialize(),null==t)throw new System.ArgumentNullException("collection");var e={};this._array=Bridge.Collections.EnumerableHelpers.toArray$1(r,t,e),this._size=e.v},getCount:function(){return this._size},getIsReadOnly:function(){return!1},clear:function(){System.Array.fill(this._array,Bridge.getDefaultValue(r),0,this._size),this._size=0,this._version=this._version+1|0},contains:function(t){for(var e=this._size,n=System.Collections.Generic.EqualityComparer$1(r).def;0<Bridge.identity(e,e=e-1|0);)if(null==t){if(null==this._array[e])return!0}else if(null!=this._array[e]&&n.equals2(this._array[e],t))return!0;return!1},copyTo:function(t,e){var n,r,i;if(null==t)throw new System.ArgumentNullException("array");if(e<0||e>t.length)throw new System.ArgumentOutOfRangeException("arrayIndex","Non-negative number required.");if((t.length-e|0)<this._size)throw new System.ArgumentException("Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.");if(Bridge.referenceEquals(t,this._array))System.Array.copy(this._array,0,t,e,this._size),System.Array.reverse(t,e,this._size);else for(r=e+this._size|(n=0),i=0;i<this._size;i=i+1|0)t[r=r-1|0]=this._array[Bridge.identity(n,n=n+1|0)]},copyTo$1:function(t,e){if(null==t)throw new System.ArgumentNullException("array");if(1!==System.Array.getRank(t))throw new System.ArgumentException("Only single dimensional arrays are supported for the requested action.");if(0!==System.Array.getLower(t,0))throw new System.ArgumentException("The lower bound of target array must be zero.");if(e<0||e>t.length)throw new System.ArgumentOutOfRangeException("arrayIndex","Non-negative number required.");if((t.length-e|0)<this._size)throw new System.ArgumentException("Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.");try{System.Array.copy(this._array,0,t,e,this._size),System.Array.reverse(t,e,this._size)}catch(t){throw t=System.Exception.create(t),new System.ArgumentException("Target array type is not compatible with the type of items in the collection.")}},getEnumerator:function(){return new(System.Collections.Generic.Stack$1.Enumerator(r).$ctor1)(this)},System$Collections$Generic$IEnumerable$1$T$getEnumerator:function(){return new(System.Collections.Generic.Stack$1.Enumerator(r).$ctor1)(this)},System$Collections$IEnumerable$getEnumerator:function(){return new(System.Collections.Generic.Stack$1.Enumerator(r).$ctor1)(this)},trimExcess:function(){var t=Bridge.Int.clip32(.9*this._array.length);this._size<t&&(t={v:this._array},System.Array.resize(t,this._size,Bridge.getDefaultValue(r)),this._array=t.v,this._version=this._version+1|0)},peek:function(){if(0===this._size)throw new System.InvalidOperationException("Stack empty.");return this._array[this._size-1|0]},pop:function(){if(0===this._size)throw new System.InvalidOperationException("Stack empty.");this._version=this._version+1|0;var t=this._array[this._size=this._size-1|0];return this._array[this._size]=Bridge.getDefaultValue(r),t},push:function(t){var e;this._size===this._array.length&&(e={v:this._array},System.Array.resize(e,0===this._array.length?System.Collections.Generic.Stack$1(r).DefaultCapacity:2*this._array.length|0,Bridge.getDefaultValue(r)),this._array=e.v),this._array[Bridge.identity(this._size,this._size=this._size+1|0)]=t,this._version=this._version+1|0},toArray:function(){for(var t=System.Array.init(this._size,function(){return Bridge.getDefaultValue(r)}),e=0;e<this._size;)t[e]=this._array[(this._size-e|0)-1|0],e=e+1|0;return t}}}),Bridge.define("System.Collections.Generic.Stack$1.Enumerator",function(e){return{inherits:[System.Collections.Generic.IEnumerator$1(e),System.Collections.IEnumerator],$kind:"struct",statics:{getDefaultValue:function(){return new(System.Collections.Generic.Stack$1.Enumerator(e))}},_stack:null,_index:0,_version:0,_currentElement:Bridge.getDefaultValue(e),config:{alias:["dispose","System$IDisposable$dispose","moveNext","System$Collections$IEnumerator$moveNext","getCurrent","System$Collections$Generic$IEnumerator$1$"+Bridge.getTypeAlias(e)+"$getCurrent$1"]},$ctor1:function(t){this.$initialize(),this._stack=t,this._version=this._stack._version,this._index=-2,this._currentElement=Bridge.getDefaultValue(e)},ctor:function(){this.$initialize()},getCurrent:function(){if(-2===this._index)throw new System.InvalidOperationException("Enumeration has not started. Call MoveNext.");if(-1===this._index)throw new System.InvalidOperationException("Enumeration already finished.");return this._currentElement},System$Collections$IEnumerator$getCurrent:function(){if(-2===this._index)throw new System.InvalidOperationException("Enumeration has not started. Call MoveNext.");if(-1===this._index)throw new System.InvalidOperationException("Enumeration already finished.");return this._currentElement},dispose:function(){this._index=-1},moveNext:function(){var t;if(this._version!==this._stack._version)throw new System.InvalidOperationException("Collection was modified; enumeration operation may not execute.");return-2===this._index?(this._index=this._stack._size-1|0,(t=0<=this._index)&&(this._currentElement=this._stack._array[this._index]),t):-1!==this._index&&(t=0<=(this._index=this._index-1|0),this._currentElement=t?this._stack._array[this._index]:Bridge.getDefaultValue(e),t)},System$Collections$IEnumerator$reset:function(){if(this._version!==this._stack._version)throw new System.InvalidOperationException("Collection was modified; enumeration operation may not execute.");this._index=-2,this._currentElement=Bridge.getDefaultValue(e)},getHashCode:function(){return Bridge.addHash([3788985113,this._stack,this._index,this._version,this._currentElement])},equals:function(t){return!!Bridge.is(t,System.Collections.Generic.Stack$1.Enumerator(e))&&(Bridge.equals(this._stack,t._stack)&&Bridge.equals(this._index,t._index)&&Bridge.equals(this._version,t._version)&&Bridge.equals(this._currentElement,t._currentElement))},$clone:function(t){t=t||new(System.Collections.Generic.Stack$1.Enumerator(e));return t._stack=this._stack,t._index=this._index,t._version=this._version,t._currentElement=this._currentElement,t}}}),Bridge.define("System.Collections.HashHelpers",{statics:{HashPrime:101,primes:null,MaxPrimeArrayLength:2146435069,config:{init:function(){this.primes=[3,7,11,17,23,29,37,47,59,71,89,107,131,163,197,239,293,353,431,521,631,761,919,1103,1327,1597,1931,2333,2801,3371,4049,4861,5839,7013,8419,10103,12143,14591,17519,21023,25229,30293,36353,43627,52361,62851,75431,90523,108631,130363,156437,187751,225307,270371,324449,389357,467237,560689,672827,807403,968897,1162687,1395263,1674319,2009191,2411033,2893249,3471899,4166287,4999559,5999471,7199369]}},isPrime:function(t){var e,n;if(0==(1&t))return 2===t;for(e=Bridge.Int.clip32(Math.sqrt(t)),n=3;n<=e;n=n+2|0)if(t%n==0)return!1;return!0},getPrime:function(t){var e,n,r;if(t<0)throw new System.ArgumentException("Hashtable's capacity overflowed and went negative. Check load factor, capacity and the current size of the table.");for(e=0;e<System.Collections.HashHelpers.primes.length;e=e+1|0)if(t<=(n=System.Collections.HashHelpers.primes[e]))return n;for(r=1|t;r<2147483647;r=r+2|0)if(System.Collections.HashHelpers.isPrime(r)&&(r-1|0)%System.Collections.HashHelpers.HashPrime!=0)return r;return t},getMinPrime:function(){return System.Collections.HashHelpers.primes[0]},expandPrime:function(t){var e=2*t|0;return e>>>0>System.Collections.HashHelpers.MaxPrimeArrayLength&&System.Collections.HashHelpers.MaxPrimeArrayLength>t?System.Collections.HashHelpers.MaxPrimeArrayLength:System.Collections.HashHelpers.getPrime(e)}}})}),Bridge.assembly("OrgChart.Layout",function(s){"use strict";Bridge.define("OrgChart.Annotations.CanBeNullAttribute",{inherits:[System.Attribute]}),Bridge.define("OrgChart.Annotations.ContractAnnotationAttribute",{inherits:[System.Attribute],config:{properties:{Contract:null,ForceFullStates:!1}},ctor:function(t){OrgChart.Annotations.ContractAnnotationAttribute.$ctor1.call(this,t,!1)},$ctor1:function(t,e){this.$initialize(),System.Attribute.ctor.call(this),this.setContract(t),this.setForceFullStates(e)}}),Bridge.define("OrgChart.Annotations.NotNullAttribute",{inherits:[System.Attribute]}),Bridge.define("OrgChart.Annotations.PureAttribute",{inherits:[System.Attribute]}),Bridge.define("OrgChart.Layout.Boundary",{Left:null,Right:null,m_spacerMerger:null,config:{properties:{BoundingRect:null},init:function(){this.BoundingRect=new OrgChart.Layout.Rect}},ctor:function(){OrgChart.Layout.Boundary.$ctor1.call(this,!0)},$ctor1:function(t){this.$initialize(),this.Left=new(System.Collections.Generic.List$1(OrgChart.Layout.Boundary.Step)),this.Right=new(System.Collections.Generic.List$1(OrgChart.Layout.Boundary.Step)),t&&(this.m_spacerMerger=new OrgChart.Layout.Boundary.$ctor1(!1))},PrepareForHorizontalLayout:function(t){var e;this.Prepare(t),t.getElement().DisableCollisionDetection||(e=t.getState(),this.Left.add(new OrgChart.Layout.Boundary.Step.$ctor1(t,e.getLeft(),e.getTop(),e.getBottom())),this.Right.add(new OrgChart.Layout.Boundary.Step.$ctor1(t,e.getRight(),e.getTop(),e.getBottom())))},Prepare:function(t){this.Left.clear(),this.Right.clear(),this.setBoundingRect(new OrgChart.Layout.Rect.$ctor1(t.getState().TopLeft,t.getState().Size))},VerticalMergeFrom:function(t){this.setBoundingRect(OrgChart.Layout.Rect.op_Addition(this.getBoundingRect(),t.getBoundingRect()))},MergeFrom:function(t){var e,n,r,i;if(t.getBoundingRect().getTop()>=t.getBoundingRect().getBottom())throw new System.ArgumentException("Cannot merge boundary of height "+System.Double.format(t.getBoundingRect().getBottom()-t.getBoundingRect().getTop(),"G"));for(e=114;0!==e;){for(var o=114===e?this.Right:this.Left,s=114===e?t.Right:t.Left,a=0,u=0;u<s.getCount()&&a<o.getCount();)n=o.getItem(a),r=s.getItem(u),n.Bottom<=r.Top?a=a+1|0:(r.Bottom<=n.Top?(o.insert(a,r),u=u+1|0):(i=114===e?n.X<=r.X:n.X>=r.X,OrgChart.Layout.LayoutAlgorithm.IsEqual(n.Top,r.Top)?OrgChart.Layout.LayoutAlgorithm.IsEqual(n.Bottom,r.Bottom)?(i&&o.setItem(a,r),a=a+1|0,u=u+1|0):n.Bottom<r.Bottom?(i&&o.setItem(a,n.ChangeOwner(r.Node,r.X)),s.setItem(u,r.ChangeTop(n.Bottom)),a=a+1|0):(i&&(o.setItem(a,n.ChangeTop(r.Bottom)),o.insert(a,r),a=a+1|0),u=u+1|0):OrgChart.Layout.LayoutAlgorithm.IsEqual(n.Bottom,r.Bottom)?u=(a=(n.Top<r.Top?i&&(o.setItem(a,n.ChangeBottom(r.Top)),o.insert(a+1|0,r),a=a+1|0):i?o.setItem(a,r):(o.insert(a,r.ChangeBottom(n.Top)),a=a+1|0),a+1|0),u+1|0):n.Top<r.Top&&n.Bottom<r.Bottom?(i&&(o.setItem(a,n.ChangeBottom(r.Top)),o.insert(a+1|0,new OrgChart.Layout.Boundary.Step.$ctor1(r.Node,r.X,r.Top,n.Bottom)),a=a+1|0),s.setItem(u,r.ChangeTop(n.Bottom)),a=a+1|0):n.Top<r.Top&&n.Bottom>r.Bottom?(i&&(o.setItem(a,n.ChangeBottom(r.Top)),o.insert(a+1|0,r),o.insert(a+2|0,n.ChangeTop(r.Bottom)),a=a+2|0),u=u+1|0):n.Bottom>r.Bottom?(i?(o.setItem(a,n.ChangeTop(r.Bottom)),o.insert(a,r)):o.insert(a,r.ChangeBottom(n.Top)),a=a+1|0,u=u+1|0):(i?o.setItem(a,r.ChangeBottom(n.Bottom)):(o.insert(a,r.ChangeBottom(n.Top)),a=a+1|0),s.setItem(u,r.ChangeTop(n.Bottom)),a=a+1|0)),this.ValidateState());if(a===o.getCount())for(;u<s.getCount();)o.add(s.getItem(u)),u=u+1|0,this.ValidateState();e=114===e?108:0}this.setBoundingRect(OrgChart.Layout.Rect.op_Addition(this.getBoundingRect(),t.getBoundingRect()))},MergeFrom$1:function(t){t.getElement().DisableCollisionDetection||OrgChart.Layout.LayoutAlgorithm.IsZero(t.getState().Size.Height)||(this.m_spacerMerger.PrepareForHorizontalLayout(t),this.MergeFrom(this.m_spacerMerger))},ValidateState:function(){for(var t,e=1;e<this.Left.getCount();e=e+1|0)if(OrgChart.Layout.LayoutAlgorithm.IsEqual(this.Left.getItem(e).Top,this.Left.getItem(e).Bottom)||this.Left.getItem(e).Top<this.Left.getItem(e-1|0).Bottom||this.Left.getItem(e).Top<=this.Left.getItem(e-1|0).Top||this.Left.getItem(e).Bottom<=this.Left.getItem(e).Top||this.Left.getItem(e).Bottom<=this.Left.getItem(e-1|0).Bottom)throw new System.Exception("State error at Left index "+e);for(t=1;t<this.Right.getCount();t=t+1|0)if(OrgChart.Layout.LayoutAlgorithm.IsEqual(this.Right.getItem(t).Top,this.Right.getItem(t).Bottom)||this.Right.getItem(t).Top<this.Right.getItem(t-1|0).Bottom||this.Right.getItem(t).Top<=this.Right.getItem(t-1|0).Top||this.Right.getItem(t).Bottom<=this.Right.getItem(t).Top||this.Right.getItem(t).Bottom<=this.Right.getItem(t-1|0).Bottom)throw new System.Exception("State error at Right index "+t)},ComputeOverlap:function(t,e,n){for(var r,i,o,s=0,a=0,u=0;s<this.Right.getCount()&&a<t.Left.getCount();)r=this.Right.getItem(s),i=t.Left.getItem(a),r.Bottom<=i.Top?s=s+1|0:i.Bottom<=r.Top?a=a+1|0:(r.Node.getElement().DisableCollisionDetection||i.Node.getElement().DisableCollisionDetection||(o=r.Node.getElement().IsSpecial||i.Node.getElement().IsSpecial?0:r.Node.getElement().ParentId===i.Node.getElement().ParentId?e:n,u<(o=r.X+o-i.X)&&(u=o)),r.Bottom>=i.Bottom&&(a=a+1|0),i.Bottom>=r.Bottom&&(s=s+1|0));return u},ReloadFromBranch:function(t){for(var e,n,r,i,o,s=System.Double.max,a=System.Double.min,u=0;u<this.Left.getCount();u=u+1|0)n=(e=this.Left.getItem(u)).Node.getState().getLeft(),this.Left.setItem(u,e.ChangeX(n)),s=Math.min(s,n);for(r=0;r<this.Right.getCount();r=r+1|0)o=(i=this.Right.getItem(r)).Node.getState().getRight(),this.Right.setItem(r,i.ChangeX(o)),a=Math.max(a,o);s=Math.min(t.getState().getLeft(),s),a=Math.max(t.getState().getRight(),a),this.setBoundingRect(new OrgChart.Layout.Rect.$ctor1(new OrgChart.Layout.Point.$ctor1(s,this.getBoundingRect().getTop()),new OrgChart.Layout.Size.$ctor1(a-s,this.getBoundingRect().Size.Height)))}}),Bridge.define("OrgChart.Layout.Boundary.Step",{$kind:"struct",statics:{getDefaultValue:function(){return new OrgChart.Layout.Boundary.Step}},Node:null,X:0,Top:0,Bottom:0,$ctor1:function(t,e,n,r){this.$initialize(),this.Node=t,this.X=e,this.Top=n,this.Bottom=r},ctor:function(){this.$initialize()},ChangeTop:function(t){return new OrgChart.Layout.Boundary.Step.$ctor1(this.Node,this.X,t,this.Bottom)},ChangeBottom:function(t){return new OrgChart.Layout.Boundary.Step.$ctor1(this.Node,this.X,this.Top,t)},ChangeOwner:function(t,e){return new OrgChart.Layout.Boundary.Step.$ctor1(t,e,this.Top,this.Bottom)},ChangeX:function(t){return new OrgChart.Layout.Boundary.Step.$ctor1(this.Node,t,this.Top,this.Bottom)},getHashCode:function(){return Bridge.addHash([1885697107,this.Node,this.X,this.Top,this.Bottom])},equals:function(t){return!!Bridge.is(t,OrgChart.Layout.Boundary.Step)&&(Bridge.equals(this.Node,t.Node)&&Bridge.equals(this.X,t.X)&&Bridge.equals(this.Top,t.Top)&&Bridge.equals(this.Bottom,t.Bottom))},$clone:function(t){t=t||new OrgChart.Layout.Boundary.Step;return t.Node=this.Node,t.X=this.X,t.Top=this.Top,t.Bottom=this.Bottom,t}}),Bridge.define("OrgChart.Layout.BoundaryChangedEventArgs",{State:null,LayoutLevel:null,Boundary:null,ctor:function(t,e,n){this.$initialize(),this.Boundary=t,this.LayoutLevel=e,this.State=n}}),Bridge.define("OrgChart.Layout.Box",{statics:{None:-1,Special:function(t,e,n){return new OrgChart.Layout.Box.$ctor1(null,t,e,!0,n,!1)}},Id:0,ParentId:0,DataId:null,IsSpecial:!1,IsAssistant:!1,DisableCollisionDetection:!1,LayoutStrategyId:null,AssistantLayoutStrategyId:null,IsCollapsed:!1,config:{init:function(){this.Size=new OrgChart.Layout.Size}},ctor:function(t,e,n,r){OrgChart.Layout.Box.$ctor1.call(this,t,e,n,!1,!1,r)},$ctor1:function(t,e,n,r,i,o){if(this.$initialize(),0===e)throw new System.ArgumentOutOfRangeException("id");this.Id=e,this.ParentId=n,this.DataId=t,this.IsSpecial=r,this.IsAssistant=o,this.DisableCollisionDetection=i},getIsDataBound:function(){return!System.String.isNullOrEmpty(this.DataId)}}),Bridge.define("OrgChart.Layout.BoxContainer",{m_lastBoxId:0,m_boxesById:null,m_boxesByDataId:null,config:{properties:{SystemRoot:null},init:function(){this.m_boxesById=new(System.Collections.Generic.Dictionary$2(System.Int32,OrgChart.Layout.Box)),this.m_boxesByDataId=new(System.Collections.Generic.Dictionary$2(String,OrgChart.Layout.Box))}},ctor:function(){this.$initialize()},$ctor1:function(t){this.$initialize(),this.ReloadBoxes(t)},getBoxesById:function(){return this.m_boxesById},getBoxesByDataId:function(){return this.m_boxesByDataId},ReloadBoxes:function(t){var e,n,r,i,o;for(this.m_boxesByDataId.clear(),this.m_boxesById.clear(),this.m_lastBoxId=0,this.setSystemRoot(OrgChart.Layout.Box.Special(this.m_lastBoxId=this.m_lastBoxId+1|0,OrgChart.Layout.Box.None,!0)),this.m_boxesById.add(this.getSystemRoot().Id,this.getSystemRoot()),r=new(System.Collections.Generic.Dictionary$2(String,System.Int32)),e=Bridge.getEnumerator(t.OrgChart$Layout$IChartDataSource$getAllDataItemIds(),String);e.moveNext();)i=e.getCurrent(),r.add(i,this.NextBoxId());for(o=t.OrgChart$Layout$IChartDataSource$getGetDataItemFunc(),n=Bridge.getEnumerator(t.OrgChart$Layout$IChartDataSource$getAllDataItemIds(),String);n.moveNext();){var s=n.getCurrent(),a=System.String.isNullOrEmpty(s)?null:t.OrgChart$Layout$IChartDataSource$getGetParentKeyFunc()(s),a=System.String.isNullOrEmpty(a)?this.getSystemRoot().Id:r.get(a);this.AddBox$1(s,r.get(s),a,o(s).OrgChart$Layout$IChartDataItem$getIsAssistant())}},AddBox:function(t,e,n){return this.AddBox$1(t,this.NextBoxId(),e,n)},AddBox$1:function(t,e,n,r){r=new OrgChart.Layout.Box.ctor(t,e,n,r);return this.m_boxesById.add(r.Id,r),System.String.isNullOrEmpty(t)||this.m_boxesByDataId.add(r.DataId,r),r},NextBoxId:function(){return this.m_lastBoxId=this.m_lastBoxId+1|0,this.m_lastBoxId}}),Bridge.define("OrgChart.Layout.BoxTree",{statics:{Build:function(t){for(var e,n,r,i=new OrgChart.Layout.BoxTree,o=Bridge.getEnumerator(t.getDiagram().getBoxes().getBoxesById().System$Collections$Generic$IDictionary$2$System$Int32$OrgChart$Layout$Box$getValues(),OrgChart.Layout.Box);o.moveNext();)n=o.getCurrent(),r=new OrgChart.Layout.BoxTree.Node(n),i.getNodes().add(n.Id,r);for(e=Bridge.getEnumerator(i.getNodes().getValues(),OrgChart.Layout.BoxTree.Node);e.moveNext();){var s=e.getCurrent(),a=s.getElement().ParentId,u={};if(i.getNodes().tryGetValue(a,u))s.getElement().IsAssistant&&u.v.getElement().ParentId!==OrgChart.Layout.Box.None?u.v.AddAssistantChild(s):u.v.AddRegularChild$1(s);else{if(null!=i.getRoot())throw new System.InvalidOperationException("More then one root found: "+s.getElement().Id);i.setRoot(s)}}return i}},config:{properties:{Root:null,Nodes:null,Depth:0}},ctor:function(){this.$initialize(),this.setNodes(new(System.Collections.Generic.Dictionary$2(System.Int32,OrgChart.Layout.BoxTree.Node)))},IterateChildFirst:function(t){return this.getRoot().IterateChildFirst(t)},IterateParentFirst:function(t,e){void 0===e&&(e=null),this.getRoot().IterateParentFirst(t,e)},UpdateHierarchyStats:function(){this.setDepth(0),this.IterateParentFirst(Bridge.fn.bind(this,s.$.OrgChart.Layout.BoxTree.f1))}}),Bridge.ns("OrgChart.Layout.BoxTree",s.$),Bridge.apply(s.$.OrgChart.Layout.BoxTree,{f1:function(t){return null!=t.getParentNode()?(t.setLevel(t.getParentNode().getLevel()),t.getParentNode().getIsAssistantRoot()||t.setLevel(t.getLevel()+1|0),this.setDepth(Math.max(1+t.getLevel()|0,this.getDepth()))):(t.setLevel(0),this.setDepth(1)),!0}}),Bridge.define("OrgChart.Layout.BoxTree.Node",{config:{properties:{Level:0,Element:null,State:null,ParentNode:null,Children:null,AssistantsRoot:null}},ctor:function(t){this.$initialize(),this.setElement(t),this.setState(new OrgChart.Layout.NodeLayoutInfo)},getChildCount:function(){return null==this.getChildren()?0:System.Array.getCount(this.getChildren(),OrgChart.Layout.BoxTree.Node)},getIsAssistantRoot:function(){var t;return Bridge.referenceEquals(null!=(t=this.getParentNode())?t.getAssistantsRoot():null,this)},AddAssistantChild:function(t){return null==this.getAssistantsRoot()&&this.setAssistantsRoot(Bridge.merge(new OrgChart.Layout.BoxTree.Node(OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,this.getElement().Id,!0)),{setParentNode:this,setLevel:this.getLevel()+1|0})),this.getAssistantsRoot().AddRegularChild$1(t),this},AddRegularChild$1:function(t){return this.InsertRegularChild$1(this.getChildCount(),t)},AddRegularChild:function(t){return this.InsertRegularChild(this.getChildCount(),t)},InsertRegularChild:function(t,e){return this.InsertRegularChild$1(t,new OrgChart.Layout.BoxTree.Node(e))},InsertRegularChild$1:function(t,e){return null==this.getChildren()&&this.setChildren(new(System.Collections.Generic.List$1(OrgChart.Layout.BoxTree.Node))),System.Array.insert(this.getChildren(),t,e,OrgChart.Layout.BoxTree.Node),e.setParentNode(this),e.setLevel(this.getLevel()+1|0),this},IterateChildFirst:function(t){var e;if(null!=this.getAssistantsRoot()&&!this.getAssistantsRoot().IterateChildFirst(t))return!1;if(null!=this.getChildren())for(e=Bridge.getEnumerator(this.getChildren(),OrgChart.Layout.BoxTree.Node);e.moveNext();)if(!e.getCurrent().IterateChildFirst(t))return!1;return t(this)},IterateParentFirst:function(t,e){var n,r;if(void 0===e&&(e=null),!t(this))return Bridge.staticEquals(e,null)||e(this),!1;if(null!=(n=this.getAssistantsRoot())&&n.IterateParentFirst(t,e),null!=this.getChildren())for(r=Bridge.getEnumerator(this.getChildren(),OrgChart.Layout.BoxTree.Node);r.moveNext();)r.getCurrent().IterateParentFirst(t,e);return Bridge.staticEquals(e,null)||e(this),!0},SuppressAssistants:function(){var t,e;if(null!=this.getAssistantsRoot()){for(t=Bridge.getEnumerator(this.getAssistantsRoot().getChildren(),OrgChart.Layout.BoxTree.Node);t.moveNext();)e=t.getCurrent(),this.AddRegularChild$1(e);this.setAssistantsRoot(null)}}}),Bridge.define("OrgChart.Layout.BranchParentAlignment",{$kind:"enum",statics:{InvalidValue:0,Left:1,Center:2,Right:3}}),Bridge.define("OrgChart.Layout.Connector",{config:{properties:{Segments:null}},ctor:function(t){if(this.$initialize(),0===t.length)throw new System.ArgumentException("Need at least one segment","segments");this.setSegments(t)}}),Bridge.define("OrgChart.Layout.Diagram",{m_visualTree:null,m_boxes:null,config:{properties:{LayoutSettings:null}},ctor:function(){this.$initialize(),this.setLayoutSettings(new OrgChart.Layout.DiagramLayoutSettings)},getBoxes:function(){return this.m_boxes},setBoxes:function(t){this.m_visualTree=null,this.m_boxes=t},getVisualTree:function(){return this.m_visualTree},setVisualTree:function(t){this.m_visualTree=t}}),Bridge.define("OrgChart.Layout.DiagramLayoutSettings",{m_branchSpacing:0,config:{properties:{LayoutStrategies:null,DefaultAssistantLayoutStrategyId:null,DefaultLayoutStrategyId:null}},ctor:function(){this.$initialize(),this.setBranchSpacing(50),this.setLayoutStrategies(new(System.Collections.Generic.Dictionary$2(String,OrgChart.Layout.LayoutStrategyBase)))},getBranchSpacing:function(){return this.m_branchSpacing},setBranchSpacing:function(t){if(t<0)throw new System.ArgumentOutOfRangeException("value","Cannot be negative",null,t);this.m_branchSpacing=t},RequireDefaultLayoutStrategy:function(){var t={};if(System.String.isNullOrEmpty(this.getDefaultLayoutStrategyId())||!this.getLayoutStrategies().tryGetValue(this.getDefaultLayoutStrategyId(),t))throw new System.InvalidOperationException("defaultLayoutStrategyId is null or not valid");return t.v},RequireDefaultAssistantLayoutStrategy:function(){var t={};if(System.String.isNullOrEmpty(this.getDefaultAssistantLayoutStrategyId())||!this.getLayoutStrategies().tryGetValue(this.getDefaultAssistantLayoutStrategyId(),t))throw new System.InvalidOperationException("defaultAssistantLayoutStrategyId is null or not valid");return t.v}}),Bridge.define("OrgChart.Layout.DiagramLayoutTemplates"),Bridge.define("OrgChart.Layout.Dimensions",{$kind:"struct",statics:{MinMax:function(){return new OrgChart.Layout.Dimensions.$ctor1(System.Double.max,System.Double.min)},op_Addition:function(t,e){return new OrgChart.Layout.Dimensions.$ctor1(Math.min(t.From,e.From),Math.max(t.To,e.To))},getDefaultValue:function(){return new OrgChart.Layout.Dimensions}},From:0,To:0,$ctor1:function(t,e){this.$initialize(),this.From=t,this.To=e},ctor:function(){this.$initialize()},getHashCode:function(){return Bridge.addHash([3570880544,this.From,this.To])},equals:function(t){return!!Bridge.is(t,OrgChart.Layout.Dimensions)&&(Bridge.equals(this.From,t.From)&&Bridge.equals(this.To,t.To))},$clone:function(t){t=t||new OrgChart.Layout.Dimensions;return t.From=this.From,t.To=this.To,t}}),Bridge.define("OrgChart.Layout.Edge",{$kind:"struct",statics:{getDefaultValue:function(){return new OrgChart.Layout.Edge}},config:{init:function(){this.From=new OrgChart.Layout.Point,this.To=new OrgChart.Layout.Point}},$ctor1:function(t,e){this.$initialize(),this.From=t,this.To=e},ctor:function(){this.$initialize()},getHashCode:function(){return Bridge.addHash([1701274693,this.From,this.To])},equals:function(t){return!!Bridge.is(t,OrgChart.Layout.Edge)&&(Bridge.equals(this.From,t.From)&&Bridge.equals(this.To,t.To))},$clone:function(t){t=t||new OrgChart.Layout.Edge;return t.From=this.From,t.To=this.To,t}}),Bridge.define("OrgChart.Layout.LayoutStrategyBase",{ParentAlignment:0,ParentChildSpacing:20,ParentConnectorShield:50,SiblingSpacing:20,ChildConnectorHookLength:5}),Bridge.define("OrgChart.Layout.Frame1",{Connector:null,config:{init:function(){this.Exterior=new OrgChart.Layout.Rect,this.BranchExterior=new OrgChart.Layout.Rect,this.SiblingsRowV=new OrgChart.Layout.Dimensions}}}),Bridge.define("OrgChart.Layout.IChartDataItem",{$kind:"interface"}),Bridge.define("OrgChart.Layout.IChartDataSource",{$kind:"interface"}),Bridge.define("OrgChart.Layout.LayoutAlgorithm",{statics:{ComputeBranchVisualBoundingRect:function(t){var n=new OrgChart.Layout.Rect.ctor,r=!1;return t.getRoot().IterateParentFirst(function(t){var e=t.getElement();return t.getState().IsHidden||e.IsSpecial||(n=r?OrgChart.Layout.Rect.op_Addition(n,new OrgChart.Layout.Rect.$ctor1(t.getState().TopLeft,t.getState().Size)):(r=!0,new OrgChart.Layout.Rect.$ctor1(t.getState().TopLeft,t.getState().Size))),!e.IsCollapsed}),n},Apply:function(t){var e,n,r,i,o;if(null==t.getDiagram().getBoxes().getSystemRoot())throw new System.InvalidOperationException("SystemRoot is not initialized on the box container");if(t.setCurrentOperation(OrgChart.Layout.LayoutState.Operation.Preparing),r=OrgChart.Layout.BoxTree.Build(t),t.getDiagram().setVisualTree(r),null==r.getRoot()||r.getRoot().getElement().Id!==t.getDiagram().getBoxes().getSystemRoot().Id)throw new System.Exception("SystemRoot is not on the top of the visual tree");if(r.UpdateHierarchyStats(),t.AttachVisualTree(r),r.IterateParentFirst(s.$.OrgChart.Layout.LayoutAlgorithm.f1),t.setCurrentOperation(OrgChart.Layout.LayoutState.Operation.PreprocessVisualTree),!Bridge.staticEquals(t.getBoxSizeFunc(),null))for(e=Bridge.getEnumerator(System.Linq.Enumerable.from(t.getDiagram().getBoxes().getBoxesById().System$Collections$Generic$IDictionary$2$System$Int32$OrgChart$Layout$Box$getValues()).where(s.$.OrgChart.Layout.LayoutAlgorithm.f2));e.moveNext();)(i=e.getCurrent()).Size=t.getBoxSizeFunc()(i.DataId);for(n=Bridge.getEnumerator(t.getDiagram().getBoxes().getBoxesById().System$Collections$Generic$IDictionary$2$System$Int32$OrgChart$Layout$Box$getValues(),OrgChart.Layout.Box);n.moveNext();)o=n.getCurrent(),OrgChart.Layout.LayoutAlgorithm.AssertBoxSize(o);r.IterateParentFirst(s.$.OrgChart.Layout.LayoutAlgorithm.f3),OrgChart.Layout.LayoutAlgorithm.PreprocessVisualTree(t,r),r.UpdateHierarchyStats(),t.setCurrentOperation(OrgChart.Layout.LayoutState.Operation.VerticalLayout),OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,r.getRoot()),t.setCurrentOperation(OrgChart.Layout.LayoutState.Operation.HorizontalLayout),OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,r.getRoot()),t.setCurrentOperation(OrgChart.Layout.LayoutState.Operation.ConnectorsLayout),OrgChart.Layout.LayoutAlgorithm.RouteConnectors(t,r),t.setCurrentOperation(OrgChart.Layout.LayoutState.Operation.Completed)},AssertBoxSize:function(t){if(!(0<=t.Size.Width&&t.Size.Width<=1e9&&0<=t.Size.Height&&t.Size.Width<=1e9))throw new System.InvalidOperationException(System.String.format("Box {0} has invalid size: {1}x{2}",t.Id,t.Size.Width,t.Size.Height))},PreprocessVisualTree:function(r,t){var i,e=r.getDiagram().getLayoutSettings().RequireDefaultLayoutStrategy(),n=r.getDiagram().getLayoutSettings().RequireDefaultAssistantLayoutStrategy(),o=new(System.Collections.Generic.Stack$1(OrgChart.Layout.LayoutStrategyBase).ctor);o.push(e),(i=new(System.Collections.Generic.Stack$1(OrgChart.Layout.LayoutStrategyBase).ctor)).push(n),t.IterateParentFirst(function(t){var e,n;return!t.getState().IsHidden&&(e=null,Bridge.staticEquals(r.getLayoutOptimizerFunc(),null)||(n=r.getLayoutOptimizerFunc()(t),System.String.isNullOrEmpty(n)||(e=r.getDiagram().getLayoutSettings().getLayoutStrategies().get(n))),t.getIsAssistantRoot()?(null==e&&(e=null!=t.getParentNode().getElement().AssistantLayoutStrategyId?r.getDiagram().getLayoutSettings().getLayoutStrategies().get(t.getParentNode().getElement().AssistantLayoutStrategyId):i.peek()),i.push(e)):(null==e&&(e=null!=t.getElement().LayoutStrategyId?r.getDiagram().getLayoutSettings().getLayoutStrategies().get(t.getElement().LayoutStrategyId):o.peek()),o.push(e),e.getSupportsAssistants()||t.SuppressAssistants()),t.getState().setEffectiveLayoutStrategy(e),t.getState().RequireLayoutStrategy().PreProcessThisNode(r,t),!t.getElement().IsCollapsed&&0<t.getChildCount()||null!=t.getAssistantsRoot())},function(t){t.getState().IsHidden||(t.getIsAssistantRoot()?i:o).pop()})},HorizontalLayout:function(t,e){if(e.getState().IsHidden)throw new System.InvalidOperationException(System.String.format("Branch root {0} does not affect layout",e.getElement().Id));var n=t.PushLayoutLevel(e);try{(0===e.getLevel()||(0<e.getState().NumberOfSiblings||null!=e.getAssistantsRoot())&&!e.getElement().IsCollapsed)&&e.getState().RequireLayoutStrategy().ApplyHorizontalLayout(t,n)}finally{t.PopLayoutLevel()}},VerticalLayout:function(t,e){if(e.getState().IsHidden)throw new System.InvalidOperationException(System.String.format("Branch root {0} does not affect layout",e.getElement().Id));var n=t.PushLayoutLevel(e);try{(0===e.getLevel()||(0<e.getState().NumberOfSiblings||null!=e.getAssistantsRoot())&&!e.getElement().IsCollapsed)&&e.getState().RequireLayoutStrategy().ApplyVerticalLayout(t,n)}finally{t.PopLayoutLevel()}},RouteConnectors:function(e,t){t.IterateParentFirst(function(t){return!(t.getElement().IsCollapsed||0===t.getState().NumberOfSiblings&&null==t.getAssistantsRoot())&&(0===t.getLevel()||!(t.getElement().IsSpecial&&!t.getIsAssistantRoot())&&(t.getState().RequireLayoutStrategy().RouteConnectors(e,t),!0))})},MoveChildrenOnly:function(t,e,n){var r,i,o=e.BranchRoot.getChildren();if(null==o||0===System.Array.getCount(o,OrgChart.Layout.BoxTree.Node))throw new System.InvalidOperationException("Should never be invoked when children not set");for(i=function(t){return t.getState().IsHidden||(t.getState().TopLeft=t.getState().TopLeft.MoveH(n),t.getState().BranchExterior=t.getState().BranchExterior.MoveH(n)),!0},r=Bridge.getEnumerator(o,OrgChart.Layout.BoxTree.Node);r.moveNext();)r.getCurrent().IterateChildFirst(i);e.Boundary.ReloadFromBranch(e.BranchRoot),e.BranchRoot.getState().BranchExterior=e.Boundary.getBoundingRect()},MoveOneChild:function(t,e,n){e.IterateChildFirst(function(t){return t.getState().IsHidden||(t.getState().TopLeft=t.getState().TopLeft.MoveH(n),t.getState().BranchExterior=t.getState().BranchExterior.MoveH(n)),!0})},MoveBranch:function(t,e,n){OrgChart.Layout.LayoutAlgorithm.MoveOneChild(t,e.BranchRoot,n),e.Boundary.ReloadFromBranch(e.BranchRoot),e.BranchRoot.getState().BranchExterior=e.Boundary.getBoundingRect()},AlignHorizontalCenters:function(t,e,n){for(var r,i,o,s,a=System.Double.min,u=Bridge.getEnumerator(n,OrgChart.Layout.BoxTree.Node);u.moveNext();)a<(i=u.getCurrent().getState().getCenterH())&&(a=i);for(o=System.Double.max,s=System.Double.min,r=Bridge.getEnumerator(n,OrgChart.Layout.BoxTree.Node);r.moveNext();){var l=r.getCurrent(),c=l.getState().getCenterH();OrgChart.Layout.LayoutAlgorithm.IsEqual(c,a)||OrgChart.Layout.LayoutAlgorithm.MoveOneChild(t,l,a-c),o=Math.min(o,l.getState().BranchExterior.getLeft()),s=Math.max(s,l.getState().BranchExterior.getRight())}return e.Boundary.ReloadFromBranch(e.BranchRoot),new OrgChart.Layout.Dimensions.$ctor1(o,s)},CopyExteriorFrom:function(t,e){t.TopLeft=e.TopLeft,t.Size=e.Size,t.BranchExterior=e.BranchExterior,t.SiblingsRowV=e.SiblingsRowV},IsMinValue:function(t){return t<=System.Double.min+5e-324},IsMaxValue:function(t){return t>=System.Double.max-5e-324},IsZero:function(t){return t<=5e-324&&-5e-324<=t},IsEqual:function(t,e){return Math.abs(t-e)<=5e-324},MoveTo:function(t,e,n){t.TopLeft=new OrgChart.Layout.Point.$ctor1(e,n)},AdjustSpacer:function(t,e,n,r,i){t.TopLeft=new OrgChart.Layout.Point.$ctor1(e,n),t.Size=new OrgChart.Layout.Size.$ctor1(r,i),t.BranchExterior=new OrgChart.Layout.Rect.$ctor3(e,n,r,i)}}}),Bridge.ns("OrgChart.Layout.LayoutAlgorithm",s.$),Bridge.apply(s.$.OrgChart.Layout.LayoutAlgorithm,{f1:function(t){return t.getState().IsHidden=null!=t.getParentNode()&&(t.getParentNode().getState().IsHidden||t.getParentNode().getElement().IsCollapsed),!0},f2:function(t){return t.getIsDataBound()},f3:function(t){return OrgChart.Layout.LayoutAlgorithm.MoveTo(t.getState(),0,0),t.getState().Size=t.getElement().Size,t.getState().BranchExterior=new OrgChart.Layout.Rect.$ctor1(new OrgChart.Layout.Point.$ctor1(0,0),t.getElement().Size),!0}}),Bridge.define("OrgChart.Layout.LayoutState",{m_layoutStack:null,m_pooledBoundaries:null,m_currentOperation:0,config:{events:{BoundaryChanged:null,OperationChanged:null},properties:{Diagram:null,BoxSizeFunc:null,LayoutOptimizerFunc:null},init:function(){this.m_layoutStack=new(System.Collections.Generic.Stack$1(OrgChart.Layout.LayoutState.LayoutLevel).ctor),this.m_pooledBoundaries=new(System.Collections.Generic.Stack$1(OrgChart.Layout.Boundary).ctor)}},ctor:function(t){this.$initialize(),this.setDiagram(t)},getCurrentOperation:function(){return this.m_currentOperation},setCurrentOperation:function(t){this.m_currentOperation=t,Bridge.staticEquals(this.OperationChanged,null)||this.OperationChanged(this,new OrgChart.Layout.LayoutStateOperationChangedEventArgs(this))},AttachVisualTree:function(t){for(;this.m_pooledBoundaries.getCount()<t.getDepth();)this.m_pooledBoundaries.push(new OrgChart.Layout.Boundary.ctor)},PushLayoutLevel:function(t){var e,n;switch(0===this.m_pooledBoundaries.getCount()&&this.m_pooledBoundaries.push(new OrgChart.Layout.Boundary.ctor),e=this.m_pooledBoundaries.pop(),this.getCurrentOperation()){case OrgChart.Layout.LayoutState.Operation.VerticalLayout:e.Prepare(t);break;case OrgChart.Layout.LayoutState.Operation.HorizontalLayout:e.PrepareForHorizontalLayout(t);break;default:throw new System.InvalidOperationException("This operation can only be invoked when performing vertical or horizontal layouts")}return n=new OrgChart.Layout.LayoutState.LayoutLevel(t,e),this.m_layoutStack.push(n),Bridge.staticEquals(this.BoundaryChanged,null)||this.BoundaryChanged(this,new OrgChart.Layout.BoundaryChangedEventArgs(e,n,this)),n},MergeSpacer:function(t){if(this.getCurrentOperation()!==OrgChart.Layout.LayoutState.Operation.HorizontalLayout)throw new System.InvalidOperationException("Spacers can only be merged during horizontal layout");if(0===this.m_layoutStack.getCount())throw new System.InvalidOperationException("Cannot merge spacers at top nesting level");var e=this.m_layoutStack.peek();e.Boundary.MergeFrom$1(t),Bridge.staticEquals(this.BoundaryChanged,null)||this.BoundaryChanged(this,new OrgChart.Layout.BoundaryChangedEventArgs(e.Boundary,e,this))},PopLayoutLevel:function(){var t,e,n=this.m_layoutStack.pop();if(Bridge.staticEquals(this.BoundaryChanged,null)||this.BoundaryChanged(this,new OrgChart.Layout.BoundaryChangedEventArgs(n.Boundary,n,this)),0<this.m_layoutStack.getCount()){switch(t=this.m_layoutStack.peek(),this.getCurrentOperation()){case OrgChart.Layout.LayoutState.Operation.VerticalLayout:t.Boundary.VerticalMergeFrom(n.Boundary),t.BranchRoot.getState().BranchExterior=t.Boundary.getBoundingRect();break;case OrgChart.Layout.LayoutState.Operation.HorizontalLayout:Bridge.referenceEquals(t.BranchRoot.getAssistantsRoot(),n.BranchRoot)||(e=t.BranchRoot.getState().RequireLayoutStrategy(),0<(e=t.Boundary.ComputeOverlap(n.Boundary,e.SiblingSpacing,this.getDiagram().getLayoutSettings().getBranchSpacing()))&&(OrgChart.Layout.LayoutAlgorithm.MoveBranch(this,n,e),Bridge.staticEquals(this.BoundaryChanged,null)||this.BoundaryChanged(this,new OrgChart.Layout.BoundaryChangedEventArgs(n.Boundary,n,this)))),t.Boundary.MergeFrom(n.Boundary),t.BranchRoot.getState().BranchExterior=new OrgChart.Layout.Rect.$ctor3(t.Boundary.getBoundingRect().getLeft(),t.BranchRoot.getState().BranchExterior.getTop(),t.Boundary.getBoundingRect().Size.Width,t.BranchRoot.getState().BranchExterior.Size.Height);break;default:throw new System.InvalidOperationException("This operation can only be invoked when performing vertical or horizontal layouts")}Bridge.staticEquals(this.BoundaryChanged,null)||this.BoundaryChanged(this,new OrgChart.Layout.BoundaryChangedEventArgs(t.Boundary,t,this))}this.m_pooledBoundaries.push(n.Boundary)}}),Bridge.define("OrgChart.Layout.LayoutState.LayoutLevel",{BranchRoot:null,Boundary:null,ctor:function(t,e){this.$initialize(),this.BranchRoot=t,this.Boundary=e}}),Bridge.define("OrgChart.Layout.LayoutState.Operation",{$kind:"enum",statics:{Idle:0,Preparing:1,PreprocessVisualTree:2,VerticalLayout:3,HorizontalLayout:4,ConnectorsLayout:5,Completed:6}}),Bridge.define("OrgChart.Layout.LayoutStateOperationChangedEventArgs",{State:null,ctor:function(t){this.$initialize(),this.State=t}}),Bridge.define("OrgChart.Layout.MultiLineFishboneLayoutStrategy.SingleFishboneLayoutAdapter.GroupIterator",{m_numberOfSiblings:0,m_numberOfGroups:0,Group:0,FromIndex:0,Count:0,MaxOnLeft:0,ctor:function(t,e){this.$initialize(),this.m_numberOfSiblings=t,this.m_numberOfGroups=e},CountInGroup:function(){for(var t,e=2*this.m_numberOfGroups|0,n=0,r=2+(2*this.Group|0)|0,i=0;;){if(!(r<=(t=i>=(this.m_numberOfSiblings-e|0)?this.m_numberOfSiblings-i|0:e))){(r=r-1|0)<=t&&(n=n+1|0);break}n=n+2|0,i=i+e|0}return n},NextGroup:function(){return this.FromIndex=this.FromIndex+this.Count|0,0<this.FromIndex&&(this.Group=this.Group+1|0),this.Count=this.CountInGroup(),this.MaxOnLeft=(0|Bridge.Int.div(this.Count,2))+this.Count%2|0,0!==this.Count}}),Bridge.define("OrgChart.Layout.NodeLayoutInfo",{IsHidden:!1,NumberOfSiblings:0,NumberOfSiblingRows:0,NumberOfSiblingColumns:0,Connector:null,m_effectiveLayoutStrategy:null,config:{init:function(){this.TopLeft=new OrgChart.Layout.Point,this.Size=new OrgChart.Layout.Size,this.BranchExterior=new OrgChart.Layout.Rect,this.SiblingsRowV=new OrgChart.Layout.Dimensions}},setEffectiveLayoutStrategy:function(t){this.m_effectiveLayoutStrategy=t},getLeft:function(){return this.TopLeft.X},getRight:function(){return this.TopLeft.X+this.Size.Width},getTop:function(){return this.TopLeft.Y},getBottom:function(){return this.TopLeft.Y+this.Size.Height},getCenterH:function(){return this.TopLeft.X+this.Size.Width/2},getCenterV:function(){return this.TopLeft.Y+this.Size.Height/2},RequireLayoutStrategy:function(){if(null==this.m_effectiveLayoutStrategy)throw new System.Exception("effectiveLayoutStrategy is not set");return this.m_effectiveLayoutStrategy}}),Bridge.define("OrgChart.Layout.Point",{$kind:"struct",statics:{getDefaultValue:function(){return new OrgChart.Layout.Point}},X:0,Y:0,$ctor1:function(t,e){this.$initialize(),this.X=t,this.Y=e},ctor:function(){this.$initialize()},MoveH:function(t){return new OrgChart.Layout.Point.$ctor1(this.X+t,this.Y)},getHashCode:function(){return Bridge.addHash([1852403652,this.X,this.Y])},equals:function(t){return!!Bridge.is(t,OrgChart.Layout.Point)&&(Bridge.equals(this.X,t.X)&&Bridge.equals(this.Y,t.Y))},$clone:function(t){t=t||new OrgChart.Layout.Point;return t.X=this.X,t.Y=this.Y,t}}),Bridge.define("OrgChart.Layout.Rect",{$kind:"struct",statics:{op_Addition:function(t,e){var n=Math.min(t.getLeft(),e.getLeft()),r=Math.min(t.getTop(),e.getTop()),i=Math.max(t.getRight(),e.getRight()),e=Math.max(t.getBottom(),e.getBottom());return new OrgChart.Layout.Rect.$ctor3(n,r,i-n,e-r)},getDefaultValue:function(){return new OrgChart.Layout.Rect}},config:{init:function(){this.TopLeft=new OrgChart.Layout.Point,this.Size=new OrgChart.Layout.Size}},$ctor3:function(t,e,n,r){if(this.$initialize(),n<0)throw new System.ArgumentOutOfRangeException("w");if(r<0)throw new System.ArgumentOutOfRangeException("h");this.TopLeft=new OrgChart.Layout.Point.$ctor1(t,e),this.Size=new OrgChart.Layout.Size.$ctor1(n,r)},$ctor1:function(t,e){this.$initialize(),this.TopLeft=t,this.Size=e},$ctor2:function(t){this.$initialize(),this.TopLeft=new OrgChart.Layout.Point.$ctor1(0,0),this.Size=t},ctor:function(){this.$initialize()},getBottomRight:function(){return new OrgChart.Layout.Point.$ctor1(this.TopLeft.X+this.Size.Width,this.TopLeft.Y+this.Size.Height)},getLeft:function(){return this.TopLeft.X},getRight:function(){return this.TopLeft.X+this.Size.Width},getCenterH:function(){return this.TopLeft.X+this.Size.Width/2},getCenterV:function(){return this.TopLeft.Y+this.Size.Height/2},getTop:function(){return this.TopLeft.Y},getBottom:function(){return this.TopLeft.Y+this.Size.Height},MoveH:function(t){return new OrgChart.Layout.Rect.$ctor1(new OrgChart.Layout.Point.$ctor1(this.getLeft()+t,this.getTop()),this.Size)},getHashCode:function(){return Bridge.addHash([1952671058,this.TopLeft,this.Size])},equals:function(t){return!!Bridge.is(t,OrgChart.Layout.Rect)&&(Bridge.equals(this.TopLeft,t.TopLeft)&&Bridge.equals(this.Size,t.Size))},$clone:function(t){t=t||new OrgChart.Layout.Rect;return t.TopLeft=this.TopLeft,t.Size=this.Size,t}}),Bridge.define("OrgChart.Layout.Size",{$kind:"struct",statics:{getDefaultValue:function(){return new OrgChart.Layout.Size}},Width:0,Height:0,$ctor1:function(t,e){this.$initialize(),this.Width=t,this.Height=e},ctor:function(){this.$initialize()},getHashCode:function(){return Bridge.addHash([1702521171,this.Width,this.Height])},equals:function(t){return!!Bridge.is(t,OrgChart.Layout.Size)&&(Bridge.equals(this.Width,t.Width)&&Bridge.equals(this.Height,t.Height))},$clone:function(t){t=t||new OrgChart.Layout.Size;return t.Width=this.Width,t.Height=this.Height,t}}),Bridge.define("OrgChart.Layout.StackOrientation",{$kind:"enum",statics:{InvalidValue:0,SingleRowHorizontal:1,SingleColumnVertical:2}}),Bridge.define("OrgChart.Test.TestDataGen",{statics:{GenerateBoxSizes:function(t){var e,n,r;for(System.Diagnostics.Debug.writeln(0..toString()),n=new System.Random.$ctor1(0),e=Bridge.getEnumerator(t.getBoxesById().System$Collections$Generic$IDictionary$2$System$Int32$OrgChart$Layout$Box$getValues(),OrgChart.Layout.Box);e.moveNext();)(r=e.getCurrent()).IsSpecial||(r.Size=new OrgChart.Layout.Size.$ctor1(50+n.next$1(50)|0,50+n.next$1(50)|0))}},GenerateDataItems:function(t,e,n){for(var r,i=Bridge.getEnumerator(this.GenerateRandomDataItems(e,n));i.moveNext();)r=i.getCurrent(),t.Items.add(r.getId(),r)},GenerateRandomDataItems:function(t,e){var n,r,i,o,s,a,u,l,c,g,h;if(t<0)throw new System.ArgumentOutOfRangeException("itemCount","Count must be zero or positive",null,t);for(n=new System.Random.$ctor1(0),r=new(System.Collections.Generic.List$1(OrgChart.Test.TestDataItem))(t),i=0;i<t;i=i+1|0)r.add(Bridge.merge(new OrgChart.Test.TestDataItem,{setId:i.toString()}));for(s=o=1;o<t;){for(a=(15+s|0)+n.next$1(2*s|0)|0,u=o;u<(o+a|0)&&u<t;u=u+1|0)l=(o-1|0)-n.next$1(s)|0,r.getItem(u).setParentId(r.getItem(l).getId());o=o+a|0,s=a}for(c=0;c<(0|Bridge.Int.div(r.getCount(),2));c=c+1|0){var m=n.next$1(r.getCount()),f=n.next$1(r.getCount()),d=r.getItem(m);r.setItem(m,r.getItem(f)),r.setItem(f,d)}if(0<e)for(g=Math.min(r.getCount(),Bridge.Int.clip32(Math.ceil((r.getCount()*e|0)/100))),h=0;h<g;h=h+1|0)r.getItem(n.next$1(r.getCount())).setIsAssistant(!0);return r}}),Bridge.define("System.Diagnostics.DebuggerDisplayAttribute",{inherits:[System.Attribute],ctor:function(){this.$initialize(),System.Attribute.ctor.call(this)}}),Bridge.define("OrgChart.Layout.FishboneAssistantsLayoutStrategy",{inherits:[OrgChart.Layout.LayoutStrategyBase],getSupportsAssistants:function(){return!1},PreProcessThisNode:function(t,e){var n;e.getState().NumberOfSiblings=e.getChildCount(),0<e.getState().NumberOfSiblings&&(e.getState().NumberOfSiblingColumns=1,e.getState().NumberOfSiblingRows=0|Bridge.Int.div(e.getState().NumberOfSiblings,2),e.getState().NumberOfSiblings%2!=0&&(e.getState().NumberOfSiblingRows=e.getState().NumberOfSiblingRows+1|0),n=OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,e.getElement().Id,!1),e.AddRegularChild(n))},ApplyVerticalLayout:function(t,e){var n,r,i,o,s,a,u=e.BranchRoot;if(0===u.getLevel())throw new System.InvalidOperationException("Should never be invoked on root node");for(n=u.getState().SiblingsRowV.To,r=this.MaxOnLeft(u),i=0;i<r;i=i+1|0){var l=0===i?this.ParentChildSpacing:this.SiblingSpacing,c=System.Array.getItem(u.getChildren(),i,OrgChart.Layout.BoxTree.Node),g=c.getState();OrgChart.Layout.LayoutAlgorithm.MoveTo(g,g.getLeft(),n+l),o=new OrgChart.Layout.Dimensions.$ctor1(g.getTop(),g.getBottom()),(a=i+r|0)<u.getState().NumberOfSiblings&&(a=(s=System.Array.getItem(u.getChildren(),a,OrgChart.Layout.BoxTree.Node)).getState(),OrgChart.Layout.LayoutAlgorithm.MoveTo(a,a.getLeft(),n+l),a.getBottom()>g.getBottom()?OrgChart.Layout.LayoutAlgorithm.MoveTo(g,g.getLeft(),a.getCenterV()-g.Size.Height/2):a.getBottom()<g.getBottom()&&OrgChart.Layout.LayoutAlgorithm.MoveTo(a,a.getLeft(),g.getCenterV()-a.Size.Height/2),a.BranchExterior=new OrgChart.Layout.Rect.$ctor1(a.TopLeft,a.Size),o=OrgChart.Layout.Dimensions.op_Addition(o,new OrgChart.Layout.Dimensions.$ctor1(a.getTop(),a.getBottom())),a.SiblingsRowV=o,OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,s),n=a.BranchExterior.getBottom()),g.BranchExterior=new OrgChart.Layout.Rect.$ctor1(g.TopLeft,g.Size),g.SiblingsRowV=o,OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,c),n=Math.max(n,g.BranchExterior.getBottom())}},ApplyHorizontalLayout:function(t,e){var n,r,i,o,s,a,u=e.BranchRoot;0===u.getLevel()&&(u.getState().SiblingsRowV=new OrgChart.Layout.Dimensions.$ctor1(u.getState().getTop(),u.getState().getBottom()));for(var l=!0,c=0,g=this.MaxOnLeft(u),h=0;h<u.getState().NumberOfSiblings;h=h+1|0)if(o=System.Array.getItem(u.getChildren(),h,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,o),(c=c+1|0)===g&&l){for(OrgChart.Layout.LayoutAlgorithm.AlignHorizontalCenters(t,e,this.EnumerateSiblings(u,0,g)),l=!1,c=0,n=System.Double.min,r=0;r<=h;r=r+1|0)n=Math.max(n,System.Array.getItem(u.getChildren(),r,OrgChart.Layout.BoxTree.Node).getState().BranchExterior.getRight());n=u.getState().NumberOfSiblings%2!=0?Math.max(n,o.getState().getRight()):(i=System.Array.getItem(u.getChildren(),u.getState().NumberOfSiblings-1|0,OrgChart.Layout.BoxTree.Node)).getElement().IsCollapsed||0===i.getChildCount()?Math.max(n,o.getState().getRight()):Math.max(n,o.getState().BranchExterior.getRight()),o=System.Array.getItem(u.getChildren(),u.getState().NumberOfSiblings,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.AdjustSpacer(o.getState(),n,u.getState().getBottom(),this.ParentConnectorShield,u.getState().BranchExterior.getBottom()-u.getState().getBottom()),e.Boundary.MergeFrom$1(o)}OrgChart.Layout.LayoutAlgorithm.AlignHorizontalCenters(t,e,this.EnumerateSiblings(u,g,u.getState().NumberOfSiblings)),0<u.getLevel()&&0<u.getState().NumberOfSiblings&&(s=System.Array.getItem(u.getChildren(),u.getState().NumberOfSiblings,OrgChart.Layout.BoxTree.Node).getState().getCenterH(),a=u.getState().getCenterH(),OrgChart.Layout.LayoutAlgorithm.MoveChildrenOnly(t,e,a-s))},RouteConnectors:function(t,e){var n,r,i=e.getState().NumberOfSiblings;if(0!==i){this.NeedCarrierProtector(e)&&(i=i+1|0);for(var o=System.Array.init(i,function(){return new OrgChart.Layout.Edge}),s=0,a=this.MaxOnLeft(e),i=System.Array.getItem(e.getChildren(),e.getState().NumberOfSiblings,OrgChart.Layout.BoxTree.Node).getState(),u=i.getCenterH(),l=!0,c=0,g=System.Double.min,h=0;h<e.getState().NumberOfSiblings;h=h+1|0)n=l?System.Array.getItem(e.getChildren(),h,OrgChart.Layout.BoxTree.Node).getState().getRight():System.Array.getItem(e.getChildren(),h,OrgChart.Layout.BoxTree.Node).getState().getLeft(),r=System.Array.getItem(e.getChildren(),h,OrgChart.Layout.BoxTree.Node).getState().getCenterV(),g=Math.max(g,r),o[Bridge.identity(s,s=s+1|0)]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(u,r),new OrgChart.Layout.Point.$ctor1(n,r)),(c=c+1|0)===a&&(c=0,l=!l);this.NeedCarrierProtector(e)&&(o[e.getState().NumberOfSiblings]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(i.getCenterH(),i.getTop()),new OrgChart.Layout.Point.$ctor1(i.getCenterH(),g))),e.getState().Connector=new OrgChart.Layout.Connector(o)}},MaxOnLeft:function(t){return(0|Bridge.Int.div(t.getState().NumberOfSiblings,2))+t.getState().NumberOfSiblings%2|0},NeedCarrierProtector:function(t){return 0===t.getParentNode().getChildCount()},EnumerateSiblings:function(t,e,n){for(var r=[],i=e;i<n;i=i+1|0)r.push(System.Array.getItem(t.getChildren(),i,OrgChart.Layout.BoxTree.Node));return System.Array.toEnumerable(r)}}),Bridge.define("OrgChart.Layout.LinearLayoutStrategy",{inherits:[OrgChart.Layout.LayoutStrategyBase],getSupportsAssistants:function(){return!0},PreProcessThisNode:function(t,e){var n;0<e.getChildCount()&&(e.getState().NumberOfSiblings=e.getElement().IsCollapsed?0:e.getChildCount(),e.getElement().IsCollapsed||(n=OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,e.getElement().Id,!1),e.AddRegularChild(n),n=OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,e.getElement().Id,!1),e.AddRegularChild(n)))},ApplyVerticalLayout:function(t,e){var n,r,i,o,s,a,u,l=e.BranchRoot;if(0===l.getLevel()&&(l.getState().SiblingsRowV=new OrgChart.Layout.Dimensions.$ctor1(l.getState().getTop(),l.getState().getBottom())),null!=l.getAssistantsRoot()&&(OrgChart.Layout.LayoutAlgorithm.CopyExteriorFrom(l.getAssistantsRoot().getState(),l.getState()),OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,l.getAssistantsRoot())),0!==l.getState().NumberOfSiblings){for(n=OrgChart.Layout.Dimensions.MinMax(),r=null==l.getAssistantsRoot()?l.getState().SiblingsRowV.To+this.ParentChildSpacing:l.getState().BranchExterior.getBottom()+this.ParentChildSpacing,i=0;i<l.getState().NumberOfSiblings;i=i+1|0)s=(o=System.Array.getItem(l.getChildren(),i,OrgChart.Layout.BoxTree.Node)).getState(),OrgChart.Layout.LayoutAlgorithm.MoveTo(o.getState(),0,r),o.getState().BranchExterior=new OrgChart.Layout.Rect.$ctor1(o.getState().TopLeft,o.getState().Size),n=OrgChart.Layout.Dimensions.op_Addition(n,new OrgChart.Layout.Dimensions.$ctor1(r,r+s.Size.Height));for(n=new OrgChart.Layout.Dimensions.$ctor1(n.From,n.To),a=0;a<l.getState().NumberOfSiblings;a=a+1|0)(u=System.Array.getItem(l.getChildren(),a,OrgChart.Layout.BoxTree.Node)).getState().SiblingsRowV=n,OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,u)}},ApplyHorizontalLayout:function(t,e){var n,r,i,o,s,a=e.BranchRoot;for(null!=a.getAssistantsRoot()&&OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,a.getAssistantsRoot()),n=0;n<a.getState().NumberOfSiblings;n=n+1|0)r=System.Array.getItem(a.getChildren(),n,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,r);0<a.getLevel()&&0<a.getChildCount()&&(i=a.getState(),o=System.Array.getItem(a.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().getCenterH(),s=System.Array.getItem(a.getChildren(),a.getState().NumberOfSiblings-1|0,OrgChart.Layout.BoxTree.Node).getState().getCenterH(),o=1===a.getState().NumberOfSiblings||this.ParentAlignment===OrgChart.Layout.BranchParentAlignment.Center?o+(s-o)/2:this.ParentAlignment===OrgChart.Layout.BranchParentAlignment.Left?o+this.ChildConnectorHookLength:s-this.ChildConnectorHookLength,s=i.getCenterH(),OrgChart.Layout.LayoutAlgorithm.MoveChildrenOnly(t,e,s-o),o=System.Array.getItem(a.getChildren(),a.getState().NumberOfSiblings,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.AdjustSpacer(o.getState(),s-this.ParentConnectorShield/2,i.getBottom(),this.ParentConnectorShield,System.Array.getItem(a.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().SiblingsRowV.From-i.getBottom()),t.MergeSpacer(o),i=System.Array.getItem(a.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState(),o=System.Array.getItem(a.getChildren(),a.getState().NumberOfSiblings+1|0,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.AdjustSpacer(o.getState(),i.getLeft(),i.SiblingsRowV.From-this.ParentChildSpacing,System.Array.getItem(a.getChildren(),a.getState().NumberOfSiblings-1|0,OrgChart.Layout.BoxTree.Node).getState().getRight()-i.getLeft(),this.ParentChildSpacing),t.MergeSpacer(o))},RouteConnectors:function(t,e){var n,r,i,o,s=e.getState().NumberOfSiblings,a=0===s?0:1===s?1:2+s|0;if(0!=a){var u=System.Array.init(a,function(){return new OrgChart.Layout.Edge}),l=e.getState(),c=l.getCenterH();if(null==e.getChildren())throw new System.Exception("State is present, but children not set");if(1==a)u[0]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(c,l.getBottom()),new OrgChart.Layout.Point.$ctor1(c,System.Array.getItem(e.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().getTop()));else{for(n=System.Array.getItem(e.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().SiblingsRowV.From-l.getBottom(),u[0]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(c,l.getBottom()),new OrgChart.Layout.Point.$ctor1(c,l.getBottom()+n-this.ChildConnectorHookLength)),r=0;r<s;r=r+1|0)o=(i=System.Array.getItem(e.getChildren(),r,OrgChart.Layout.BoxTree.Node).getState()).getCenterH(),u[1+r|0]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(o,i.getTop()),new OrgChart.Layout.Point.$ctor1(o,i.getTop()-this.ChildConnectorHookLength));u[a-1|0]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(u[1].To.X,u[1].To.Y),new OrgChart.Layout.Point.$ctor1(u[a-2|0].To.X,u[1].To.Y))}e.getState().Connector=new OrgChart.Layout.Connector(u)}else e.getState().Connector=null}}),Bridge.define("OrgChart.Layout.MultiLineFishboneLayoutStrategy.SingleFishboneLayoutAdapter",{inherits:[OrgChart.Layout.LayoutStrategyBase],RealRoot:null,SpecialRoot:null,Iterator:null,ctor:function(t){this.$initialize(),OrgChart.Layout.LayoutStrategyBase.ctor.call(this),this.Iterator=new OrgChart.Layout.MultiLineFishboneLayoutStrategy.SingleFishboneLayoutAdapter.GroupIterator(t.getState().NumberOfSiblings,t.getState().NumberOfSiblingColumns),this.RealRoot=t,this.SpecialRoot=Bridge.merge(new OrgChart.Layout.MultiLineFishboneLayoutStrategy.SingleFishboneLayoutAdapter.TreeNodeView(OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,t.getElement().Id,!0)),{setLevel:this.RealRoot.getLevel(),setParentNode:this.RealRoot}),this.SpecialRoot.getState().setEffectiveLayoutStrategy(this);t=Bridge.cast(t.getState().RequireLayoutStrategy(),OrgChart.Layout.MultiLineFishboneLayoutStrategy);this.SiblingSpacing=t.SiblingSpacing,this.ParentConnectorShield=t.ParentConnectorShield,this.ParentChildSpacing=t.ParentChildSpacing,this.ParentAlignment=t.ParentAlignment,this.ChildConnectorHookLength=t.ChildConnectorHookLength},getSupportsAssistants:function(){return!1},NextGroup:function(){var t,e;if(!this.Iterator.NextGroup())return!1;for(this.SpecialRoot.getState().NumberOfSiblings=this.Iterator.Count,this.SpecialRoot.Prepare(2*this.RealRoot.getState().NumberOfSiblingRows|0),t=0;t<this.Iterator.Count;t=t+1|0)this.SpecialRoot.AddChildView(System.Array.getItem(this.RealRoot.getChildren(),this.Iterator.FromIndex+t|0,OrgChart.Layout.BoxTree.Node));return e=System.Array.getItem(this.RealRoot.getChildren(),(this.RealRoot.getState().NumberOfSiblings+1|0)+this.Iterator.Group|0,OrgChart.Layout.BoxTree.Node),this.SpecialRoot.AddChildView(e),OrgChart.Layout.LayoutAlgorithm.CopyExteriorFrom(this.SpecialRoot.getState(),this.RealRoot.getState()),!0},PreProcessThisNode:function(){throw new System.NotSupportedException},ApplyVerticalLayout:function(t){for(var e,n,r,i,o=null!=(i=this.RealRoot.getAssistantsRoot())?i.getState().BranchExterior.getBottom():this.SpecialRoot.getState().SiblingsRowV.To,s=0;s<this.Iterator.MaxOnLeft;s=s+1|0){var a=0===s?this.ParentChildSpacing:this.SiblingSpacing,u=System.Array.getItem(this.SpecialRoot.getChildren(),s,OrgChart.Layout.BoxTree.Node),l=u.getState();OrgChart.Layout.LayoutAlgorithm.MoveTo(l,l.getLeft(),o+a),e=new OrgChart.Layout.Dimensions.$ctor1(l.getTop(),l.getBottom()),(r=s+this.Iterator.MaxOnLeft|0)<this.Iterator.Count&&(r=(n=System.Array.getItem(this.SpecialRoot.getChildren(),r,OrgChart.Layout.BoxTree.Node)).getState(),OrgChart.Layout.LayoutAlgorithm.MoveTo(r,r.getLeft(),o+a),r.getBottom()>l.getBottom()?OrgChart.Layout.LayoutAlgorithm.MoveTo(l,l.getLeft(),r.getCenterV()-l.Size.Height/2):r.getBottom()<l.getBottom()&&OrgChart.Layout.LayoutAlgorithm.MoveTo(r,r.getLeft(),l.getCenterV()-r.Size.Height/2),r.BranchExterior=new OrgChart.Layout.Rect.$ctor1(r.TopLeft,r.Size),e=OrgChart.Layout.Dimensions.op_Addition(e,new OrgChart.Layout.Dimensions.$ctor1(r.getTop(),r.getBottom())),r.SiblingsRowV=e,OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,n),o=r.BranchExterior.getBottom()),l.BranchExterior=new OrgChart.Layout.Rect.$ctor1(l.TopLeft,l.Size),l.SiblingsRowV=e,OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,u),o=Math.max(o,l.BranchExterior.getBottom())}},ApplyHorizontalLayout:function(t,e){var n,r,i,o,s,a,u;if(!Bridge.referenceEquals(e.BranchRoot,this.SpecialRoot))throw new System.InvalidOperationException("Wrong root node received");for(n=!0,i=r=0;i<this.Iterator.Count;i=i+1|0)if(o=System.Array.getItem(this.SpecialRoot.getChildren(),i,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,o),(r=r+1|0)===this.Iterator.MaxOnLeft&&n){for(OrgChart.Layout.LayoutAlgorithm.AlignHorizontalCenters(t,e,this.EnumerateSiblings(0,this.Iterator.MaxOnLeft)),n=!1,r=0,s=System.Double.min,a=0;a<i;a=a+1|0)s=Math.max(s,System.Array.getItem(this.SpecialRoot.getChildren(),a,OrgChart.Layout.BoxTree.Node).getState().BranchExterior.getRight());s=Math.max(s,o.getState().getRight()),u=System.Array.getItem(this.SpecialRoot.getChildren(),this.SpecialRoot.getState().NumberOfSiblings,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.AdjustSpacer(u.getState(),s,System.Array.getItem(this.SpecialRoot.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().SiblingsRowV.From,this.SiblingSpacing,o.getState().SiblingsRowV.To-System.Array.getItem(this.SpecialRoot.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().SiblingsRowV.From),e.Boundary.MergeFrom$1(u)}OrgChart.Layout.LayoutAlgorithm.AlignHorizontalCenters(t,e,this.EnumerateSiblings(this.Iterator.MaxOnLeft,this.Iterator.Count))},EnumerateSiblings:function(t,e){for(var n=[],r=t;r<e;r=r+1|0)n.push(System.Array.getItem(this.SpecialRoot.getChildren(),r,OrgChart.Layout.BoxTree.Node));return System.Array.toEnumerable(n)},RouteConnectors:function(){throw new System.NotSupportedException}}),Bridge.define("OrgChart.Layout.MultiLineFishboneLayoutStrategy.SingleFishboneLayoutAdapter.TreeNodeView",{inherits:[OrgChart.Layout.BoxTree.Node],ctor:function(t){this.$initialize(),OrgChart.Layout.BoxTree.Node.ctor.call(this,t)},Prepare:function(t){null==this.getChildren()?this.setChildren(new(System.Collections.Generic.List$1(OrgChart.Layout.BoxTree.Node))(t)):System.Array.clear(this.getChildren(),OrgChart.Layout.BoxTree.Node)},AddChildView:function(t){System.Array.add(this.getChildren(),t,OrgChart.Layout.BoxTree.Node)}}),Bridge.define("OrgChart.Layout.SingleColumnLayoutStrategy",{inherits:[OrgChart.Layout.LayoutStrategyBase],getSupportsAssistants:function(){return!0},PreProcessThisNode:function(t,e){if(this.ParentAlignment!==OrgChart.Layout.BranchParentAlignment.Left&&this.ParentAlignment!==OrgChart.Layout.BranchParentAlignment.Right)throw new System.InvalidOperationException("Unsupported value for ParentAlignment");var n;e.getState().NumberOfSiblings=e.getElement().IsCollapsed?0:e.getChildCount(),0<e.getState().NumberOfSiblings&&0<e.getLevel()&&(e.getState().NumberOfSiblingColumns=1,e.getState().NumberOfSiblingRows=e.getChildCount(),n=OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,e.getElement().Id,!1),e.AddRegularChild(n))},ApplyVerticalLayout:function(t,e){var n,r,i=e.BranchRoot;for(0===i.getLevel()&&(i.getState().SiblingsRowV=new OrgChart.Layout.Dimensions.$ctor1(i.getState().getTop(),i.getState().getBottom())),null!=i.getAssistantsRoot()&&(OrgChart.Layout.LayoutAlgorithm.CopyExteriorFrom(i.getAssistantsRoot().getState(),i.getState()),OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,i.getAssistantsRoot())),n=new OrgChart.Layout.Dimensions.$ctor1(i.getState().SiblingsRowV.From,null==i.getAssistantsRoot()?i.getState().SiblingsRowV.To:i.getState().BranchExterior.getBottom()),r=0;r<i.getState().NumberOfSiblings;r=r+1|0){var o=System.Array.getItem(i.getChildren(),r,OrgChart.Layout.BoxTree.Node),s=o.getState(),a=n.To+(0===r?this.ParentChildSpacing:this.SiblingSpacing);OrgChart.Layout.LayoutAlgorithm.MoveTo(o.getState(),s.getLeft(),a),o.getState().BranchExterior=new OrgChart.Layout.Rect.$ctor1(o.getState().TopLeft,o.getState().Size),s=new OrgChart.Layout.Dimensions.$ctor1(a,a+s.Size.Height),(o=System.Array.getItem(i.getChildren(),r,OrgChart.Layout.BoxTree.Node)).getState().SiblingsRowV=s,OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,o),o=o.getState().BranchExterior.getBottom(),n=new OrgChart.Layout.Dimensions.$ctor1(s.From,Math.max(o,s.To))}},ApplyHorizontalLayout:function(t,e){var n,r,i,o,s,a=e.BranchRoot,u=a.getState();for(null!=a.getAssistantsRoot()&&OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,a.getAssistantsRoot()),n=0;n<u.NumberOfSiblings;n=n+1|0)r=System.Array.getItem(a.getChildren(),n,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,r);if(o=OrgChart.Layout.LayoutAlgorithm.AlignHorizontalCenters(t,e,this.EnumerateColumn(a)),0<a.getLevel()&&0<a.getChildCount()){if(i=a.getState(),this.ParentAlignment===OrgChart.Layout.BranchParentAlignment.Left)s=i.getCenterH()+this.ParentConnectorShield/2-o.From;else{if(this.ParentAlignment!==OrgChart.Layout.BranchParentAlignment.Right)throw new System.InvalidOperationException("Invalid ParentAlignment setting");s=i.getCenterH()-this.ParentConnectorShield/2-o.To}OrgChart.Layout.LayoutAlgorithm.MoveChildrenOnly(t,e,s),null!=(o=0<a.getLevel()?System.Array.getItem(a.getChildren(),a.getChildCount()-1|0,OrgChart.Layout.BoxTree.Node):null)&&(e=a.getState().getBottom(),s=System.Array.getItem(a.getChildren(),a.getChildCount()-2|0,OrgChart.Layout.BoxTree.Node).getState().getBottom(),OrgChart.Layout.LayoutAlgorithm.AdjustSpacer(o.getState(),i.getCenterH()-this.ParentConnectorShield/2,e,this.ParentConnectorShield,s-e),t.MergeSpacer(o))}},EnumerateColumn:function(t){for(var e=[],n=0;n<t.getState().NumberOfSiblings;n=n+1|0)e.push(System.Array.getItem(t.getChildren(),n,OrgChart.Layout.BoxTree.Node));return System.Array.toEnumerable(e)},RouteConnectors:function(t,e){var n,r,i;if(0!==e.getChildCount()){var o=1+e.getState().NumberOfSiblings|0,s=System.Array.init(o,function(){return new OrgChart.Layout.Edge}),a=e.getState(),u=a.getCenterH(),o=System.Array.getItem(e.getChildren(),e.getState().NumberOfSiblings-1|0,OrgChart.Layout.BoxTree.Node).getState().getCenterV()-e.getState().getBottom();for(s[0]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(u,a.getBottom()),new OrgChart.Layout.Point.$ctor1(u,a.getBottom()+o)),n=0;n<e.getState().NumberOfSiblings;n=n+1|0)r=System.Array.getItem(e.getChildren(),n,OrgChart.Layout.BoxTree.Node).getState(),i=this.ParentAlignment===OrgChart.Layout.BranchParentAlignment.Left?r.getLeft():r.getRight(),s[1+n|0]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(u,r.getCenterV()),new OrgChart.Layout.Point.$ctor1(i,r.getCenterV()));e.getState().Connector=new OrgChart.Layout.Connector(s)}}}),Bridge.define("OrgChart.Layout.StackingLayoutStrategy",{inherits:[OrgChart.Layout.LayoutStrategyBase],Orientation:0,ctor:function(){this.$initialize(),OrgChart.Layout.LayoutStrategyBase.ctor.call(this),this.Orientation=OrgChart.Layout.StackOrientation.SingleRowHorizontal,this.ParentAlignment=OrgChart.Layout.BranchParentAlignment.InvalidValue,this.ChildConnectorHookLength=0,this.ParentConnectorShield=0,this.SiblingSpacing=5},getSupportsAssistants:function(){return!1},PreProcessThisNode:function(t,e){if(e.getState().NumberOfSiblings=e.getElement().IsCollapsed?0:e.getChildCount(),0<e.getState().NumberOfSiblings&&this.Orientation!==OrgChart.Layout.StackOrientation.SingleRowHorizontal&&this.Orientation!==OrgChart.Layout.StackOrientation.SingleColumnVertical)throw new System.InvalidOperationException("Unsupported value for orientation: "+System.Enum.toString(OrgChart.Layout.StackOrientation,this.Orientation))},ApplyVerticalLayout:function(t,e){var n,r,i,o,s,a,u,l,c,g=e.BranchRoot;if(0===g.getLevel()&&(g.getState().SiblingsRowV=new OrgChart.Layout.Dimensions.$ctor1(g.getState().getTop(),g.getState().getBottom())),0!==g.getState().NumberOfSiblings)if(n=OrgChart.Layout.Dimensions.MinMax(),this.Orientation===OrgChart.Layout.StackOrientation.SingleRowHorizontal){for(r=null==g.getAssistantsRoot()?g.getState().SiblingsRowV.To+this.ParentChildSpacing:g.getState().BranchExterior.getBottom()+this.ParentChildSpacing,i=0;i<g.getState().NumberOfSiblings;i=i+1|0)s=(o=System.Array.getItem(g.getChildren(),i,OrgChart.Layout.BoxTree.Node)).getState(),OrgChart.Layout.LayoutAlgorithm.MoveTo(o.getState(),0,r),o.getState().BranchExterior=new OrgChart.Layout.Rect.$ctor1(o.getState().TopLeft,o.getState().Size),n=OrgChart.Layout.Dimensions.op_Addition(n,new OrgChart.Layout.Dimensions.$ctor1(r,r+s.Size.Height));for(n=new OrgChart.Layout.Dimensions.$ctor1(n.From,n.To),a=0;a<g.getState().NumberOfSiblings;a=a+1|0)(u=System.Array.getItem(g.getChildren(),a,OrgChart.Layout.BoxTree.Node)).getState().SiblingsRowV=n,OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,u)}else if(this.Orientation===OrgChart.Layout.StackOrientation.SingleColumnVertical)for(l=new OrgChart.Layout.Dimensions.$ctor1(g.getState().SiblingsRowV.From,g.getState().SiblingsRowV.To),c=0;c<g.getState().NumberOfSiblings;c=c+1|0){var h=System.Array.getItem(g.getChildren(),c,OrgChart.Layout.BoxTree.Node),m=h.getState(),f=l.To+(0===c?this.ParentChildSpacing:this.SiblingSpacing);OrgChart.Layout.LayoutAlgorithm.MoveTo(h.getState(),m.getLeft(),f),h.getState().BranchExterior=new OrgChart.Layout.Rect.$ctor1(h.getState().TopLeft,h.getState().Size),m=new OrgChart.Layout.Dimensions.$ctor1(f,f+m.Size.Height),(h=System.Array.getItem(g.getChildren(),c,OrgChart.Layout.BoxTree.Node)).getState().SiblingsRowV=m,OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,h),h=h.getState().BranchExterior.getBottom(),l=new OrgChart.Layout.Dimensions.$ctor1(m.From,Math.max(h,m.To))}},ApplyHorizontalLayout:function(t,e){for(var n,r,i,o=e.BranchRoot,s=Bridge.getEnumerator(o.getChildren(),OrgChart.Layout.BoxTree.Node);s.moveNext();)n=s.getCurrent(),OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,n);0<o.getChildCount()&&(this.Orientation===OrgChart.Layout.StackOrientation.SingleRowHorizontal?(r=System.Array.getItem(o.getChildren(),o.getState().NumberOfSiblings-1|0,OrgChart.Layout.BoxTree.Node).getState().getRight()-System.Array.getItem(o.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().getLeft(),o.getState().Size=new OrgChart.Layout.Size.$ctor1(Math.max(o.getState().Size.Width,r),o.getState().Size.Height),i=(System.Array.getItem(o.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().getLeft()+System.Array.getItem(o.getChildren(),o.getChildCount()-1|0,OrgChart.Layout.BoxTree.Node).getState().getRight())/2,r=o.getState().getCenterH(),OrgChart.Layout.LayoutAlgorithm.MoveChildrenOnly(t,e,r-i)):this.Orientation===OrgChart.Layout.StackOrientation.SingleColumnVertical&&(OrgChart.Layout.LayoutAlgorithm.AlignHorizontalCenters(t,e,o.getChildren()),i=System.Array.getItem(o.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().getCenterH(),o=o.getState().getCenterH(),OrgChart.Layout.LayoutAlgorithm.MoveChildrenOnly(t,e,o-i)))},RouteConnectors:function(){}}),Bridge.define("OrgChart.Test.TestDataItem",{inherits:[OrgChart.Layout.IChartDataItem],config:{properties:{Id:null,IsAssistant:!1,ParentId:null,String1:null,String2:null,Date1:null},alias:["getId","OrgChart$Layout$IChartDataItem$getId","setId","OrgChart$Layout$IChartDataItem$setId","getIsAssistant","OrgChart$Layout$IChartDataItem$getIsAssistant","setIsAssistant","OrgChart$Layout$IChartDataItem$setIsAssistant"],init:function(){this.Date1=new Date(-864e13)}}}),Bridge.define("OrgChart.Test.TestDataSource",{inherits:[OrgChart.Layout.IChartDataSource],Items:null,config:{alias:["getAllDataItemIds","OrgChart$Layout$IChartDataSource$getAllDataItemIds","getGetParentKeyFunc","OrgChart$Layout$IChartDataSource$getGetParentKeyFunc","getGetDataItemFunc","OrgChart$Layout$IChartDataSource$getGetDataItemFunc"],init:function(){this.Items=new(System.Collections.Generic.Dictionary$2(String,OrgChart.Test.TestDataItem))}},getAllDataItemIds:function(){return System.Linq.Enumerable.from(this.Items.getKeys()).orderBy(s.$.OrgChart.Test.TestDataSource.f1)},getGetParentKeyFunc:function(){return Bridge.fn.bind(this,this.GetParentKey)},getGetDataItemFunc:function(){return Bridge.fn.bind(this,this.GetDataItem)},GetParentKey:function(t){return this.Items.get(t).getParentId()},GetDataItem:function(t){return this.Items.get(t)}}),Bridge.ns("OrgChart.Test.TestDataSource",s.$),Bridge.apply(s.$.OrgChart.Test.TestDataSource,{f1:function(t){return t}}),Bridge.define("OrgChart.Layout.MultiLineFishboneLayoutStrategy",{inherits:[OrgChart.Layout.LinearLayoutStrategy],MaxGroups:4,getSupportsAssistants:function(){return!0},PreProcessThisNode:function(t,e){var n,r;if(this.MaxGroups<=0)throw new System.InvalidOperationException("MaxGroups must be a positive value");if(e.getChildCount()<=(2*this.MaxGroups|0))OrgChart.Layout.LinearLayoutStrategy.prototype.PreProcessThisNode.call(this,t,e);else if(e.getState().NumberOfSiblings=e.getChildCount(),0<e.getState().NumberOfSiblings){for(e.getState().NumberOfSiblingColumns=this.MaxGroups,e.getState().NumberOfSiblingRows=0|Bridge.Int.div(e.getState().NumberOfSiblings,2*this.MaxGroups|0),e.getState().NumberOfSiblings%(2*this.MaxGroups|0)!=0&&(e.getState().NumberOfSiblingRows=e.getState().NumberOfSiblingRows+1|0),t=OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,e.getElement().Id,!1),e.AddRegularChild(t),n=0;n<e.getState().NumberOfSiblingColumns;n=n+1|0)r=OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,e.getElement().Id,!1),e.AddRegularChild(r);1<e.getState().NumberOfSiblingColumns&&(t=OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,e.getElement().Id,!1),e.AddRegularChild(t))}},ApplyVerticalLayout:function(t,e){var n,r=e.BranchRoot;if(r.getState().NumberOfSiblings<=(2*this.MaxGroups|0))OrgChart.Layout.LinearLayoutStrategy.prototype.ApplyVerticalLayout.call(this,t,e);else for(0===r.getLevel()&&(r.getState().SiblingsRowV=new OrgChart.Layout.Dimensions.$ctor1(r.getState().getTop(),r.getState().getBottom())),null!=r.getAssistantsRoot()&&(OrgChart.Layout.LayoutAlgorithm.CopyExteriorFrom(r.getAssistantsRoot().getState(),r.getState()),OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,r.getAssistantsRoot())),n=new OrgChart.Layout.MultiLineFishboneLayoutStrategy.SingleFishboneLayoutAdapter(r);n.NextGroup();)OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,n.SpecialRoot)},ApplyHorizontalLayout:function(t,e){var n,r=e.BranchRoot;if(r.getState().NumberOfSiblings<=(2*this.MaxGroups|0))OrgChart.Layout.LinearLayoutStrategy.prototype.ApplyHorizontalLayout.call(this,t,e);else{for(0===r.getLevel()&&(r.getState().SiblingsRowV=new OrgChart.Layout.Dimensions.$ctor1(r.getState().getTop(),r.getState().getBottom())),null!=r.getAssistantsRoot()&&OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,r.getAssistantsRoot()),n=new OrgChart.Layout.MultiLineFishboneLayoutStrategy.SingleFishboneLayoutAdapter(r);n.NextGroup();)OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,n.SpecialRoot);var i,o,s,a,u,l=r.getState();0<r.getLevel()&&(s=1<r.getState().NumberOfSiblingColumns?(i=System.Array.getItem(r.getChildren(),r.getState().NumberOfSiblings+1|0,OrgChart.Layout.BoxTree.Node).getState().getCenterH(),o=System.Array.getItem(r.getChildren(),r.getState().NumberOfSiblings+r.getState().NumberOfSiblingColumns|0,OrgChart.Layout.BoxTree.Node).getState().getCenterH(),o=1===r.getState().NumberOfSiblings||this.ParentAlignment===OrgChart.Layout.BranchParentAlignment.Center?i+(o-i)/2:this.ParentAlignment===OrgChart.Layout.BranchParentAlignment.Left?i+this.ChildConnectorHookLength:o-this.ChildConnectorHookLength,l.getCenterH()-o):(s=System.Array.getItem(r.getChildren(),1+r.getState().NumberOfSiblings|0,OrgChart.Layout.BoxTree.Node).getState().getCenterH(),l.getCenterH()-s),OrgChart.Layout.LayoutAlgorithm.MoveChildrenOnly(t,e,s)),0<r.getLevel()&&(u=r.getState().NumberOfSiblings,a=System.Array.getItem(r.getChildren(),u,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.AdjustSpacer(a.getState(),l.getCenterH()-this.ParentConnectorShield/2,l.getBottom(),this.ParentConnectorShield,System.Array.getItem(r.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().SiblingsRowV.From-l.getBottom()),t.MergeSpacer(a),u=(u=u+1|0)+r.getState().NumberOfSiblingColumns|0,1<r.getState().NumberOfSiblingColumns)&&(l=System.Array.getItem(r.getChildren(),u,OrgChart.Layout.BoxTree.Node),a=System.Array.getItem(r.getChildren(),r.getState().NumberOfSiblings+1|0,OrgChart.Layout.BoxTree.Node).getState().TopLeft,u=System.Array.getItem(r.getChildren(),u-1|0,OrgChart.Layout.BoxTree.Node).getState().getRight(),OrgChart.Layout.LayoutAlgorithm.AdjustSpacer(l.getState(),a.X,a.Y-this.ParentChildSpacing,u-a.X,this.ParentChildSpacing),t.MergeSpacer(l))}},RouteConnectors:function(t,e){var n,r,i;if(e.getState().NumberOfSiblings<=(2*this.MaxGroups|0))OrgChart.Layout.LinearLayoutStrategy.prototype.RouteConnectors.call(this,t,e);else{u=(1+e.getState().NumberOfSiblings|0)+e.getState().NumberOfSiblingColumns|0,1<e.getState().NumberOfSiblingColumns&&(u=u+1|0);var o=System.Array.init(u,function(){return new OrgChart.Layout.Edge}),s=e.getState(),t=s.getCenterH(),a=0,u=System.Array.getItem(e.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().SiblingsRowV.From-s.getBottom();for(o[Bridge.identity(a,a=a+1|0)]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(t,s.getBottom()),new OrgChart.Layout.Point.$ctor1(t,s.getBottom()+u-this.ChildConnectorHookLength)),n=new OrgChart.Layout.MultiLineFishboneLayoutStrategy.SingleFishboneLayoutAdapter.GroupIterator(e.getState().NumberOfSiblings,e.getState().NumberOfSiblingColumns);n.NextGroup();)for(var l=System.Array.getItem(e.getChildren(),(1+e.getState().NumberOfSiblings|0)+n.Group|0,OrgChart.Layout.BoxTree.Node).getState(),c=l.getCenterH(),g=!0,h=0,m=n.FromIndex;m<(n.FromIndex+n.Count|0);m=m+1|0)r=g?System.Array.getItem(e.getChildren(),m,OrgChart.Layout.BoxTree.Node).getState().getRight():System.Array.getItem(e.getChildren(),m,OrgChart.Layout.BoxTree.Node).getState().getLeft(),i=System.Array.getItem(e.getChildren(),m,OrgChart.Layout.BoxTree.Node).getState().getCenterV(),o[Bridge.identity(a,a=a+1|0)]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(c,i),new OrgChart.Layout.Point.$ctor1(r,i)),(h=h+1|0)===n.MaxOnLeft&&(h=0,g&&(o[(1+e.getState().NumberOfSiblings|0)+n.Group|0]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(l.getCenterH(),l.getTop()-this.ChildConnectorHookLength),new OrgChart.Layout.Point.$ctor1(l.getCenterH(),System.Array.getItem(e.getChildren(),m,OrgChart.Layout.BoxTree.Node).getState().getCenterV()))),g=!g);a=a+e.getState().NumberOfSiblingColumns|0,1<e.getState().NumberOfSiblingColumns&&(s=System.Array.getItem(e.getChildren(),1+e.getState().NumberOfSiblings|0,OrgChart.Layout.BoxTree.Node).getState(),u=System.Array.getItem(e.getChildren(),((1+e.getState().NumberOfSiblings|0)+e.getState().NumberOfSiblingColumns|0)-1|0,OrgChart.Layout.BoxTree.Node).getState(),o[a]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(s.getCenterH(),s.getTop()-this.ChildConnectorHookLength),new OrgChart.Layout.Point.$ctor1(u.getCenterH(),u.getTop()-this.ChildConnectorHookLength))),e.getState().Connector=new OrgChart.Layout.Connector(o)}}}),Bridge.define("OrgChart.Layout.MultiLineHangerLayoutStrategy",{inherits:[OrgChart.Layout.LinearLayoutStrategy],MaxSiblingsPerRow:4,getSupportsAssistants:function(){return!0},PreProcessThisNode:function(t,e){var n,r,i,o;if(this.MaxSiblingsPerRow<=0||this.MaxSiblingsPerRow%2!=0)throw new System.InvalidOperationException("MaxSiblingsPerRow must be a positive even value");if(e.getChildCount()<=this.MaxSiblingsPerRow)OrgChart.Layout.LinearLayoutStrategy.prototype.PreProcessThisNode.call(this,t,e);else if(e.getState().NumberOfSiblings=e.getChildCount(),0<e.getState().NumberOfSiblings){for(t=e.getChildCount()%this.MaxSiblingsPerRow,e.getState().NumberOfSiblingColumns=1+this.MaxSiblingsPerRow|0,e.getState().NumberOfSiblingRows=0|Bridge.Int.div(e.getChildCount(),this.MaxSiblingsPerRow),0!=t&&(e.getState().NumberOfSiblingRows=e.getState().NumberOfSiblingRows+1|0),e.getState().NumberOfSiblings=e.getChildCount()+e.getState().NumberOfSiblingRows|0,0<t&&t<=(0|Bridge.Int.div(this.MaxSiblingsPerRow,2))&&(e.getState().NumberOfSiblings=e.getState().NumberOfSiblings-1|0),n=0|Bridge.Int.div(this.MaxSiblingsPerRow,2);n<e.getState().NumberOfSiblings;)r=OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,e.getElement().Id,!1),e.InsertRegularChild(n,r),n=n+e.getState().NumberOfSiblingColumns|0;for(t=OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,e.getElement().Id,!1),e.AddRegularChild(t),i=0;i<e.getState().NumberOfSiblingRows;i=i+1|0)o=OrgChart.Layout.Box.Special(OrgChart.Layout.Box.None,e.getElement().Id,!1),e.AddRegularChild(o)}},ApplyVerticalLayout:function(t,e){var n,r,i,o,s,a,u,l,c,g=e.BranchRoot;if(g.getState().NumberOfSiblings<=this.MaxSiblingsPerRow)OrgChart.Layout.LinearLayoutStrategy.prototype.ApplyVerticalLayout.call(this,t,e);else for(0===g.getLevel()&&(g.getState().SiblingsRowV=new OrgChart.Layout.Dimensions.$ctor1(g.getState().getTop(),g.getState().getBottom())),null!=g.getAssistantsRoot()&&(OrgChart.Layout.LayoutAlgorithm.CopyExteriorFrom(g.getAssistantsRoot().getState(),g.getState()),OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,g.getAssistantsRoot())),n=new OrgChart.Layout.Dimensions.$ctor1(g.getState().SiblingsRowV.From,null==g.getAssistantsRoot()?g.getState().SiblingsRowV.To:g.getState().BranchExterior.getBottom()),r=0;r<g.getState().NumberOfSiblingRows;r=r+1|0){for(var h=OrgChart.Layout.Dimensions.MinMax(),m=0===r?this.ParentChildSpacing:this.SiblingSpacing,f=r*g.getState().NumberOfSiblingColumns|0,d=Math.min(f+g.getState().NumberOfSiblingColumns|0,g.getState().NumberOfSiblings),y=f;y<d;y=y+1|0)(i=System.Array.getItem(g.getChildren(),y,OrgChart.Layout.BoxTree.Node)).getElement().IsSpecial||(o=i.getState(),s=n.To+m,OrgChart.Layout.LayoutAlgorithm.MoveTo(i.getState(),o.getLeft(),s),i.getState().BranchExterior=new OrgChart.Layout.Rect.$ctor1(i.getState().TopLeft,i.getState().Size),h=OrgChart.Layout.Dimensions.op_Addition(h,new OrgChart.Layout.Dimensions.$ctor1(s,s+o.Size.Height)));for(h=new OrgChart.Layout.Dimensions.$ctor1(h.From,h.To),a=System.Double.min,u=f;u<d;u=u+1|0)(l=System.Array.getItem(g.getChildren(),u,OrgChart.Layout.BoxTree.Node)).getState().SiblingsRowV=h,OrgChart.Layout.LayoutAlgorithm.VerticalLayout(t,l),a=Math.max(a,l.getState().BranchExterior.getBottom());n=new OrgChart.Layout.Dimensions.$ctor1(h.From,Math.max(a,h.To)),(c=f+(0|Bridge.Int.div(g.getState().NumberOfSiblingColumns,2))|0)<g.getState().NumberOfSiblings&&(f=(r===(g.getState().NumberOfSiblingRows-1|0)?System.Array.getItem(g.getChildren(),c-1|0,OrgChart.Layout.BoxTree.Node).getState().SiblingsRowV:n).To,c=System.Array.getItem(g.getChildren(),c,OrgChart.Layout.BoxTree.Node).getState(),OrgChart.Layout.LayoutAlgorithm.AdjustSpacer(c,0,n.From,this.ParentConnectorShield,f-n.From))}},ApplyHorizontalLayout:function(t,e){var n,r,i,o,s,a,u,l=e.BranchRoot;if(l.getState().NumberOfSiblings<=this.MaxSiblingsPerRow)OrgChart.Layout.LinearLayoutStrategy.prototype.ApplyHorizontalLayout.call(this,t,e);else{for(null!=l.getAssistantsRoot()&&OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,l.getAssistantsRoot()),n=0;n<l.getState().NumberOfSiblingColumns;n=n+1|0){for(r=0;r<l.getState().NumberOfSiblingRows&&!((i=(r*l.getState().NumberOfSiblingColumns|0)+n|0)>=l.getState().NumberOfSiblings);r=r+1|0)o=System.Array.getItem(l.getChildren(),i,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.HorizontalLayout(t,o);OrgChart.Layout.LayoutAlgorithm.AlignHorizontalCenters(t,e,this.EnumerateColumn(l,n))}var c=l.getState(),g=System.Array.getItem(l.getChildren(),0|Bridge.Int.div(l.getState().NumberOfSiblingColumns,2),OrgChart.Layout.BoxTree.Node).getState().getCenterH(),g=c.getCenterH()-g;for(OrgChart.Layout.LayoutAlgorithm.MoveChildrenOnly(t,e,g),s=System.Array.getItem(l.getChildren(),l.getState().NumberOfSiblings,OrgChart.Layout.BoxTree.Node),OrgChart.Layout.LayoutAlgorithm.AdjustSpacer(s.getState(),c.getCenterH()-this.ParentConnectorShield/2,c.getBottom(),this.ParentConnectorShield,System.Array.getItem(l.getChildren(),0,OrgChart.Layout.BoxTree.Node).getState().SiblingsRowV.From-c.getBottom()),t.MergeSpacer(s),a=this.ParentChildSpacing,u=0;u<l.getState().NumberOfSiblings;u=u+l.getState().NumberOfSiblingColumns|0){var h=System.Array.getItem(l.getChildren(),u,OrgChart.Layout.BoxTree.Node).getState(),m=System.Array.getItem(l.getChildren(),Math.min((u+l.getState().NumberOfSiblingColumns|0)-1|0,l.getState().NumberOfSiblings-1|0),OrgChart.Layout.BoxTree.Node).getState(),f=System.Array.getItem(l.getChildren(),(1+l.getState().NumberOfSiblings|0)+(0|Bridge.Int.div(u,l.getState().NumberOfSiblingColumns))|0,OrgChart.Layout.BoxTree.Node),m=m.getRight()>=s.getState().getRight()?m.getRight()-h.getLeft():s.getState().getRight()-h.getLeft();OrgChart.Layout.LayoutAlgorithm.AdjustSpacer(f.getState(),h.getLeft(),h.SiblingsRowV.From-a,m,a),t.MergeSpacer(f),a=this.SiblingSpacing}}},EnumerateColumn:function(t,e){for(var n,r=[],i=0;i<t.getState().NumberOfSiblingRows&&!((n=(i*t.getState().NumberOfSiblingColumns|0)+e|0)>=t.getState().NumberOfSiblings);i=i+1|0)r.push(System.Array.getItem(t.getChildren(),n,OrgChart.Layout.BoxTree.Node));return System.Array.toEnumerable(r)},RouteConnectors:function(t,e){var n,r,i,o,s,a,u,l,c,g;if(e.getState().NumberOfSiblings<=this.MaxSiblingsPerRow)OrgChart.Layout.LinearLayoutStrategy.prototype.RouteConnectors.call(this,t,e);else{for(r=1+e.getState().NumberOfSiblingRows|0,n=Bridge.getEnumerator(e.getChildren(),OrgChart.Layout.BoxTree.Node);n.moveNext();)n.getCurrent().getElement().IsSpecial||(r=r+1|0);var h=System.Array.init(r,function(){return new OrgChart.Layout.Edge}),m=e.getState(),f=m.getCenterH(),t=System.Array.getItem(e.getChildren(),e.getState().NumberOfSiblings-1|0,OrgChart.Layout.BoxTree.Node).getState().SiblingsRowV.From-this.ChildConnectorHookLength-m.getBottom();for(h[0]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(f,m.getBottom()),new OrgChart.Layout.Point.$ctor1(f,m.getBottom()+t)),i=1,o=0;o<e.getState().NumberOfSiblings;o=o+1|0)(a=System.Array.getItem(e.getChildren(),o,OrgChart.Layout.BoxTree.Node)).getElement().IsSpecial||(a=(s=a.getState()).getCenterH(),h[Bridge.identity(i,i=i+1|0)]=new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(a,s.getTop()),new OrgChart.Layout.Point.$ctor1(a,s.getTop()-this.ChildConnectorHookLength)));for(u=(r-e.getState().NumberOfSiblingRows|0)-1|0,l=1;l<(r-e.getState().NumberOfSiblingRows|0);l=l+this.MaxSiblingsPerRow|0)c=h[l],g=h[Math.min((l+this.MaxSiblingsPerRow|0)-1|0,u)],h[Bridge.identity(i,i=i+1|0)]=g.From.X<h[0].From.X?new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(c.To.X,c.To.Y),new OrgChart.Layout.Point.$ctor1(h[0].To.X,c.To.Y)):new OrgChart.Layout.Edge.$ctor1(new OrgChart.Layout.Point.$ctor1(c.To.X,c.To.Y),new OrgChart.Layout.Point.$ctor1(g.To.X,c.To.Y));e.getState().Connector=new OrgChart.Layout.Connector(h)}}});var t=Bridge.setMetadata,e=[OrgChart.Layout,System,System.Collections.Generic,OrgChart.Annotations,OrgChart.Test];t(e[3].ContractAnnotationAttribute,function(){return{m:[{at:[new OrgChart.Annotations.NotNullAttribute],a:2,n:"Contract",t:16,rt:String,g:{a:2,n:"get_Contract",t:8,sn:"getContract",rt:String},s:{a:1,n:"set_Contract",t:8,pi:[{n:"value",pt:String,ps:0}],sn:"setContract",rt:Object,p:[String]}}],am:!0}}),t(e[0].Boundary.Step,function(){return{at:[new System.Diagnostics.DebuggerDisplayAttribute("{X}, {Top} - {Bottom}, {Node.Element.Id}")],m:[{at:[new OrgChart.Annotations.NotNullAttribute],a:2,n:"Node",t:4,rt:e[0].BoxTree.Node,sn:"Node",ro:!0}]}}),t(e[0].Box,function(){return{at:[new System.Diagnostics.DebuggerDisplayAttribute("{Id}, Size.Width}x{Size.Height}")],m:[{at:[new OrgChart.Annotations.NotNullAttribute],a:2,n:"Special",is:!0,t:8,pi:[{n:"id",pt:e[1].Int32,ps:0},{n:"visualParentId",pt:e[1].Int32,ps:1},{n:"disableCollisionDetection",pt:Boolean,ps:2}],sn:"Special",rt:e[0].Box,p:[e[1].Int32,e[1].Int32,Boolean]},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"AssistantLayoutStrategyId",t:4,rt:String,sn:"AssistantLayoutStrategyId"},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"DataId",t:4,rt:String,sn:"DataId",ro:!0},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"LayoutStrategyId",t:4,rt:String,sn:"LayoutStrategyId"}]}}),t(e[0].BoxContainer,function(){return{m:[{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"SystemRoot",t:16,rt:e[0].Box,g:{a:2,n:"get_SystemRoot",t:8,sn:"getSystemRoot",rt:e[0].Box},s:{a:2,n:"set_SystemRoot",t:8,pi:[{n:"value",pt:e[0].Box,ps:0}],sn:"setSystemRoot",rt:Object,p:[e[0].Box]}}]}}),t(e[0].BoxTree.Node,function(){return{m:[{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"AssistantsRoot",t:16,rt:e[0].BoxTree.Node,g:{a:2,n:"get_AssistantsRoot",t:8,sn:"getAssistantsRoot",rt:e[0].BoxTree.Node},s:{a:3,n:"set_AssistantsRoot",t:8,pi:[{n:"value",pt:e[0].BoxTree.Node,ps:0}],sn:"setAssistantsRoot",rt:Object,p:[e[0].BoxTree.Node]}},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"Children",t:16,rt:e[2].IList$1(OrgChart.Layout.BoxTree.Node),g:{a:2,n:"get_Children",t:8,sn:"getChildren",rt:e[2].IList$1(OrgChart.Layout.BoxTree.Node)},s:{a:3,n:"set_Children",t:8,pi:[{n:"value",pt:e[2].IList$1(OrgChart.Layout.BoxTree.Node),ps:0}],sn:"setChildren",rt:Object,p:[e[2].IList$1(OrgChart.Layout.BoxTree.Node)]}},{at:[new OrgChart.Annotations.NotNullAttribute],a:2,n:"Element",t:16,rt:e[0].Box,g:{a:2,n:"get_Element",t:8,sn:"getElement",rt:e[0].Box},s:{a:1,n:"set_Element",t:8,pi:[{n:"value",pt:e[0].Box,ps:0}],sn:"setElement",rt:Object,p:[e[0].Box]}},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"ParentNode",t:16,rt:e[0].BoxTree.Node,g:{a:2,n:"get_ParentNode",t:8,sn:"getParentNode",rt:e[0].BoxTree.Node},s:{a:2,n:"set_ParentNode",t:8,pi:[{n:"value",pt:e[0].BoxTree.Node,ps:0}],sn:"setParentNode",rt:Object,p:[e[0].BoxTree.Node]}},{at:[new OrgChart.Annotations.NotNullAttribute],a:2,n:"State",t:16,rt:e[0].NodeLayoutInfo,g:{a:2,n:"get_State",t:8,sn:"getState",rt:e[0].NodeLayoutInfo},s:{a:1,n:"set_State",t:8,pi:[{n:"value",pt:e[0].NodeLayoutInfo,ps:0}],sn:"setState",rt:Object,p:[e[0].NodeLayoutInfo]}}]}}),t(e[0].Connector,function(){return{m:[{at:[new OrgChart.Annotations.NotNullAttribute],a:2,n:"Segments",t:16,rt:Array,g:{a:2,n:"get_Segments",t:8,sn:"getSegments",rt:Array},s:{a:1,n:"set_Segments",t:8,pi:[{n:"value",pt:Array,ps:0}],sn:"setSegments",rt:Object,p:[Array]}}]}}),t(e[0].Diagram,function(){return{m:[{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"VisualTree",t:16,rt:e[0].BoxTree,g:{a:2,n:"get_VisualTree",t:8,sn:"getVisualTree",rt:e[0].BoxTree},s:{a:2,n:"set_VisualTree",t:8,pi:[{n:"value",pt:e[0].BoxTree,ps:0}],sn:"setVisualTree",rt:Object,p:[e[0].BoxTree]}}]}}),t(e[0].DiagramLayoutSettings,function(){return{m:[{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"DefaultAssistantLayoutStrategyId",t:16,rt:String,g:{a:2,n:"get_DefaultAssistantLayoutStrategyId",t:8,sn:"getDefaultAssistantLayoutStrategyId",rt:String},s:{a:2,n:"set_DefaultAssistantLayoutStrategyId",t:8,pi:[{n:"value",pt:String,ps:0}],sn:"setDefaultAssistantLayoutStrategyId",rt:Object,p:[String]}},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"DefaultLayoutStrategyId",t:16,rt:String,g:{a:2,n:"get_DefaultLayoutStrategyId",t:8,sn:"getDefaultLayoutStrategyId",rt:String},s:{a:2,n:"set_DefaultLayoutStrategyId",t:8,pi:[{n:"value",pt:String,ps:0}],sn:"setDefaultLayoutStrategyId",rt:Object,p:[String]}},{at:[new OrgChart.Annotations.NotNullAttribute],a:2,n:"LayoutStrategies",t:16,rt:e[2].Dictionary$2(String,OrgChart.Layout.LayoutStrategyBase),g:{a:2,n:"get_LayoutStrategies",t:8,sn:"getLayoutStrategies",rt:e[2].Dictionary$2(String,OrgChart.Layout.LayoutStrategyBase)},s:{a:1,n:"set_LayoutStrategies",t:8,pi:[{n:"value",pt:e[2].Dictionary$2(String,OrgChart.Layout.LayoutStrategyBase),ps:0}],sn:"setLayoutStrategies",rt:Object,p:[e[2].Dictionary$2(String,OrgChart.Layout.LayoutStrategyBase)]}}]}}),t(e[0].Frame1,function(){return{at:[new System.Diagnostics.DebuggerDisplayAttribute("{Exterior.Left}:{Exterior.Top}, {Exterior.Size.Width}x{Exterior.Size.Height}")],m:[{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"Connector",t:4,rt:e[0].Connector,sn:"Connector"}]}}),t(e[0].IChartDataSource,function(){return{m:[{at:[new OrgChart.Annotations.NotNullAttribute],ab:!0,a:2,n:"AllDataItemIds",t:16,rt:e[2].IEnumerable$1(String),g:{ab:!0,a:2,n:"get_AllDataItemIds",t:8,sn:"OrgChart$Layout$IChartDataSource$getAllDataItemIds",rt:e[2].IEnumerable$1(String)},s:{ab:!0,a:1,n:"set_AllDataItemIds",t:8,pi:[{n:"value",pt:e[2].IEnumerable$1(String),ps:0}],sn:"OrgChart$Layout$IChartDataSource$setAllDataItemIds",rt:Object,p:[e[2].IEnumerable$1(String)]}},{at:[new OrgChart.Annotations.NotNullAttribute],ab:!0,a:2,n:"GetDataItemFunc",t:16,rt:Function,g:{ab:!0,a:2,n:"get_GetDataItemFunc",t:8,sn:"OrgChart$Layout$IChartDataSource$getGetDataItemFunc",rt:Function},s:{ab:!0,a:1,n:"set_GetDataItemFunc",t:8,pi:[{n:"value",pt:Function,ps:0}],sn:"OrgChart$Layout$IChartDataSource$setGetDataItemFunc",rt:Object,p:[Function]}},{at:[new OrgChart.Annotations.NotNullAttribute],ab:!0,a:2,n:"GetParentKeyFunc",t:16,rt:Function,g:{ab:!0,a:2,n:"get_GetParentKeyFunc",t:8,sn:"OrgChart$Layout$IChartDataSource$getGetParentKeyFunc",rt:Function},s:{ab:!0,a:1,n:"set_GetParentKeyFunc",t:8,pi:[{n:"value",pt:Function,ps:0}],sn:"OrgChart$Layout$IChartDataSource$setGetParentKeyFunc",rt:Object,p:[Function]}}]}}),t(e[0].LayoutState,function(){return{m:[{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"BoxSizeFunc",t:16,rt:Function,g:{a:2,n:"get_BoxSizeFunc",t:8,sn:"getBoxSizeFunc",rt:Function},s:{a:2,n:"set_BoxSizeFunc",t:8,pi:[{n:"value",pt:Function,ps:0}],sn:"setBoxSizeFunc",rt:Object,p:[Function]}},{at:[new OrgChart.Annotations.NotNullAttribute],a:2,n:"Diagram",t:16,rt:e[0].Diagram,g:{a:2,n:"get_Diagram",t:8,sn:"getDiagram",rt:e[0].Diagram},s:{a:1,n:"set_Diagram",t:8,pi:[{n:"value",pt:e[0].Diagram,ps:0}],sn:"setDiagram",rt:Object,p:[e[0].Diagram]}},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"LayoutOptimizerFunc",t:16,rt:Function,g:{a:2,n:"get_LayoutOptimizerFunc",t:8,sn:"getLayoutOptimizerFunc",rt:Function},s:{a:2,n:"set_LayoutOptimizerFunc",t:8,pi:[{n:"value",pt:Function,ps:0}],sn:"setLayoutOptimizerFunc",rt:Object,p:[Function]}},{at:[new OrgChart.Annotations.NotNullAttribute],a:1,n:"m_layoutStack",t:4,rt:e[2].Stack$1(OrgChart.Layout.LayoutState.LayoutLevel),sn:"m_layoutStack",ro:!0},{at:[new OrgChart.Annotations.NotNullAttribute],a:1,n:"m_pooledBoundaries",t:4,rt:e[2].Stack$1(OrgChart.Layout.Boundary),sn:"m_pooledBoundaries",ro:!0},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"BoundaryChanged",t:2,ad:{a:2,n:"add_BoundaryChanged",t:8,pi:[{n:"value",pt:Function,ps:0}],sn:"addBoundaryChanged",rt:Object,p:[Function]},r:{a:2,n:"remove_BoundaryChanged",t:8,pi:[{n:"value",pt:Function,ps:0}],sn:"removeBoundaryChanged",rt:Object,p:[Function]}},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"OperationChanged",t:2,ad:{a:2,n:"add_OperationChanged",t:8,pi:[{n:"value",pt:Function,ps:0}],sn:"addOperationChanged",rt:Object,p:[Function]},r:{a:2,n:"remove_OperationChanged",t:8,pi:[{n:"value",pt:Function,ps:0}],sn:"removeOperationChanged",rt:Object,p:[Function]}}]}}),t(e[0].LayoutState.LayoutLevel,function(){return{at:[new System.Diagnostics.DebuggerDisplayAttribute("{BranchRoot.Element.Id}, {Boundary.BoundingRect.Top}..{Boundary.BoundingRect.Bottom}")]}}),t(e[0].NodeLayoutInfo,function(){return{m:[{at:[new OrgChart.Annotations.NotNullAttribute],a:2,n:"RequireLayoutStrategy",t:8,sn:"RequireLayoutStrategy",rt:e[0].LayoutStrategyBase},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"Connector",t:4,rt:e[0].Connector,sn:"Connector"}]}}),t(e[0].Rect,function(){return{at:[new System.Diagnostics.DebuggerDisplayAttribute("{TopLeft.X}:{TopLeft.Y}, {Size.Width}x{Size.Height}")]}}),t(e[4].TestDataItem,function(){return{m:[{at:[new OrgChart.Annotations.NotNullAttribute],a:2,n:"Id",t:16,rt:String,g:{a:2,n:"get_Id",t:8,sn:"getId",rt:String},s:{a:2,n:"set_Id",t:8,pi:[{n:"value",pt:String,ps:0}],sn:"setId",rt:Object,p:[String]}},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"ParentId",t:16,rt:String,g:{a:2,n:"get_ParentId",t:8,sn:"getParentId",rt:String},s:{a:2,n:"set_ParentId",t:8,pi:[{n:"value",pt:String,ps:0}],sn:"setParentId",rt:Object,p:[String]}},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"String1",t:16,rt:String,g:{a:2,n:"get_String1",t:8,sn:"getString1",rt:String},s:{a:2,n:"set_String1",t:8,pi:[{n:"value",pt:String,ps:0}],sn:"setString1",rt:Object,p:[String]}},{at:[new OrgChart.Annotations.CanBeNullAttribute],a:2,n:"String2",t:16,rt:String,g:{a:2,n:"get_String2",t:8,sn:"getString2",rt:String},s:{a:2,n:"set_String2",t:8,pi:[{n:"value",pt:String,ps:0}],sn:"setString2",rt:Object,p:[String]}}]}})}),mxOrgChartLayout.prototype=new mxGraphLayout,(mxOrgChartLayout.prototype.constructor=mxOrgChartLayout).prototype.BRANCH_OPT_LINEAR="branchOptimizerAllLinear",mxOrgChartLayout.prototype.BRANCH_OPT_HANGER2="branchOptimizerAllHanger2",mxOrgChartLayout.prototype.BRANCH_OPT_HANGER4="branchOptimizerAllHanger4",mxOrgChartLayout.prototype.BRANCH_OPT_FISHBONE1="branchOptimizerAllFishbone1",mxOrgChartLayout.prototype.BRANCH_OPT_FISHBONE2="branchOptimizerAllFishbone2",mxOrgChartLayout.prototype.BRANCH_OPT_1COLUMN_L="branchOptimizerAllSingleColumnLeft",mxOrgChartLayout.prototype.BRANCH_OPT_1COLUMN_R="branchOptimizerAllSingleColumnRight",mxOrgChartLayout.prototype.BRANCH_OPT_SMART="branchOptimizerSmart",mxOrgChartLayout.prototype.execute=function(t){this.graph.model.beginUpdate();try{RPOrgChart.main(this.graph,t,this.branchOptimizer,this.parentChildSpacing,this.siblingSpacing,this.correctY)}finally{this.graph.model.endUpdate()}},Bridge.define("RPOrgChart",{statics:{config:{init:function(){}},main:function(t,e,n,r,i,o){Bridge.Console.log=console.log,Bridge.Console.error=console.error,Bridge.Console.debug=console.debug,RPOrgChart.graph=t,RPOrgChart.parent=e,RPOrgChart.dx=0,RPOrgChart.dy=0,"group"==e.style&&e.geometry&&(RPOrgChart.dx=e.geometry.x,RPOrgChart.dy=e.geometry.y),RPOrgChart.branchOptimizer=n,RPOrgChart.correctY=o,RPOrgChart.parentChildSpacing=parseInt(r),RPOrgChart.siblingSpacing=parseInt(i),RPOrgChart.buildChart(!0)},diagram:{},dataSource:{},buildChart:function(t){t&&RPOrgChart.initDiagram(),RPOrgChart.positionBoxes()},collapseAllBoxes:function(t,e){for(var n=t.getBoxesById().getValues().getEnumerator();n.moveNext();){var r=n.getCurrent();r.IsSpecial||(r.IsCollapsed=e)}},generateData:function(){for(var t=new OrgChart.Test.TestDataSource,e=RPOrgChart.graph,n=e.getChildVertices(RPOrgChart.parent),r=0;r<n.length;r++){var i,o,s=n[r];null!=s.geometry&&s.vertex&&s.parent==RPOrgChart.parent&&((i=null)!=(o=e.getIncomingEdges(s)[0])&&null!=o.source&&(i=o.source.id),(o=new OrgChart.Test.TestDataItem).Id=s.id,o.ParentId=i,t.Items.add(o.getId(),o))}return t},initDiagram:function(){var t=RPOrgChart.generateData();RPOrgChart.dataSource=t;var e=new OrgChart.Layout.BoxContainer.$ctor1(t);RPOrgChart.diagram=new OrgChart.Layout.Diagram,(t=RPOrgChart.diagram).setBoxes(e),(e=new OrgChart.Layout.LinearLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.Center,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("linear",e),(e=new OrgChart.Layout.MultiLineHangerLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.Center,e.MaxSiblingsPerRow=2,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("hanger2",e),(e=new OrgChart.Layout.MultiLineHangerLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.Center,e.MaxSiblingsPerRow=4,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("hanger4",e),(e=new OrgChart.Layout.SingleColumnLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.Right,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("singleColumnRight",e),(e=new OrgChart.Layout.SingleColumnLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.Left,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("singleColumnLeft",e),(e=new OrgChart.Layout.MultiLineFishboneLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.Center,e.MaxGroups=1,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("fishbone1",e),(e=new OrgChart.Layout.MultiLineFishboneLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.Center,e.MaxGroups=2,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("fishbone2",e),(e=new OrgChart.Layout.StackingLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.InvalidValue,e.Orientation=OrgChart.Layout.StackOrientation.SingleRowHorizontal,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("hstack",e),(e=new OrgChart.Layout.StackingLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.InvalidValue,e.Orientation=OrgChart.Layout.StackOrientation.SingleColumnVertical,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("vstack",e),(e=new OrgChart.Layout.StackingLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.InvalidValue,e.Orientation=OrgChart.Layout.StackOrientation.SingleColumnVertical,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("vstackMiddle",e),(e=new OrgChart.Layout.StackingLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.InvalidValue,e.Orientation=OrgChart.Layout.StackOrientation.SingleColumnVertical,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("vstackTop",e),(e=new OrgChart.Layout.FishboneAssistantsLayoutStrategy).ParentAlignment=OrgChart.Layout.BranchParentAlignment.Center,e.ParentChildSpacing=RPOrgChart.parentChildSpacing,e.SiblingSpacing=RPOrgChart.siblingSpacing,t.LayoutSettings.LayoutStrategies.add("assistants",e),t.LayoutSettings.DefaultLayoutStrategyId="vstack",t.LayoutSettings.DefaultAssistantLayoutStrategyId="assistants"},getBoxLevel:function(t,e){for(var n=0,r={};0<e.ParentId&&t.getBoxesById().tryGetValue(e.ParentId,r);)e=r.v,n++;return n},onLayoutStateChanged:function(t,e){e.State.getCurrentOperation()===OrgChart.Layout.LayoutState.Operation.PreprocessVisualTree&&RPOrgChart.renderBoxes()},renderBoxes:function(){RPOrgChart.diagram.getVisualTree().IterateParentFirst(function(t){var e=t.Element;if(e.getIsDataBound()){if(t.State.IsHidden)return!0;e.Size=RPOrgChart.getBoxElementSize(e.DataId)}return!0})},getBranchOptimizerFunc:function(){return RPOrgChart[RPOrgChart.branchOptimizer]},branchOptimizerAllLinear:function(t){return t.getIsAssistantRoot()?null:"linear"},branchOptimizerAllHanger2:function(t){return t.getIsAssistantRoot()?null:"hanger2"},branchOptimizerAllHanger4:function(t){return t.getIsAssistantRoot()?null:"hanger4"},branchOptimizerAllFishbone1:function(t){return t.getIsAssistantRoot()?null:"fishbone1"},branchOptimizerAllFishbone2:function(t){return t.getIsAssistantRoot()?null:"fishbone2"},branchOptimizerAllSingleColumnLeft:function(t){return t.getIsAssistantRoot()?null:"singleColumnRight"},branchOptimizerAllSingleColumnRight:function(t){return t.getIsAssistantRoot()?null:"singleColumnLeft"},branchOptimizerStackers:function(t){return t.getIsAssistantRoot()?null:0===t.Level?"vstackTop":1===t.Level?"vstackMiddle":"hstack"},branchOptimizerSmart:function(t){if(t.getIsAssistantRoot())return null;var e=t.getChildCount();if(e<=1)return"vstack";for(var n=0,r=0;r<e;r++)0<t.Children.getItem(r).getChildCount()&&n++;return n<=1?e<=4?"vstack":e<=8?"fishbone1":"fishbone2":"hanger4"},boxSizeFunc:function(t){return t=RPOrgChart.diagram.getBoxes().getBoxesByDataId().getItem(t).Id,RPOrgChart.diagram.getBoxes().getBoxesById().getItem(t).Size},getBoxElementSize:function(t){return t=RPOrgChart.graph.model.cells[t].geometry,new OrgChart.Layout.Size.$ctor1(t.width,t.height)},positionBoxes:function(){var t=RPOrgChart.diagram,e=new OrgChart.Layout.LayoutState(t);e.addOperationChanged(RPOrgChart.onLayoutStateChanged),e.BoxSizeFunc=Bridge.fn.bind(this,RPOrgChart.boxSizeFunc,null,!0),e.LayoutOptimizerFunc=Bridge.fn.bind(this,RPOrgChart.getBranchOptimizerFunc(),null,!0),OrgChart.Layout.LayoutAlgorithm.Apply(e);var v=-(e=OrgChart.Layout.LayoutAlgorithm.ComputeBranchVisualBoundingRect(t.getVisualTree())).getLeft()+e.getTop(),b=RPOrgChart.graph,B=b.model.cells,I=[];for(t.getVisualTree().IterateParentFirst(function(t){if(t.State.IsHidden)return!1;var e,n=t.Element;return n.getIsDataBound()&&((e=(n=B[n.DataId]).geometry.clone()).x=t.State.TopLeft.X+v,e.y=t.State.TopLeft.Y,b.model.setGeometry(n,e)),!0}),t.getVisualTree().IterateParentFirst(function(t){var i=RPOrgChart.correctY?Math.min(0,-RPOrgChart.parentChildSpacing/2+5):0;if(null!=t.State.Connector){function e(t,e){for(var n=t.geometry.clone(),r=0;e&&r<e.length;r++)e[r].corrected||(e[r].y+=i,e[r].corrected=!0);n.points=e,b.model.setGeometry(t,n),b.setCellStyles("entryX",null,[t]),b.setCellStyles("entryY",null,[t]),b.setCellStyles("exitX",null,[t]),b.setCellStyles("exitY",null,[t]),b.setCellStyles("edgeStyle","orthogonalEdgeStyle",[t])}function n(t,e){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}for(var r=B[t.Element.DataId],o=b.getOutgoingEdges(r),o={},s=0;s<t.State.Connector.Segments.length;s++){var a=t.State.Connector.Segments[s];a.mark=1<<s,a.From.X+=v,a.To.X+=v;var u=a.From.X,l=a.From.Y,c=a.To.X,g=a.To.Y;(u==c&&g<l||l==g&&c<u)&&(C=a.From,a.From=a.To,a.To=C)}for(s=0;s<t.State.Connector.Segments.length;s++){u=(a=t.State.Connector.Segments[s]).From.X,l=a.From.Y,c=a.To.X,g=a.To.Y;for(C=new mxPoint(u,l),I.push(C),C.mark=a.mark,null!=(h=o[u+","+l])?h.mark|=C.mark:o[u+","+l]=C,C=new mxPoint(c,g),I.push(C),C.mark=a.mark,null!=(h=o[c+","+g])?h.mark|=C.mark:o[c+","+g]=C,C=s+1;C<t.State.Connector.Segments.length;C++){var h,m=(h=t.State.Connector.Segments[C]).From.X,f=h.From.Y,d=h.To.X,y=h.To.Y;u==c&&l<=f&&f<=g&&m<=u&&u<=d?(d=new mxPoint(u,f),I.push(d),d.mark=a.mark|h.mark,null!=(h=o[u+","+f])?h.mark|=d.mark:o[u+","+f]=d):l==g&&u<=m&&m<=c&&f<=l&&l<=y&&(d=new mxPoint(m,l),I.push(d),d.mark=a.mark|h.mark,null!=(h=o[m+","+l])?h.mark|=d.mark:o[m+","+l]=d)}}var p=[];for(x in o)p.push(o[x]);if(p.sort(function(t,e){var n=t.y-e.y;return 0==n?t.x-e.x:n}),o=b.getOutgoingEdges(r),2==p.length&&1==o.length)e(o[0],p);else{t=function(t){for(var e=0;e<p.length;e++){var n=p[e];if(!w[n.x+","+n.y]&&n.mark&t.mark)return w[n.x+","+n.y]=!0,n}};for(var S,C=r.geometry,x=0;x<p.length;x++)if(n(C,p[x])){S=p[x];break}for(var w,C=0;C<o.length;C++)if(null!=o[C].target){for((w={})[S.x+","+S.y]=!0,x=o[C].target.geometry,r=[S],s=S,a=0;a<1e3;)if(a++,null==(u=t(s)))r.pop(),s=r[r.length-1];else if(r.push(u),n(x,s=u))break;if(2<r.length)for(s=r[0].x,a=r[r.length-1].x,x=r.length-2;0<x;x--)(a<s&&r[x].x<a||s<a&&r[x].x<s)&&r.splice(x,1);(x=o[C].geometry.clone()).points=r,RPOrgChart.graph.model.setGeometry(o[C],x),e(o[C],r)}}}return!0}),t=0;t<I.length;t++)delete I[t].mark,delete I[t].corrected}}}),Bridge.init();