EditorUi.initMinimalTheme=function(){if("1"!=urlParams.lightbox&&"0"!=urlParams.chrome&&void 0!==window.Format&&void 0!==window.Menus){var J=0;try{J=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}catch(e){}function n(t,e,i,n,o,r,a){t.editor.graph;var s=document.createElement("div");s.className="geSidebarContainer",s.style.position="absolute",s.style.width="100%",s.style.height="100%",s.style.border="1px solid whiteSmoke",s.style.overflowX="hidden",s.style.overflowY="auto",a(s),this.window=new mxWindow(e,s,i,n,o,r,!0,!0),this.window.destroyOnClose=!1,this.window.setMaximizable(!1),this.window.setResizable(!0),this.window.setClosable(!0),this.window.setVisible(!0),this.window.setLocation=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=Math.max(0,Math.min(e,i-this.table.clientWidth)),t=Math.max(0,Math.min(t,n-this.table.clientHeight-("1"==urlParams.sketch?3:48))),this.getX()==e&&this.getY()==t||mxWindow.prototype.setLocation.apply(this,arguments)},mxClient.IS_SF&&(this.window.div.onselectstart=mxUtils.bind(this,function(e){return null!=(e=null==e?window.event:e)&&t.isSelectionAllowed(e)}))}var e="#29b6f2";Editor.checkmarkImage=Graph.createSvgImage(22,18,'<path transform="translate(4 0)" d="M7.181,15.007a1,1,0,0,1-.793-0.391L3.222,10.5A1,1,0,1,1,4.808,9.274L7.132,12.3l6.044-8.86A1,1,0,1,1,14.83,4.569l-6.823,10a1,1,0,0,1-.8.437H7.181Z" fill="'+e+'"/>').src,mxWindow.prototype.closeImage=Graph.createSvgImage(18,10,'<path d="M 5 1 L 13 9 M 13 1 L 5 9" stroke="#C0C0C0" stroke-width="2"/>').src,mxWindow.prototype.minimizeImage=Graph.createSvgImage(14,10,'<path d="M 3 7 L 7 3 L 11 7" stroke="#C0C0C0" stroke-width="2" fill="none"/>').src,mxWindow.prototype.normalizeImage=Graph.createSvgImage(14,10,'<path d="M 3 3 L 7 7 L 11 3" stroke="#C0C0C0" stroke-width="2" fill="none"/>').src,mxConstraintHandler.prototype.pointImage=Graph.createSvgImage(5,5,'<path d="m 0 0 L 5 5 M 0 5 L 5 0" stroke-width="2" style="stroke-opacity:0.4" stroke="#ffffff"/><path d="m 0 0 L 5 5 M 0 5 L 5 0" stroke="'+e+'"/>'),mxOutline.prototype.sizerImage=null,mxConstants.VERTEX_SELECTION_COLOR="#C0C0C0",mxConstants.EDGE_SELECTION_COLOR="#C0C0C0",mxConstants.CONNECT_HANDLE_FILLCOLOR="#cee7ff",mxConstants.DEFAULT_VALID_COLOR=e,mxConstants.GUIDE_COLOR="#C0C0C0",mxConstants.HIGHLIGHT_STROKEWIDTH=5,mxConstants.HIGHLIGHT_OPACITY=35,mxConstants.OUTLINE_COLOR="#29b6f2",mxConstants.OUTLINE_HANDLE_FILLCOLOR="#29b6f2",mxConstants.OUTLINE_HANDLE_STROKECOLOR="#fff",Graph.prototype.svgShadowColor="#3D4574",Graph.prototype.svgShadowOpacity="0.4",Graph.prototype.svgShadowSize="0.6",Graph.prototype.svgShadowBlur="1.2",Format.inactiveTabBackgroundColor="#f0f0f0",mxGraphHandler.prototype.previewColor="#C0C0C0",mxRubberband.prototype.defaultOpacity=50,HoverIcons.prototype.inactiveOpacity=25,Format.prototype.showCloseButton=!1,EditorUi.prototype.closableScratchpad=!1,EditorUi.prototype.toolbarHeight="1"==urlParams.sketch?1:46,EditorUi.prototype.footerHeight=0,Graph.prototype.editAfterInsert="1"!=urlParams.sketch&&!mxClient.IS_IOS&&!mxClient.IS_ANDROID,EditorUi.prototype.setDarkMode=function(e){this.spinner.spin(document.body,mxResources.get("working")+"...")&&window.setTimeout(mxUtils.bind(this,function(){this.spinner.stop(),this.doSetDarkMode(e),null==urlParams.dark&&(mxSettings.settings.darkMode=e,mxSettings.save()),this.fireEvent(new mxEventObject("darkModeChanged"))}),0)};var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href",STYLE_PATH+"/dark.css"),i.setAttribute("charset","UTF-8"),i.setAttribute("type","text/css"),EditorUi.prototype.doSetDarkMode=function(e){var t;Editor.darkMode!=e&&(t=this.editor.graph,Editor.darkMode=e,this.spinner.opts.color=Editor.isDarkMode()?"#c0c0c0":"#000",this.setGridColor(Editor.isDarkMode()?t.view.defaultDarkGridColor:t.view.defaultGridColor),t.defaultPageBackgroundColor=Editor.isDarkMode()?Editor.darkColor:"#ffffff",t.defaultPageBorderColor=Editor.isDarkMode()?"#505759":"#ffffff",t.defaultForegroundColor=Editor.isDarkMode()?"#f0f0f0":"#000000",t.defaultThemeName=Editor.isDarkMode()?"darkTheme":"default-style2",t.graphHandler.previewColor=Editor.isDarkMode()?"#cccccc":"black",document.body.style.backgroundColor="1"==urlParams.embedInline?"transparent":Editor.isDarkMode()?Editor.darkColor:"#ffffff",t.loadStylesheet(),null!=this.actions.layersWindow&&(e=this.actions.layersWindow.window.isVisible(),this.actions.layersWindow.window.setVisible(!1),this.actions.layersWindow.destroy(),this.actions.layersWindow=null,e&&window.setTimeout(this.actions.get("layers").funct,0)),null!=this.menus.commentsWindow&&(this.menus.commentsWindow.window.setVisible(!1),this.menus.commentsWindow.destroy(),this.menus.commentsWindow=null),null!=this.ruler&&this.ruler.updateStyle(),Graph.prototype.defaultPageBackgroundColor=t.defaultPageBackgroundColor,Graph.prototype.defaultPageBorderColor=t.defaultPageBorderColor,Graph.prototype.defaultForegroundColor=t.defaultForegroundColor,Graph.prototype.defaultThemeName=t.defaultThemeName,StyleFormatPanel.prototype.defaultStrokeColor=Editor.isDarkMode()?"#cccccc":"black",BaseFormatPanel.prototype.buttonBackgroundColor=Editor.isDarkMode()?Editor.darkColor:"white",Format.inactiveTabBackgroundColor=Editor.isDarkMode()?"black":"#f0f0f0",Dialog.backdropColor=Editor.isDarkMode()?Editor.darkColor:"white",mxConstants.DROP_TARGET_COLOR=Editor.isDarkMode()?"#00ff00":"#0000FF",Editor.helpImage=Editor.isDarkMode()&&mxClient.IS_SVG?Editor.darkHelpImage:Editor.lightHelpImage,Editor.checkmarkImage=Editor.isDarkMode()&&mxClient.IS_SVG?Editor.darkCheckmarkImage:Editor.lightCheckmarkImage,o.innerHTML=Editor.createMinimalCss(),Editor.darkMode?null==i.parentNode&&document.getElementsByTagName("head")[0].appendChild(i):null!=i.parentNode&&i.parentNode.removeChild(i))},Editor.createMinimalCss=function(){return"* { -webkit-font-smoothing: antialiased; }html body td.mxWindowTitle > div > img { padding: 8px 4px; }"+(Editor.isDarkMode()?"html body td.mxWindowTitle > div > img { margin: -4px; }html body .geToolbarContainer .geMenuItem, html body .geToolbarContainer .geToolbarButton, html body .geMenubarContainer .geMenuItem .geMenuItem, html body .geMenubarContainer a.geMenuItem,html body .geMenubarContainer .geToolbarButton { filter: invert(1); }html body div.geToolbarContainer a.geInverted { filter: none; }html body .geMenubarContainer .geMenuItem .geMenuItem, html body .geMenubarContainer a.geMenuItem { color: #353535; }html > body > div > .geToolbarContainer { border: 1px solid #c0c0c0 !important; box-shadow: none !important; }html > body.geEditor > div > a.geItem { background-color: #2a2a2a; color: #cccccc; border-color: #505759; }html body .geTabContainer, html body .geTabContainer div, html body .geMenubarContainer { border-color: #505759 !important; }html body .mxCellEditor { color: #f0f0f0; }":"html body div.geToolbarContainer a.geInverted { filter: invert(1); }html body.geEditor .geTabContainer div { border-color: #e5e5e5 !important; }")+'html > body > div > a.geItem { background-color: #ffffff; color: #707070; border-top: 1px solid lightgray; border-left: 1px solid lightgray; }html body .geMenubarContainer { border-bottom:1px solid lightgray;background-color:#ffffff; }html body .mxWindow button.geBtn { font-size:12px !important; margin-left: 0; }html body table.mxWindow td.mxWindowPane div.mxWindowPane *:not(svg *) { font-size:9pt; }table.mxWindow * :not(svg *) { font-size:13px; }html body .mxWindow { z-index: 3; }html body div.diagramContainer button, html body button.geBtn { font-size:14px; font-weight:700; border-radius: 5px; }html body button.geBtn:active { opacity: 0.6; }html body a.geMenuItem { opacity: 0.75; cursor: pointer; user-select: none; }html body a.geMenuItem[disabled] { opacity: 0.2; }html body a.geMenuItem[disabled]:active { opacity: 0.2; }html body div.geActivePage { opacity: 0.7; }html body a.geMenuItem:active { opacity: 0.2; }html body .geToolbarButton { opacity: 0.3; }html body .geToolbarButton:active { opacity: 0.15; }html body .geStatus:active { opacity: 0.5; }html body .geStatus { padding-top:3px !important; }html body .geMenubarContainer .geStatus { margin-top: 0px !important; }html table.mxPopupMenu tr.mxPopupMenuItemHover:active { opacity: 0.7; }html body .geDialog input, html body .geToolbarContainer input, html body .mxWindow input {padding: 2px; display: inline-block; }html body .mxWindow input[type="checkbox"] {padding: 0px; }div.geDialog { border-radius: 5px; }html body div.geDialog button.geBigButton { color: '+(Editor.isDarkMode()?Editor.darkColor:"#fff")+" !important; border: none !important; }.mxWindow button, .geDialog select, .mxWindow select { display:inline-block; }html body .mxWindow .geColorBtn, html body .geDialog .geColorBtn { background: none; }html body div.diagramContainer button, html body .mxWindow button, html body .geDialog button { min-width: 0px; border-radius: 5px; color: "+(Editor.isDarkMode()?"#cccccc":"#353535")+" !important; border-style: solid; border-width: 1px; border-color: rgb(216, 216, 216); }html body div.diagramContainer button:hover, html body .mxWindow button:hover, html body .geDialog button:hover { border-color: rgb(177, 177, 177); }html body div.diagramContainer button:active, html body .mxWindow button:active, html body .geDialog button:active { opacity: 0.6; }div.diagramContainer button.geBtn, .mxWindow button.geBtn, .geDialog button.geBtn { min-width:72px; font-weight: 600; background: none; }div.diagramContainer button.gePrimaryBtn, .mxWindow button.gePrimaryBtn, .geDialog button.gePrimaryBtn, html body .gePrimaryBtn { background: #29b6f2; color: #fff !important; border: none; box-shadow: none; }html body .gePrimaryBtn:hover { background: #29b6f2; border: none; box-shadow: inherit; }html body button.gePrimaryBtn:hover { background: #29b6f2; border: none; }.geBtn button { min-width:72px !important; }div.geToolbarContainer a.geButton { margin:0px; padding: 0 2px 4px 2px; } html body div.geToolbarContainer a.geColorBtn { margin: 2px; } html body .mxWindow td.mxWindowPane input, html body .mxWindow td.mxWindowPane select, html body .mxWindow td.mxWindowPane textarea, html body .mxWindow td.mxWindowPane radio { padding: 0px; box-sizing: border-box; }.geDialog, .mxWindow td.mxWindowPane *, div.geSprite, td.mxWindowTitle, .geDiagramContainer { box-sizing:content-box; }.mxWindow div button.geStyleButton { box-sizing: border-box; }table.mxWindow td.mxWindowPane button.geColorBtn { padding:0px; box-sizing: border-box; }td.mxWindowPane .geSidebarContainer button { padding:2px; box-sizing: border-box; }html body .geMenuItem { font-size:14px; text-decoration: none; font-weight: normal; padding: 6px 10px 6px 10px; border: none; border-radius: 5px; color: #353535; box-shadow: inset 0 0 0 1px rgba(0,0,0,.11), inset 0 -1px 0 0 rgba(0,0,0,.08), 0 1px 2px 0 rgba(0,0,0,.04); }.geTabContainer { border-bottom:1px solid lightgray; border-top:1px solid lightgray; background: "+(Editor.isDarkMode()?Editor.darkColor:"#fff")+" !important; }.geToolbarContainer { background: "+(Editor.isDarkMode()?Editor.darkColor:"#fff")+"; }div.geSidebarContainer { background-color: "+(Editor.isDarkMode()?Editor.darkColor:"#fff")+"; }div.geSidebarContainer .geTitle { background-color: "+(Editor.isDarkMode()?Editor.darkColor:"#fdfdfd")+"; }div.mxWindow td.mxWindowPane button { background-image: none; float: none; }td.mxWindowTitle { height: 22px !important; background: none !important; font-size: 13px !important; text-align:center !important; border-bottom:1px solid lightgray; }div.mxWindow, div.mxWindowTitle { background-image: none !important; background-color:"+(Editor.isDarkMode()?Editor.darkColor:"#fff")+" !important; }div.mxWindow { border-radius:5px; box-shadow: 0px 0px 2px #C0C0C0 !important;}div.mxWindow *:not(svg *) { font-family: inherit !important; }html div.geVerticalHandle { position:absolute;bottom:0px;left:50%;cursor:row-resize;width:11px;height:11px;background:white;margin-bottom:-6px; margin-left:-6px; border: none; border-radius: 6px; box-shadow: inset 0 0 0 1px rgba(0,0,0,.11), inset 0 -1px 0 0 rgba(0,0,0,.08), 0 1px 2px 0 rgba(0,0,0,.04); }html div.geInactivePage { background: "+(Editor.isDarkMode()?Editor.darkColor:"rgb(249, 249, 249)")+" !important; color: #A0A0A0 !important; } html div.geActivePage { background:  "+(Editor.isDarkMode()?Editor.darkColor:"#fff")+" !important;  "+(Editor.isDarkMode()?"":"color: #353535 !important; } ")+"html div.mxRubberband { border:1px solid; border-color: #29b6f2 !important; background:rgba(41,182,242,0.4) !important; } html body div.mxPopupMenu { border-radius:5px; border:1px solid #c0c0c0; padding:5px 0 5px 0; box-shadow: 0px 4px 17px -4px rgba(96,96,96,1); } html table.mxPopupMenu td.mxPopupMenuItem { color: "+(Editor.isDarkMode()?"#cccccc":"#353535")+"; font-size: 14px; padding-top: 4px; padding-bottom: 4px; }html table.mxPopupMenu tr.mxPopupMenuItemHover { background-color: "+(Editor.isDarkMode()?"#000000":"#29b6f2")+"; }html tr.mxPopupMenuItemHover td.mxPopupMenuItem, html tr.mxPopupMenuItemHover td.mxPopupMenuItem span { color: "+(Editor.isDarkMode()?"#cccccc":"#ffffff")+" !important; }html tr.mxPopupMenuItem, html td.mxPopupMenuItem { transition-property: none !important; }html table.mxPopupMenu hr { height: 2px; background-color: rgba(0,0,0,.07); margin: 5px 0; }html body td.mxWindowTitle { padding-right: 14px; }html td.mxWindowTitle div { top: 0px !important; }"+(mxClient.IS_IOS?"html input[type=checkbox], html input[type=radio] { height:12px; }":"")+("1"==urlParams.sketch?"a.geStatus > div { overflow: hidden; text-overflow: ellipsis; max-width: 100%; }":"")};var o=document.createElement("style");o.type="text/css",o.innerHTML=Editor.createMinimalCss(),document.getElementsByTagName("head")[0].appendChild(o),Editor.prototype.isChromelessView=function(){return!1},Graph.prototype.isLightboxView=function(){return!1};var t=EditorUi.prototype.updateTabContainer;EditorUi.prototype.updateTabContainer=function(){null!=this.tabContainer&&(this.tabContainer.style.right="70px",this.diagramContainer.style.bottom="1"==urlParams.sketch?"0px":this.tabContainerHeight+"px"),t.apply(this,arguments)};var r=EditorUi.prototype.updateActionStates;EditorUi.prototype.updateActionStates=function(){r.apply(this,arguments),this.menus.get("save").setEnabled(null!=this.getCurrentFile()||"1"==urlParams.embed)};var a=Menus.prototype.addShortcut;Menus.prototype.addShortcut=function(e,t){null!=t.shortcut&&J<900&&!mxClient.IS_IOS?e.firstChild.nextSibling.setAttribute("title",t.shortcut):a.apply(this,arguments)};var s=App.prototype.updateUserElement;App.prototype.updateUserElement=function(){var e;s.apply(this,arguments),null!=this.userElement&&((e=this.userElement).style.cssText="position:relative;margin-right:4px;cursor:pointer;display:"+e.style.display,e.className="geToolbarButton",e.innerHTML="",e.style.backgroundImage="url("+Editor.userImage+")",e.style.backgroundPosition="center center",e.style.backgroundRepeat="no-repeat",e.style.backgroundSize="24px 24px",e.style.height="24px",e.style.width="24px",e.style.cssFloat="right",e.setAttribute("title",mxResources.get("changeUser")),"none"!=e.style.display&&(e.style.display="inline-block"))};var l=App.prototype.updateButtonContainer;App.prototype.updateButtonContainer=function(){var e;l.apply(this,arguments),null!=this.shareButton&&((e=this.shareButton).style.cssText="display:inline-block;position:relative;box-sizing:border-box;margin-right:4px;cursor:pointer;",e.className="geToolbarButton",e.innerHTML="",e.style.backgroundImage="url("+Editor.shareImage+")",e.style.backgroundPosition="center center",e.style.backgroundRepeat="no-repeat",e.style.backgroundSize="24px 24px",e.style.height="24px",e.style.width="24px","1"==urlParams.sketch&&(this.shareButton.style.display="none")),null!=this.buttonContainer&&(this.buttonContainer.style.marginTop="-2px",this.buttonContainer.style.paddingTop="4px")},EditorUi.prototype.addEmbedButtons=function(){var e,t,i;null!=this.buttonContainer&&"1"!=urlParams.embedInline&&((e=document.createElement("div")).style.display="inline-block",e.style.position="relative",e.style.marginTop="6px",e.style.marginRight="4px",(t=document.createElement("a")).className="geMenuItem gePrimaryBtn",t.style.marginLeft="8px",t.style.padding="6px","1"==urlParams.noSaveBtn?"0"!=urlParams.saveAndExit&&(i="1"==urlParams.publishClose?mxResources.get("publish"):mxResources.get("saveAndExit"),mxUtils.write(t,i),t.setAttribute("title",i),mxEvent.addListener(t,"click",mxUtils.bind(this,function(){this.actions.get("saveAndExit").funct()})),e.appendChild(t)):(mxUtils.write(t,mxResources.get("save")),t.setAttribute("title",mxResources.get("save")+" ("+Editor.ctrlKey+"+S)"),mxEvent.addListener(t,"click",mxUtils.bind(this,function(){this.actions.get("save").funct()})),e.appendChild(t),"1"==urlParams.saveAndExit&&(t=document.createElement("a"),mxUtils.write(t,mxResources.get("saveAndExit")),t.setAttribute("title",mxResources.get("saveAndExit")),t.className="geMenuItem",t.style.marginLeft="6px",t.style.padding="6px",mxEvent.addListener(t,"click",mxUtils.bind(this,function(){this.actions.get("saveAndExit").funct()})),e.appendChild(t))),"1"!=urlParams.noExitBtn&&(t=document.createElement("a"),i="1"==urlParams.publishClose?mxResources.get("close"):mxResources.get("exit"),mxUtils.write(t,i),t.setAttribute("title",i),t.className="geMenuItem",t.style.marginLeft="6px",t.style.padding="6px",mxEvent.addListener(t,"click",mxUtils.bind(this,function(){this.actions.get("exit").funct()})),e.appendChild(t)),this.buttonContainer.appendChild(e),this.buttonContainer.style.top="6px",this.editor.fireEvent(new mxEventObject("statusChanged")))};var d=Sidebar.prototype.getTooltipOffset;Sidebar.prototype.getTooltipOffset=function(e,t){if(null==this.editorUi.sidebarWindow||mxUtils.isAncestorNode(this.editorUi.picker,e))return(n=mxUtils.getOffset(this.editorUi.picker)).x+=this.editorUi.picker.offsetWidth+4,n.y+=e.offsetTop-t.height/2+16,n;var i=d.apply(this,arguments),n=mxUtils.getOffset(this.editorUi.sidebarWindow.window.div);return i.x+=n.x-16,i.y+=n.y,i};var m=Menus.prototype.createPopupMenu;Menus.prototype.createPopupMenu=function(e,t,i){var n=this.editorUi.editor.graph;e.smartSeparators=!0,m.apply(this,arguments),"1"==urlParams.sketch?n.isEnabled()&&(e.addSeparator(),1==n.getSelectionCount()&&this.addMenuItems(e,["-","lockUnlock"],null,i)):1==n.getSelectionCount()?(n.isCellFoldable(n.getSelectionCell())&&this.addMenuItems(e,n.isCellCollapsed(t)?["expand"]:["collapse"],null,i),this.addMenuItems(e,["collapsible","-","lockUnlock","enterGroup"],null,i),e.addSeparator(),this.addSubmenu("layout",e)):n.isSelectionEmpty()&&n.isEnabled()?(e.addSeparator(),this.addMenuItems(e,["editData"],null,i),e.addSeparator(),this.addSubmenu("layout",e),this.addSubmenu("insert",e),this.addMenuItems(e,["-","exitGroup"],null,i)):n.isEnabled()&&this.addMenuItems(e,["-","lockUnlock"],null,i),n.isEnabled()&&n.isSelectionEmpty()&&(this.addMenuItems(e,["-","fullscreen"]),"1"==urlParams.embedInline||!Editor.isDarkMode()&&(mxClient.IS_IE||mxClient.IS_IE11)||this.addMenuItems(e,["toggleDarkMode"]))};var u=Menus.prototype.addPopupMenuEditItems;Menus.prototype.addPopupMenuEditItems=function(e,t,i){u.apply(this,arguments),this.editorUi.editor.graph.isSelectionEmpty()&&this.addMenuItems(e,["copyAsImage"],null,i)},EditorUi.prototype.toggleFormatPanel=function(e){null!=this.formatWindow?this.formatWindow.window.setVisible(null!=e?e:!this.formatWindow.window.isVisible()):Q(this)},DiagramFormatPanel.prototype.isMathOptionVisible=function(){return!0};var p=EditorUi.prototype.destroy;EditorUi.prototype.destroy=function(){null!=this.sidebarWindow&&(this.sidebarWindow.window.setVisible(!1),this.sidebarWindow.window.destroy(),this.sidebarWindow=null),null!=this.formatWindow&&(this.formatWindow.window.setVisible(!1),this.formatWindow.window.destroy(),this.formatWindow=null),null!=this.actions.outlineWindow&&(this.actions.outlineWindow.window.setVisible(!1),this.actions.outlineWindow.window.destroy(),this.actions.outlineWindow=null),null!=this.actions.layersWindow&&(this.actions.layersWindow.window.setVisible(!1),this.actions.layersWindow.destroy(),this.actions.layersWindow=null),null!=this.menus.tagsWindow&&(this.menus.tagsWindow.window.setVisible(!1),this.menus.tagsWindow.window.destroy(),this.menus.tagsWindow=null),null!=this.menus.findWindow&&(this.menus.findWindow.window.setVisible(!1),this.menus.findWindow.window.destroy(),this.menus.findWindow=null),null!=this.menus.findReplaceWindow&&(this.menus.findReplaceWindow.window.setVisible(!1),this.menus.findReplaceWindow.window.destroy(),this.menus.findReplaceWindow=null),p.apply(this,arguments)};var c=EditorUi.prototype.setGraphEnabled;EditorUi.prototype.setGraphEnabled=function(e){var t;c.apply(this,arguments),e?(1e3<=(t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)&&null!=this.sidebarWindow&&"1"!=urlParams.sketch&&this.sidebarWindow.window.setVisible(!0),null!=this.formatWindow&&(1e3<=t||"1"==urlParams.sketch)&&this.formatWindow.window.setVisible(!0)):(null!=this.sidebarWindow&&this.sidebarWindow.window.setVisible(!1),null!=this.formatWindow&&this.formatWindow.window.setVisible(!1))},EditorUi.prototype.chromelessWindowResize=function(){};var g=Menus.prototype.init;Menus.prototype.init=function(){g.apply(this,arguments);var o=this.editorUi,i=o.editor.graph;o.actions.get("editDiagram").label=mxResources.get("formatXml")+"...",o.actions.get("createShape").label=mxResources.get("shape")+"...",o.actions.get("outline").label=mxResources.get("outline")+"...",o.actions.get("layers").label=mxResources.get("layers")+"...",o.actions.get("tags").label=mxResources.get("tags")+"...",o.actions.get("forkme").visible="1"!=urlParams.sketch,o.actions.get("downloadDesktop").visible="1"!=urlParams.sketch;var e=o.actions.put("toggleDarkMode",new Action(mxResources.get("dark"),function(e){o.setDarkMode(!Editor.darkMode)}));e.setToggleAction(!0),e.setSelectedCallback(function(){return Editor.isDarkMode()});e=o.actions.put("toggleSketchMode",new Action(mxResources.get("sketch"),function(e){o.setSketchMode(!Editor.sketchMode)}));e.setToggleAction(!0),e.setSelectedCallback(function(){return Editor.sketchMode});e=o.actions.put("togglePagesVisible",new Action(mxResources.get("pages"),function(e){o.setPagesVisible(!Editor.pagesVisible)}));e.setToggleAction(!0),e.setSelectedCallback(function(){return Editor.pagesVisible}),o.actions.put("importCsv",new Action(mxResources.get("csv")+"...",function(){i.popupMenuHandler.hideMenu(),o.showImportCsvDialog()})),o.actions.put("importText",new Action(mxResources.get("text")+"...",function(){var e=new ParseDialog(o,"Insert from Text");o.showDialog(e.container,620,420,!0,!1),e.init()})),o.actions.put("formatSql",new Action(mxResources.get("formatSql")+"...",function(){var e=new ParseDialog(o,"Insert from Text","formatSql");o.showDialog(e.container,620,420,!0,!1),e.init()})),o.actions.put("toggleShapes",new Action(mxResources.get("1"==urlParams.sketch?"moreShapes":"shapes")+"...",function(){ee(o)},null,null,Editor.ctrlKey+"+Shift+K")),o.actions.put("toggleFormat",new Action(mxResources.get("format")+"...",function(){Q(o)})).shortcut=o.actions.get("formatPanel").shortcut,EditorUi.enablePlantUml&&!o.isOffline()&&o.actions.put("plantUml",new Action(mxResources.get("plantUml")+"...",function(){var e=new ParseDialog(o,mxResources.get("plantUml")+"...","plantUml");o.showDialog(e.container,620,420,!0,!1),e.init()})),o.actions.put("mermaid",new Action(mxResources.get("mermaid")+"...",function(){var e=new ParseDialog(o,mxResources.get("mermaid")+"...","mermaid");o.showDialog(e.container,620,420,!0,!1),e.init()}));var r=this.addPopupMenuCellEditItems;this.put("editCell",new Menu(mxUtils.bind(this,function(e,t){var i=this.editorUi.editor.graph,n=i.getSelectionCell();r.call(this,e,n,null,t),this.addMenuItems(e,["editTooltip"],t),i.model.isVertex(n)&&this.addMenuItems(e,["editGeometry"],t),this.addMenuItems(e,["-","edit"],t)}))),this.addPopupMenuCellEditItems=function(e,t,i,n){e.addSeparator(),this.addSubmenu("editCell",e,n,mxResources.get("edit"))},this.put("diagram",new Menu(mxUtils.bind(this,function(e,t){var i=o.getCurrentFile();o.menus.addSubmenu("extras",e,t,mxResources.get("preferences")),e.addSeparator(t),mxClient.IS_CHROMEAPP||EditorUi.isElectronApp?o.menus.addMenuItems(e,["new","open","-","synchronize","-","save","saveAs","-"],t):"1"==urlParams.embed?("1"!=urlParams.noSaveBtn&&"1"!=urlParams.embedInline&&o.menus.addMenuItems(e,["-","save"],t),("1"==urlParams.saveAndExit||"1"==urlParams.noSaveBtn&&"0"!=urlParams.saveAndExit)&&o.menus.addMenuItems(e,["saveAndExit"],t),e.addSeparator(t)):o.mode==App.MODE_ATLAS?o.menus.addMenuItems(e,["save","synchronize","-"],t):"1"!=urlParams.noFileMenu&&(o.menus.addMenuItems(e,["new"],t),o.menus.addSubmenu("openFrom",e,t),isLocalStorage&&this.addSubmenu("openRecent",e,t),"1"!=urlParams.sketch&&(e.addSeparator(t),null!=i&&i.constructor==DriveFile&&o.menus.addMenuItems(e,["share"],t),mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||null==i||i.constructor==LocalFile||o.menus.addMenuItems(e,["synchronize"],t)),e.addSeparator(t),o.menus.addSubmenu("save",e,t)),o.menus.addSubmenu("exportAs",e,t),mxClient.IS_CHROMEAPP||EditorUi.isElectronApp?o.menus.addMenuItems(e,["import"],t):"1"!=urlParams.noFileMenu&&o.menus.addSubmenu("importFrom",e,t),"1"!=urlParams.sketch&&(o.menus.addMenuItems(e,["-","outline"],t),o.commentsSupported()&&o.menus.addMenuItems(e,["comments"],t)),o.menus.addMenuItems(e,["-","findReplace","layers","tags"],t),o.menus.addMenuItems(e,["-","pageSetup","pageScale"],t),"1"==urlParams.noFileMenu||mxClient.IS_IOS&&navigator.standalone||o.menus.addMenuItems(e,["print"],t),null!=i&&null!=o.fileNode&&"1"!=urlParams.embedInline&&(i=null!=i.getTitle()?i.getTitle():o.defaultFilename,/(\.html)$/i.test(i)||/(\.svg)$/i.test(i)||this.addMenuItems(e,["-","properties"])),e.addSeparator(t),o.menus.addSubmenu("help",e,t),"1"==urlParams.embed?"1"!=urlParams.noExitBtn&&o.menus.addMenuItems(e,["-","exit"],t):"1"!=urlParams.noFileMenu&&o.menus.addMenuItems(e,["-","close"])}))),this.put("save",new Menu(mxUtils.bind(this,function(e,t){var i=o.getCurrentFile();null!=i&&i.constructor==DriveFile?o.menus.addMenuItems(e,["save","makeCopy","-","rename","moveToFolder"],t):(o.menus.addMenuItems(e,["save","saveAs","-","rename"],t),o.isOfflineApp()?navigator.onLine&&"1"!=urlParams.stealth&&"1"!=urlParams.lockdown&&this.addMenuItems(e,["upload"],t):o.menus.addMenuItems(e,["makeCopy"],t)),"1"!=urlParams.sketch||mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||null==i||i.constructor==LocalFile||o.menus.addMenuItems(e,["-","synchronize"],t),o.menus.addMenuItems(e,["-","autosave"],t),null!=i&&i.isRevisionHistorySupported()&&o.menus.addMenuItems(e,["-","revisionHistory"],t)})));var n=this.get("exportAs");this.put("exportAs",new Menu(mxUtils.bind(this,function(e,t){n.funct(e,t),mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||o.menus.addMenuItems(e,["publishLink"],t),o.mode!=App.MODE_ATLAS&&"1"!=urlParams.extAuth&&(e.addSeparator(t),o.menus.addSubmenu("embed",e,t))})));var a=this.get("language");this.put("table",new Menu(mxUtils.bind(this,function(e,t){o.menus.addInsertTableCellItem(e,t)})));var s=this.get("importFrom");this.put("importFrom",new Menu(mxUtils.bind(this,function(e,t){s.funct(e,t),this.addMenuItems(e,["editDiagram"],t),"1"==urlParams.sketch&&(e.addSeparator(t),e.addItem(mxResources.get("csv")+"...",null,function(){o.showImportCsvDialog()},t,null,mxUtils.bind(i,i.isEnabled)),o.addInsertMenuItems(e,t,["formatSql","-","fromText","plantUml","mermaid"]))}))),this.put("extras",new Menu(mxUtils.bind(this,function(e,t){"1"!=urlParams.embed&&"1"!=urlParams.extAuth&&o.menus.addSubmenu("theme",e,t),null!=a&&o.menus.addSubmenu("language",e,t),o.menus.addSubmenu("units",e,t),e.addSeparator(t),o.menus.addMenuItems(e,["scrollbars","tooltips","ruler","-","copyConnect","collapseExpand","-"],t),"1"==urlParams.sketch&&this.addMenuItems(e,["toggleSketchMode"],t),"1"!=urlParams.embedInline&&(!Editor.isDarkMode()&&(mxClient.IS_IE||mxClient.IS_IE11)||this.addMenuItems(e,["toggleDarkMode"],t),"1"!=urlParams.embed&&(isLocalStorage||mxClient.IS_CHROMEAPP)&&o.menus.addMenuItems(e,["-","showStartScreen","search","scratchpad"],t),"1"==urlParams.sketch&&null==urlParams.pages&&this.addMenuItems(e,["togglePagesVisible"],t)),e.addSeparator(t),o.menus.addMenuItem(e,"configuration",t),!o.isOfflineApp()&&isLocalStorage&&o.menus.addMenuItem(e,"plugins",t),this.addMenuItems(e,["-","fullscreen"],t),e.addSeparator(t)}))),this.put("insertAdvanced",new Menu(mxUtils.bind(this,function(e,t){o.menus.addMenuItems(e,["importText","plantUml","mermaid","-","formatSql","importCsv","-","createShape","editDiagram"],t)}))),mxUtils.bind(this,function(){var e=this.get("insert"),i=e.funct;e.funct=function(e,t){"1"==urlParams.sketch?(o.menus.addMenuItems(e,["insertFreehand"],t),o.insertTemplateEnabled&&!o.isOffline()&&o.menus.addMenuItems(e,["insertTemplate"],t)):(i.apply(this,arguments),o.menus.addSubmenu("table",e,t),e.addSeparator(t)),o.menus.addMenuItems(e,["-","toggleShapes"],t)}})();var l=["horizontalFlow","verticalFlow","-","horizontalTree","verticalTree","radialTree","-","organic","circle"];this.put("insertLayout",new Menu(mxUtils.bind(this,function(e,t){for(var i=0;i<l.length;i++)"-"==l[i]?e.addSeparator(t):function(e,t,i,n){e.addItem(i,null,mxUtils.bind(this,function(){var e=new CreateGraphDialog(o,i,n);o.showDialog(e.container,620,420,!0,!1),e.init()}),t)}(e,t,mxResources.get(l[i])+"...",l[i])})))};var h=!(EditorUi.prototype.installFormatToolbar=function(i){var n=this.editor.graph,o=document.createElement("div");o.style.cssText="position:absolute;top:10px;z-index:1;border-radius:4px;box-shadow:0px 0px 3px 1px #d1d1d1;padding:6px;white-space:nowrap;background-color:#fff;transform:translate(-50%, 0);left:50%;",n.getSelectionModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(e,t){0<n.getSelectionCount()?(i.appendChild(o),o.innerHTML="Selected: "+n.getSelectionCount()):null!=o.parentNode&&o.parentNode.removeChild(o)}))});EditorUi.prototype.initFormatWindow=function(){var e;h||(h=!0,this.formatWindow.window.setClosable(!1),e=this.formatWindow.window.toggleMinimized,this.formatWindow.window.toggleMinimized=function(){e.apply(this,arguments),this.minimized?(this.div.style.width="90px",this.table.style.width="90px",this.div.style.left=parseInt(this.div.style.left)+150+"px"):(this.div.style.width="240px",this.table.style.width="240px",this.div.style.left=Math.max(0,parseInt(this.div.style.left)-150)+"px"),this.fit()},mxEvent.addListener(this.formatWindow.window.title,"dblclick",mxUtils.bind(this,function(e){mxEvent.getSource(e)==this.formatWindow.window.title&&this.formatWindow.window.toggleMinimized()})))};var $=EditorUi.prototype.init;EditorUi.prototype.init=function(){$.apply(this,arguments),"1"!=urlParams.embedInline&&this.doSetDarkMode(null!=urlParams.dark?1==urlParams.dark&&!mxClient.IS_IE&&!mxClient.IS_IE11:null!=mxSettings.settings.darkMode?mxSettings.settings.darkMode:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);var e=document.createElement("div");e.style.cssText="position:absolute;left:0px;right:0px;top:0px;overflow-y:auto;overflow-x:hidden;",e.style.bottom="1"!=urlParams.embed||"1"==urlParams.libraries?"63px":"32px",this.sidebar=this.createSidebar(e),"1"==urlParams.sketch&&this.toggleScratchpad(),("1"!=urlParams.sketch&&1e3<=J||null!=urlParams.clibs||null!=urlParams.libs||null!=urlParams["search-shapes"])&&(ee(this,!0),null!=this.sidebar&&null!=urlParams["search-shapes"]&&null!=this.sidebar.searchShapes&&(this.sidebar.searchShapes(urlParams["search-shapes"]),this.sidebar.showEntries("search")));var l=this;mxWindow.prototype.fit=function(){var e,t,i;Editor.inlineFullscreen||null==l.embedViewport?mxUtils.fit(this.div):(e=parseInt(this.div.offsetLeft),i=parseInt(this.div.offsetWidth),t=l.embedViewport.x+l.embedViewport.width,this.div.style.left=Math.max(l.embedViewport.x,Math.min(e,t-i))+"px",e=parseInt(this.div.offsetTop),t=parseInt(this.div.offsetHeight),i=l.embedViewport.y+l.embedViewport.height,this.div.style.top=Math.max(l.embedViewport.y,Math.min(e,i-t))+"px")},this.keyHandler.bindAction(75,!0,"toggleShapes",!0),("1"==urlParams.sketch||1e3<=J)&&"1"!=urlParams.embedInline&&(Q(this,!0),"1"==urlParams.sketch&&(this.initFormatWindow(),this.formatWindow.window.toggleMinimized()));var d=(l=this).editor.graph;l.toolbar=this.createToolbar(l.createDiv("geToolbar")),l.defaultLibraryName=mxResources.get("untitledLibrary");var m=document.createElement("div");m.className="geMenubarContainer";var r=null,a=new Menubar(l,m);function s(e,t,i){var n=l.menus.get(e),o=a.addMenu(mxResources.get(e),mxUtils.bind(this,function(){n.funct.apply(this,arguments)}),r);return o.className="1"==urlParams.sketch?"geToolbarButton":"geMenuItem",o.style.display="inline-block",o.style.boxSizing="border-box",o.style.top="6px",o.style.marginRight="6px",o.style.height="30px",o.style.paddingTop="6px",o.style.paddingBottom="6px",o.style.cursor="pointer",o.setAttribute("title",mxResources.get(e)),l.menus.menuCreated(n,o,"geMenuItem"),null!=i?(o.style.backgroundImage="url("+i+")",o.style.backgroundPosition="center center",o.style.backgroundRepeat="no-repeat",o.style.backgroundSize="24px 24px",o.style.width="34px",o.innerHTML=""):t||(o.style.backgroundImage="url("+mxWindow.prototype.normalizeImage+")",o.style.backgroundPosition="right 6px center",o.style.backgroundRepeat="no-repeat",o.style.paddingRight="22px"),o}function u(e,t,i,n,o,r){var a=document.createElement("a");function s(){o.isEnabled()?(a.removeAttribute("disabled"),a.style.cursor="pointer"):(a.setAttribute("disabled","disabled"),a.style.cursor="default")}return a.className="1"==urlParams.sketch?"geToolbarButton":"geMenuItem",a.style.display="inline-block",a.style.boxSizing="border-box",a.style.height="30px",a.style.padding="6px",a.style.position="relative",a.style.verticalAlign="top",a.style.top="0px","1"==urlParams.sketch&&(a.style.borderStyle="none",a.style.boxShadow="none",a.style.padding="6px",a.style.margin="0px"),null!=l.statusContainer?m.insertBefore(a,l.statusContainer):m.appendChild(a),null!=r?(a.style.backgroundImage="url("+r+")",a.style.backgroundPosition="center center",a.style.backgroundRepeat="no-repeat",a.style.backgroundSize="24px 24px",a.style.width="34px"):mxUtils.write(a,e),mxEvent.addListener(a,mxClient.IS_POINTER?"pointerdown":"mousedown",mxUtils.bind(this,function(e){e.preventDefault()})),mxEvent.addListener(a,"click",function(e){"disabled"!=a.getAttribute("disabled")&&t(e),mxEvent.consume(e)}),null==i&&(a.style.marginRight="4px"),null!=n&&a.setAttribute("title",n),null!=o&&(o.addListener("stateChanged",s),d.addListener("enabledChanged",s),s()),a}function p(e,t){var i=document.createElement("div");i.className="geMenuItem",i.style.display="inline-block",i.style.verticalAlign="top",i.style.marginRight="6px",i.style.padding="0 4px 0 4px",i.style.height="30px",i.style.position="relative",i.style.top="0px","1"==urlParams.sketch&&(i.style.boxShadow="none");for(var n=0;n<e.length;n++)null!=e[n]&&("1"==urlParams.sketch&&(e[n].style.padding="10px 8px",e[n].style.width="30px"),e[n].style.margin="0px",e[n].style.boxShadow="none",i.appendChild(e[n]));return null!=t&&mxUtils.setOpacity(i,t),null!=l.statusContainer&&"1"!=urlParams.sketch?m.insertBefore(i,l.statusContainer):m.appendChild(i),i}l.statusContainer=l.createStatusContainer(),l.statusContainer.style.position="relative",l.statusContainer.style.maxWidth="",l.statusContainer.style.marginTop="7px",l.statusContainer.style.marginLeft="6px",l.statusContainer.style.color="gray",l.statusContainer.style.cursor="default";var t=l.hideCurrentMenu;l.hideCurrentMenu=function(){t.apply(this,arguments),this.editor.graph.popupMenuHandler.hideMenu()};var i=l.descriptorChanged;l.descriptorChanged=function(){var e,t;i.apply(this,arguments),null!=(t=l.getCurrentFile())&&null!=t.getTitle()?("google"==(e=t.getMode())?e="googleDrive":"github"==e?e="gitHub":"gitlab"==e?e="gitLab":"onedrive"==e&&(e="oneDrive"),e=mxResources.get(e),m.setAttribute("title",t.getTitle()+(null!=e?" ("+e+")":""))):m.removeAttribute("title")},l.setStatusText(l.editor.getStatus()),m.appendChild(l.statusContainer),l.buttonContainer=document.createElement("div"),l.buttonContainer.style.cssText="position:absolute;right:0px;padding-right:34px;top:10px;white-space:nowrap;padding-top:2px;background-color:inherit;",m.appendChild(l.buttonContainer),l.menubarContainer=l.buttonContainer,l.tabContainer=document.createElement("div"),l.tabContainer.className="geTabContainer",l.tabContainer.style.cssText="position:absolute;left:0px;right:0px;bottom:0px;height:30px;white-space:nowrap;margin-bottom:-2px;visibility:hidden;";var n=l.diagramContainer.parentNode,o=document.createElement("div");o.style.cssText="position:absolute;top:0px;left:0px;right:0px;bottom:0px;overflow:hidden;",l.diagramContainer.style.top="1"==urlParams.sketch?"0px":"47px";var c=l.menus.get("viewZoom"),g="1"!=urlParams.sketch?Editor.plusImage:Editor.shapesImage,h="1"==urlParams.sketch?document.createElement("div"):null,x="1"==urlParams.sketch?document.createElement("div"):null,b="1"==urlParams.sketch?document.createElement("div"):null,y=mxUtils.bind(this,function(){null!=this.sidebar&&(this.sidebar.graph.stylesheet.styles=mxUtils.clone(d.stylesheet.styles),this.sidebar.container.innerHTML="",this.sidebar.palettes=new Object,this.sidebar.init(),"1"==urlParams.sketch&&(this.scratchpad=null,this.toggleScratchpad())),d.refresh(),d.view.validateBackground()});l.addListener("darkModeChanged",y),l.addListener("sketchModeChanged",y);var f,w,C,v,E,M,k,I,S,P,W,T,R,L,A,U,D,z,H,F,B,O,N=mxUtils.bind(this,function(){var e,t;Editor.inlineFullscreen?(b.style.left="10px",b.style.top="10px",x.style.left="10px",x.style.top="60px",h.style.top="10px",h.style.right="12px",h.style.left="",l.diagramContainer.setAttribute("data-bounds",l.diagramContainer.style.top+" "+l.diagramContainer.style.left+" "+l.diagramContainer.style.width+" "+l.diagramContainer.style.height),l.diagramContainer.style.top="0px",l.diagramContainer.style.left="0px",l.diagramContainer.style.bottom="0px",l.diagramContainer.style.right="0px",l.diagramContainer.style.width="",l.diagramContainer.style.height=""):(null!=(t=l.diagramContainer.getAttribute("data-bounds"))&&(l.diagramContainer.style.background="transparent",l.diagramContainer.removeAttribute("data-bounds"),e=d.getGraphBounds(),t=t.split(" "),l.diagramContainer.style.top=t[0],l.diagramContainer.style.left=t[1],l.diagramContainer.style.width=e.width+50+"px",l.diagramContainer.style.height=e.height+46+"px",l.diagramContainer.style.bottom="",l.diagramContainer.style.right="",(window.opener||window.parent).postMessage(JSON.stringify({event:"resize",rect:l.diagramContainer.getBoundingClientRect()}),"*"),l.refresh()),b.style.left=l.diagramContainer.offsetLeft+"px",b.style.top=l.diagramContainer.offsetTop-b.offsetHeight-4+"px",x.style.display="",x.style.left=l.diagramContainer.offsetLeft-x.offsetWidth-4+"px",x.style.top=l.diagramContainer.offsetTop+"px",h.style.left=l.diagramContainer.offsetLeft+l.diagramContainer.offsetWidth-h.offsetWidth+"px",h.style.top=b.style.top,h.style.right="",l.bottomResizer.style.left=l.diagramContainer.offsetLeft+(l.diagramContainer.offsetWidth-l.bottomResizer.offsetWidth)/2+"px",l.bottomResizer.style.top=l.diagramContainer.offsetTop+l.diagramContainer.offsetHeight-l.bottomResizer.offsetHeight/2-1+"px",l.rightResizer.style.left=l.diagramContainer.offsetLeft+l.diagramContainer.offsetWidth-l.rightResizer.offsetWidth/2-1+"px",l.rightResizer.style.top=l.diagramContainer.offsetTop+(l.diagramContainer.offsetHeight-l.bottomResizer.offsetHeight)/2+"px"),l.bottomResizer.style.visibility=Editor.inlineFullscreen?"hidden":"",l.rightResizer.style.visibility=l.bottomResizer.style.visibility,m.style.display="none",b.style.visibility="",h.style.visibility=""}),V=mxUtils.bind(this,function(){A.style.backgroundImage="url("+(Editor.inlineFullscreen?Editor.fullscreenExitImage:Editor.fullscreenImage)+")",this.diagramContainer.style.background=Editor.inlineFullscreen?Editor.isDarkMode()?Editor.darkColor:"#ffffff":"transparent",N()}),G=mxUtils.bind(this,function(){V(),Q(l,!0),l.initFormatWindow();var e=this.diagramContainer.getBoundingClientRect();this.formatWindow.window.setLocation(e.x+e.width+4,e.y)});function _(){H.style.display=null!=l.pages&&("1"==urlParams.pages||1<l.pages.length||Editor.pagesVisible)?"inline-block":"none"}l.addListener("inlineFullscreenChanged",V),l.addListener("editInlineStart",G),"1"==urlParams.embedInline&&l.addListener("darkModeChanged",G),l.addListener("editInlineStop",mxUtils.bind(this,function(e){l.diagramContainer.style.width="10px",l.diagramContainer.style.height="10px",l.diagramContainer.style.border="",l.bottomResizer.style.visibility="hidden",l.rightResizer.style.visibility="hidden",b.style.visibility="hidden",h.style.visibility="hidden",x.style.display="none"})),Graph.touchStyle&&(d.panningHandler.isPanningTrigger=function(e){var t=e.getEvent();return null==e.getState()&&!mxEvent.isMouseEvent(t)&&!d.freehand.isDrawing()||mxEvent.isPopupTrigger(t)&&(null==e.getState()||mxEvent.isControlDown(t)||mxEvent.isShiftDown(t))}),null!=l.hoverIcons&&(f=l.hoverIcons.update,l.hoverIcons.update=function(){d.freehand.isDrawing()||f.apply(this,arguments)}),null!=d.freehand&&(w=d.freehand.createStyle,d.freehand.createStyle=function(e){return w.apply(this,arguments)+"sketch=0;"}),"1"==urlParams.sketch?(x.className="geToolbarContainer",h.className="geToolbarContainer",b.className="geToolbarContainer",m.className="geToolbarContainer",l.picker=x,C=!1,mxEvent.addListener(m,"mouseenter",function(){l.statusContainer.style.display="inline-block"}),mxEvent.addListener(m,"mouseleave",function(){C||(l.statusContainer.style.display="none")}),v=mxUtils.bind(this,function(e){null!=l.notificationBtn&&(null!=e?l.notificationBtn.setAttribute("title",e):l.notificationBtn.removeAttribute("title"))}),"1"!=urlParams.embed?(m.style.visibility=m.clientWidth<14?"hidden":"",l.editor.addListener("statusChanged",mxUtils.bind(this,function(){var e,t;l.setStatusText(l.editor.getStatus()),0==l.statusContainer.children.length||1==l.statusContainer.children.length&&"function"==typeof l.statusContainer.firstChild.getAttribute&&null==l.statusContainer.firstChild.getAttribute("class")?(e=null!=l.statusContainer.firstChild&&"function"==typeof l.statusContainer.firstChild.getAttribute?l.statusContainer.firstChild.getAttribute("title"):l.editor.getStatus(),v(e),t=(null!=(t=l.getCurrentFile())?t:DrawioFile.prototype).savingStatusKey,e==mxResources.get(t)+"..."?(l.statusContainer.innerHTML='<img title="'+mxUtils.htmlEntities(mxResources.get(t))+'..."src="'+Editor.tailSpin+'">',l.statusContainer.style.display="inline-block",C=!0):6<l.buttonContainer.clientWidth&&(l.statusContainer.style.display="none",C=!1)):(l.statusContainer.style.display="inline-block",v(null),C=!0),m.style.visibility=12<m.clientWidth?"":"hidden"}))):l.editor.addListener("statusChanged",mxUtils.bind(this,function(){m.style.visibility=16<m.clientWidth?"":"hidden"})),(B=s("diagram",null,Editor.menuImage)).style.boxShadow="none",B.style.padding="6px",B.style.margin="0px",b.appendChild(B),mxEvent.disableContextMenu(B),mxEvent.addGestureListeners(B,mxUtils.bind(this,function(e){(mxEvent.isShiftDown(e)||mxEvent.isAltDown(e)||mxEvent.isMetaDown(e)||mxEvent.isControlDown(e)||mxEvent.isPopupTrigger(e))&&this.appIconClicked(e)}),null,null),l.statusContainer.style.position="",l.statusContainer.style.display="none",l.statusContainer.style.margin="0px",l.statusContainer.style.padding="6px 0px",l.statusContainer.style.maxWidth=Math.min(J-240,280)+"px",l.statusContainer.style.display="inline-block",l.statusContainer.style.textOverflow="ellipsis",l.buttonContainer.style.position="",l.buttonContainer.style.paddingRight="0px",l.buttonContainer.style.display="inline-block",(E=document.createElement("a")).style.padding="0px",E.style.boxShadow="none",E.className="geMenuItem",E.style.display="inline-block",E.style.width="40px",E.style.height="12px",E.style.marginBottom="-2px",E.style.backgroundImage="url("+mxWindow.prototype.normalizeImage+")",E.style.backgroundPosition="top center",E.style.backgroundRepeat="no-repeat",E.setAttribute("title","Minimize"),M=!1,k=mxUtils.bind(this,function(){function n(e,t,i){return null!=t&&e.setAttribute("title",t),e.style.cursor=null!=i?i:"default",e.style.margin="2px 0px",x.appendChild(e),mxUtils.br(x),e}function e(e,t,i){i=u("",e.funct,null,t,e,i);return i.style.width="40px",i.style.opacity="0.7",n(i,null,"pointer")}var t;x.innerHTML="",M||(n(l.sidebar.createVertexTemplate("text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;",60,30,"Text",mxResources.get("text"),!0,!1,null,!0,!0),mxResources.get("text")+" ("+Editor.ctrlKey+"+Shift+X)"),n(l.sidebar.createVertexTemplate("shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;",140,160,"",mxResources.get("note"),!0,!1,null,!0),mxResources.get("note")),n(l.sidebar.createVertexTemplate("rounded=0;whiteSpace=wrap;html=1;",160,80,"",mxResources.get("rectangle"),!0,!1,null,!0),mxResources.get("rectangle")+" ("+Editor.ctrlKey+"+K)"),n(l.sidebar.createVertexTemplate("ellipse;whiteSpace=wrap;html=1;",160,100,"",mxResources.get("ellipse"),!0,!1,null,!0),mxResources.get("ellipse")),function(){var e="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;",t=new mxCell("",new mxGeometry(0,0,d.defaultEdgeLength,0),e);t.geometry.setTerminalPoint(new mxPoint(0,0),!0),t.geometry.setTerminalPoint(new mxPoint(t.geometry.width,0),!1),t.geometry.points=[],t.geometry.relative=!0,t.edge=!0,n(l.sidebar.createEdgeTemplateFromCells([t],t.geometry.width,t.geometry.height,mxResources.get("line"),!0,null,!0,!1),mxResources.get("line")),(t=t.clone()).style=e+"shape=flexArrow;rounded=1;startSize=8;endSize=8;",t.geometry.width=d.defaultEdgeLength+20,t.geometry.setTerminalPoint(new mxPoint(0,20),!0),t.geometry.setTerminalPoint(new mxPoint(t.geometry.width,20),!1);t=n(l.sidebar.createEdgeTemplateFromCells([t],t.geometry.width,40,mxResources.get("arrow"),!0,null,!0,!1),mxResources.get("arrow"));t.style.borderBottom="1px solid "+(Editor.isDarkMode()?"#505050":"lightgray"),t.style.paddingBottom="14px",t.style.marginBottom="14px"}(),e(l.actions.get("insertFreehand"),mxResources.get("freehand"),Editor.freehandImage),e(t=l.actions.get("toggleShapes"),mxResources.get("shapes")+" ("+t.shortcut+")",g),(B=s("table",null,Editor.tableImage)).style.boxShadow="none",B.style.opacity="0.7",B.style.padding="6px",B.style.margin="0px",B.style.width="37px",n(B,null,"pointer"),e(l.actions.get("insertTemplate"),mxResources.get("template"),Editor.templateImage)),"1"!=urlParams.embedInline&&x.appendChild(E)}),mxEvent.addListener(E,"click",mxUtils.bind(this,function(){M?(mxUtils.setPrefixedStyle(x.style,"transform","translate(0, -50%)"),x.style.padding="8px 6px 4px",x.style.top="50%",x.style.bottom="",x.style.height="",E.style.backgroundImage="url("+mxWindow.prototype.normalizeImage+")",E.style.width="40px",E.style.height="12px",E.setAttribute("title","Minimize"),M=!1,k()):(x.innerHTML="",x.appendChild(E),mxUtils.setPrefixedStyle(x.style,"transform","translate(0, 0)"),x.style.top="",x.style.bottom="12px",x.style.padding="0px",x.style.height="24px",E.style.height="24px",E.style.backgroundImage="url("+Editor.plusImage+")",E.setAttribute("title",mxResources.get("insert")),E.style.width="24px",M=!0)})),k(),l.addListener("darkModeChanged",k),l.addListener("sketchModeChanged",k)):l.editor.addListener("statusChanged",mxUtils.bind(this,function(){l.setStatusText(l.editor.getStatus())})),null!=c&&(I=function(e){d.popupMenuHandler.hideMenu(),(mxEvent.isAltDown(e)?l.actions.get("customZoom"):l.actions.get("smartFit")).funct()},S=l.actions.get("zoomIn"),P=l.actions.get("zoomOut"),y=l.actions.get("resetView"),G=l.actions.get("fullscreen"),l.actions.get("toggleDarkMode"),W=l.actions.get("undo"),T=l.actions.get("redo"),R=u("",W.funct,null,mxResources.get("undo")+" ("+W.shortcut+")",W,Editor.undoImage),L=u("",T.funct,null,mxResources.get("redo")+" ("+T.shortcut+")",T,Editor.redoImage),A=u("",G.funct,null,mxResources.get("fullscreen"),G,Editor.fullscreenImage),null!=h?(A.parentNode.removeChild(A),U=l.actions.get("delete"),(D=u("",U.funct,null,mxResources.get("delete"),U,Editor.trashImage)).style.opacity="0.1",b.appendChild(D),U.addListener("stateChanged",function(){D.style.opacity=U.enabled?"":"0.1"}),G=function(){R.style.display=0<l.editor.undoManager.history.length||d.isEditing()?"inline-block":"none",L.style.display=R.style.display,R.style.opacity=W.enabled?"":"0.1",L.style.opacity=T.enabled?"":"0.1"},b.appendChild(R),b.appendChild(L),W.addListener("stateChanged",G),T.addListener("stateChanged",G),G(),null!=urlParams.layers&&((G=u("",(G=l.actions.get("layers")).funct,null,mxResources.get("layers"),G,Editor.layersImage)).style.opacity="0.4",h.appendChild(G)),null!=urlParams.tags&&((z=u("",(z=l.actions.get("tags")).funct,null,mxResources.get("tags"),z,Editor.tagsImage)).style.opacity="0.4",h.appendChild(z)),z=u("",(z=l.actions.get("outline")).funct,null,mxResources.get("outline"),z,Editor.outlineImage),h.appendChild(z),z=u("",P.funct,!0,mxResources.get("zoomOut")+" ("+Editor.ctrlKey+" -/Alt+Mousewheel)",P,Editor.zoomOutImage),h.appendChild(z),(B=document.createElement("div")).innerHTML="100%",B.setAttribute("title",mxResources.get("fitWindow")+"/"+mxResources.get("resetView")+" (Enter)"),B.style.display="inline-block",B.style.cursor="pointer",B.style.textAlign="center",B.style.whiteSpace="nowrap",B.style.paddingRight="10px",B.style.textDecoration="none",B.style.verticalAlign="top",B.style.padding="6px 0",B.style.fontSize="14px",B.style.width="40px",B.style.opacity="0.4",h.appendChild(B),mxEvent.addListener(B,"click",I),z=u("",S.funct,!0,mxResources.get("zoomIn")+" ("+Editor.ctrlKey+" +/Alt+Mousewheel)",S,Editor.zoomInImage),h.appendChild(z),"1"==urlParams.embedInline&&(h.appendChild(A),z=l.actions.get("exit"),h.appendChild(u("",z.funct,null,mxResources.get("exit"),z,Editor.closeImage))),(H=this.createPageMenuTab(!1)).style.display="none",H.style.position="",H.style.marginLeft="",H.style.top="",H.style.left="",H.style.height="100%",H.style.lineHeight="",H.style.borderStyle="none",H.style.padding="3px 0",H.style.margin="0px",H.style.background="",H.style.border="",H.style.boxShadow="none",H.style.verticalAlign="top",H.firstChild.style.height="100%",H.firstChild.style.opacity="0.6",H.firstChild.style.margin="0px",h.appendChild(H),l.addListener("fileDescriptorChanged",_),l.addListener("pagesVisibleChanged",_),_(),l.tabContainer.style.visibility="hidden",m.style.cssText="position:absolute;right:12px;top:10px;height:30px;z-index:1;border-radius:4px;box-shadow:0px 0px 3px 1px #d1d1d1;padding:6px 0px 6px 6px;border-bottom:1px solid lightgray;text-align:right;white-space:nowrap;overflow:hidden;user-select:none;",b.style.cssText="position:absolute;left:10px;top:10px;height:30px;z-index:1;border-radius:4px;box-shadow:0px 0px 3px 1px #d1d1d1;padding:6px;border-bottom:1px solid lightgray;text-align:right;white-space:nowrap;overflow:hidden;user-select:none;",h.style.cssText="position:absolute;right:12px;bottom:12px;height:28px;z-index:1;border-radius:4px;box-shadow:0px 0px 3px 1px #d1d1d1;padding:8px;white-space:nowrap;user-select:none;",o.appendChild(b),o.appendChild(h),x.style.cssText="position:absolute;left:10px;z-index:1;border-radius:4px;box-shadow:0px 0px 3px 1px #d1d1d1;padding:8px 6px 4px 6px;white-space:nowrap;transform:translate(0, -50%);top:50%;user-select:none;",o.appendChild(x),window.setTimeout(function(){mxUtils.setPrefixedStyle(x.style,"transition","transform .3s ease-out")},0),"1"==urlParams["format-toolbar"]&&this.installFormatToolbar(o)):(F=u("",I,!0,mxResources.get("fit")+" ("+Editor.ctrlKey+"+H)",y,Editor.zoomFitImage),m.style.cssText="position:absolute;left:0px;right:0px;top:0px;height:30px;padding:8px;text-align:left;white-space:nowrap;",this.tabContainer.style.right="70px",(B=a.addMenu("100%",c.funct)).setAttribute("title",mxResources.get("zoom")+" (Alt+Mousewheel)"),B.style.whiteSpace="nowrap",B.style.paddingRight="10px",B.style.textDecoration="none",B.style.textDecoration="none",B.style.overflow="hidden",B.style.visibility="hidden",B.style.textAlign="center",B.style.cursor="pointer",B.style.height=parseInt(l.tabContainerHeight)-1+"px",B.style.lineHeight=parseInt(l.tabContainerHeight)+1+"px",B.style.position="absolute",B.style.display="block",B.style.fontSize="12px",B.style.width="59px",B.style.right="0px",B.style.bottom="0px",B.style.backgroundImage="url("+mxWindow.prototype.minimizeImage+")",B.style.backgroundPosition="right 6px center",B.style.backgroundRepeat="no-repeat",o.appendChild(B)),function(e){var t=mxUtils.bind(this,function(){e.innerHTML=Math.round(100*l.editor.graph.view.scale)+"%"});l.editor.graph.view.addListener(mxEvent.EVENT_SCALE,t),l.editor.addListener("resetGraphView",t),l.editor.addListener("pageSelected",t)}(B),O=l.setGraphEnabled,l.setGraphEnabled=function(){O.apply(this,arguments),null!=this.tabContainer&&(B.style.visibility=this.tabContainer.style.visibility,this.diagramContainer.style.bottom="hidden"!=this.tabContainer.style.visibility&&null==h?this.tabContainerHeight+"px":"0px")}),o.appendChild(m),o.appendChild(l.diagramContainer),n.appendChild(o),l.updateTabContainer(),null==h&&o.appendChild(l.tabContainer);var K,X,Y,q,j=null;function Z(){if("1"==urlParams.sketch)"1"!=urlParams.embedInline&&(b.style.left=x.offsetTop-x.offsetHeight/2<58?"70px":"10px");else{for(var e=m.firstChild;null!=e;){var t=e.nextSibling;"geMenuItem"!=e.className&&"geItem"!=e.className||e.parentNode.removeChild(e),e=t}r=m.firstChild;var i=(J=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<1e3||"1"==urlParams.sketch,n=null;i||(n=s("diagram")),p([n=null!=(t=i?s("diagram",null,Editor.drawLogoImage):null)?t:n,u(mxResources.get("shapes"),l.actions.get("toggleShapes").funct,null,mxResources.get("shapes"),l.actions.get("image"),i?Editor.shapesImage:null),u(mxResources.get("format"),l.actions.get("toggleFormat").funct,null,mxResources.get("format")+" ("+l.actions.get("formatPanel").shortcut+")",l.actions.get("image"),i?Editor.formatImage:null)],i?60:null),p([o=s("insert",!0,i?g:null),u(mxResources.get("delete"),l.actions.get("delete").funct,null,mxResources.get("delete"),l.actions.get("delete"),i?Editor.trashImage:null)],i?60:null),411<=J&&(p([R,L],60),520<=J&&p([F,640<=J?u("",S.funct,!0,mxResources.get("zoomIn")+" ("+Editor.ctrlKey+" +)",S,Editor.zoomInImage):null,640<=J?u("",P.funct,!0,mxResources.get("zoomOut")+" ("+Editor.ctrlKey+" -)",P,Editor.zoomOutImage):null],60))}null!=n&&(mxEvent.disableContextMenu(n),mxEvent.addGestureListeners(n,mxUtils.bind(this,function(e){(mxEvent.isShiftDown(e)||mxEvent.isAltDown(e)||mxEvent.isMetaDown(e)||mxEvent.isControlDown(e)||mxEvent.isPopupTrigger(e))&&l.appIconClicked(e)}),null,null));var o,n=l.menus.get("language");null!=n&&!mxClient.IS_CHROMEAPP&&!EditorUi.isElectronApp&&600<=J&&"1"!=urlParams.sketch?(null==j&&((o=a.addMenu("",n.funct)).setAttribute("title",mxResources.get("language")),o.className="geToolbarButton",o.style.backgroundImage="url("+Editor.globeImage+")",o.style.backgroundPosition="center center",o.style.backgroundRepeat="no-repeat",o.style.backgroundSize="24px 24px",o.style.position="absolute",o.style.height="24px",o.style.width="24px",o.style.zIndex="1",o.style.right="8px",o.style.cursor="pointer",o.style.top="1"==urlParams.embed?"12px":"11px",m.appendChild(o),j=o),l.buttonContainer.style.paddingRight="34px"):(l.buttonContainer.style.paddingRight="4px",null!=j&&(j.parentNode.removeChild(j),j=null))}Z(),mxEvent.addListener(window,"resize",function(){Z(),null!=l.sidebarWindow&&l.sidebarWindow.window.fit(),null!=l.formatWindow&&l.formatWindow.window.fit(),null!=l.actions.outlineWindow&&l.actions.outlineWindow.window.fit(),null!=l.actions.layersWindow&&l.actions.layersWindow.window.fit(),null!=l.menus.tagsWindow&&l.menus.tagsWindow.window.fit(),null!=l.menus.findWindow&&l.menus.findWindow.window.fit(),null!=l.menus.findReplaceWindow&&l.menus.findReplaceWindow.window.fit()}),"1"==urlParams.embedInline&&(document.body.style.cursor="text",x.style.transform="",mxEvent.addGestureListeners(l.diagramContainer.parentNode,function(e){mxEvent.getSource(e)==l.diagramContainer.parentNode&&(l.embedExitPoint=new mxPoint(mxEvent.getClientX(e),mxEvent.getClientY(e)),l.sendEmbeddedSvgExport())}),(e=document.createElement("div")).style.position="absolute",e.style.width="10px",e.style.height="10px",e.style.borderRadius="5px",e.style.border="1px solid gray",e.style.background="#ffffff",e.style.cursor="row-resize",l.diagramContainer.parentNode.appendChild(e),l.bottomResizer=e,q=Y=X=K=null,mxEvent.addGestureListeners(e,function(e){q=parseInt(l.diagramContainer.style.height),X=mxEvent.getClientY(e),d.popupMenuHandler.hideMenu(),mxEvent.consume(e)}),(e=e.cloneNode(!1)).style.cursor="col-resize",l.diagramContainer.parentNode.appendChild(e),l.rightResizer=e,mxEvent.addGestureListeners(e,function(e){Y=parseInt(l.diagramContainer.style.width),K=mxEvent.getClientX(e),d.popupMenuHandler.hideMenu(),mxEvent.consume(e)}),mxEvent.addGestureListeners(document.body,null,function(e){var t=!1;null!=K&&(l.diagramContainer.style.width=Math.max(20,Y+mxEvent.getClientX(e)-K)+"px",t=!0),null!=X&&(l.diagramContainer.style.height=Math.max(20,q+mxEvent.getClientY(e)-X)+"px",t=!0),t&&((window.opener||window.parent).postMessage(JSON.stringify({event:"resize",fullscreen:Editor.inlineFullscreen,rect:l.diagramContainer.getBoundingClientRect()}),"*"),N(),l.refresh())},function(e){null==K&&null==X||mxEvent.consume(e),X=K=null}),this.diagramContainer.style.borderRadius="4px",document.body.style.backgroundColor="transparent",l.bottomResizer.style.visibility="hidden",l.rightResizer.style.visibility="hidden",b.style.visibility="hidden",h.style.visibility="hidden",x.style.display="none"),"1"==urlParams.prefetchFonts&&l.editor.loadFonts()}}else window.uiTheme=null;function Q(i,e){var t=i.editor.graph;t.popupMenuHandler.hideMenu(),null==i.formatWindow?(i.formatWindow=new n(i,mxResources.get("format"),"1"==urlParams.sketch?Math.max(10,i.diagramContainer.clientWidth-241):Math.max(10,i.diagramContainer.clientWidth-248),60,240,Math.min(566,t.container.clientHeight-10),function(e){var t=i.createFormat(e);return t.init(),i.addListener("darkModeChanged",mxUtils.bind(this,function(){t.refresh()})),t}),i.formatWindow.window.minimumSize=new mxRectangle(0,0,240,80),i.formatWindow.window.setVisible(!0)):i.formatWindow.window.setVisible(null!=e?e:!i.formatWindow.window.isVisible()),i.formatWindow.window.isVisible()&&"1"!=urlParams.sketch&&i.formatWindow.window.fit()}function ee(r,e){var t=r.editor.graph;t.popupMenuHandler.hideMenu();var i;new mxRectangle;null==r.sidebarWindow?(i=Math.min(t.container.clientWidth-10,218),r.sidebarWindow=new n(r,mxResources.get("shapes"),10,"1"==urlParams.sketch&&"1"!=urlParams.embedInline?15:56,i-6,Math.min(650,t.container.clientHeight-30),function(n){var e=document.createElement("div");e.style.cssText="position:absolute;left:0;right:0;border-top:1px solid lightgray;height:24px;bottom:31px;text-align:center;cursor:pointer;padding:6px 0 0 0;",e.className="geTitle",e.innerHTML='<span style="font-size:18px;margin-right:5px;">+</span>',mxUtils.write(e,mxResources.get("moreShapes")),n.appendChild(e),mxEvent.addListener(e,"click",function(){r.actions.get("shapes").funct()});var t,o=new Menubar(r,n);function i(e,t){var i=r.menus.get(e),t=o.addMenu(t,mxUtils.bind(this,function(){i.funct.apply(this,arguments)}));return t.style.cssText="position:absolute;border-top:1px solid lightgray;width:50%;height:24px;bottom:0px;text-align:center;cursor:pointer;padding:6px 0 0 0;cusor:pointer;",t.className="geTitle",n.appendChild(t),t}return!Editor.enableCustomLibraries||"1"==urlParams.embed&&"1"!=urlParams.libraries?e.style.bottom="0":null!=r.actions.get("newLibrary")?((e=document.createElement("div")).style.cssText="position:absolute;left:0px;width:50%;border-top:1px solid lightgray;height:30px;bottom:0px;text-align:center;cursor:pointer;padding:0px;",e.className="geTitle",(t=document.createElement("span")).style.cssText="position:relative;top:6px;",mxUtils.write(t,mxResources.get("newLibrary")),e.appendChild(t),n.appendChild(e),mxEvent.addListener(e,"click",r.actions.get("newLibrary").funct),(e=document.createElement("div")).style.cssText="position:absolute;left:50%;width:50%;border-top:1px solid lightgray;height:30px;bottom:0px;text-align:center;cursor:pointer;padding:0px;border-left: 1px solid lightgray;",e.className="geTitle",(t=document.createElement("span")).style.cssText="position:relative;top:6px;",mxUtils.write(t,mxResources.get("openLibrary")),e.appendChild(t),n.appendChild(e),mxEvent.addListener(e,"click",r.actions.get("openLibrary").funct)):((e=i("newLibrary",mxResources.get("newLibrary"))).style.boxSizing="border-box",e.style.paddingRight="6px",e.style.paddingLeft="6px",e.style.height="32px",e.style.left="0",(e=i("openLibraryFrom",mxResources.get("openLibraryFrom"))).style.borderLeft="1px solid lightgray",e.style.boxSizing="border-box",e.style.paddingRight="6px",e.style.paddingLeft="6px",e.style.height="32px",e.style.left="50%"),n.appendChild(r.sidebar.container),n.style.overflow="hidden",n}),r.sidebarWindow.window.minimumSize=new mxRectangle(0,0,90,90),r.sidebarWindow.window.setVisible(!0),r.getLocalData("sidebar",function(e){r.sidebar.showEntries(e,null,!0)}),r.restoreLibraries()):r.sidebarWindow.window.setVisible(null!=e?e:!r.sidebarWindow.window.isVisible()),r.sidebarWindow.window.isVisible()&&r.sidebarWindow.window.fit()}},function(){var e=!1;"min"!=uiTheme||e||mxClient.IS_CHROMEAPP||(EditorUi.initMinimalTheme(),e=!0);var t=EditorUi.initTheme;EditorUi.initTheme=function(){t.apply(this,arguments),"min"!=uiTheme||e||(this.initMinimalTheme(),e=!0)}}();