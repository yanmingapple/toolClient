!function(){"undefined"!=typeof html4&&(html4.ATTRIBS["span::data-lucid-content"]=0,html4.ATTRIBS["span::data-lucid-type"]=0,html4.ATTRIBS["font::data-font-src"]=0),Editor.prototype.appName="diagrams.net",Editor.prototype.diagramFileTypes=[{description:"diagramXmlDesc",extension:"drawio",mimeType:"text/xml"},{description:"diagramPngDesc",extension:"png",mimeType:"image/png"},{description:"diagramSvgDesc",extension:"svg",mimeType:"image/svg"},{description:"diagramHtmlDesc",extension:"html",mimeType:"text/html"},{description:"diagramXmlDesc",extension:"xml",mimeType:"text/xml"}],Editor.prototype.libraryFileTypes=[{description:"Library (.drawiolib, .xml)",extensions:["drawiolib","xml"]}],Editor.prototype.fileExtensions=[{ext:"html",title:"filetypeHtml"},{ext:"png",title:"filetypePng"},{ext:"svg",title:"filetypeSvg"}],Editor.styles=[{},{commonStyle:{fontColor:"#5C5C5C",strokeColor:"#006658",fillColor:"#21C0A5"}},{commonStyle:{fontColor:"#095C86",strokeColor:"#AF45ED",fillColor:"#F694C1"},edgeStyle:{strokeColor:"#60E696"}},{commonStyle:{fontColor:"#46495D",strokeColor:"#788AA3",fillColor:"#B2C9AB"}},{commonStyle:{fontColor:"#5AA9E6",strokeColor:"#FF6392",fillColor:"#FFE45E"}},{commonStyle:{fontColor:"#1D3557",strokeColor:"#457B9D",fillColor:"#A8DADC"},graph:{background:"#F1FAEE"}},{commonStyle:{fontColor:"#393C56",strokeColor:"#E07A5F",fillColor:"#F2CC8F"},graph:{background:"#F4F1DE",gridColor:"#D4D0C0"}},{commonStyle:{fontColor:"#143642",strokeColor:"#0F8B8D",fillColor:"#FAE5C7"},edgeStyle:{strokeColor:"#A8201A"},graph:{background:"#DAD2D8",gridColor:"#ABA4A9"}},{commonStyle:{fontColor:"#FEFAE0",strokeColor:"#DDA15E",fillColor:"#BC6C25"},graph:{background:"#283618",gridColor:"#48632C"}},{commonStyle:{fontColor:"#E4FDE1",strokeColor:"#028090",fillColor:"#F45B69"},graph:{background:"#114B5F",gridColor:"#0B3240"}},{},{vertexStyle:{strokeColor:"#D0CEE2",fillColor:"#FAD9D5"},edgeStyle:{strokeColor:"#09555B"},commonStyle:{fontColor:"#1A1A1A"}},{vertexStyle:{strokeColor:"#BAC8D3",fillColor:"#09555B",fontColor:"#EEEEEE"},edgeStyle:{strokeColor:"#0B4D6A"}},{vertexStyle:{strokeColor:"#D0CEE2",fillColor:"#5D7F99"},edgeStyle:{strokeColor:"#736CA8"},commonStyle:{fontColor:"#1A1A1A"}},{vertexStyle:{strokeColor:"#FFFFFF",fillColor:"#182E3E",fontColor:"#FFFFFF"},edgeStyle:{strokeColor:"#23445D"},graph:{background:"#FCE7CD",gridColor:"#CFBDA8"}},{vertexStyle:{strokeColor:"#FFFFFF",fillColor:"#F08E81"},edgeStyle:{strokeColor:"#182E3E"},commonStyle:{fontColor:"#1A1A1A"},graph:{background:"#B0E3E6",gridColor:"#87AEB0"}},{vertexStyle:{strokeColor:"#909090",fillColor:"#F5AB50"},edgeStyle:{strokeColor:"#182E3E"},commonStyle:{fontColor:"#1A1A1A"},graph:{background:"#EEEEEE"}},{vertexStyle:{strokeColor:"#EEEEEE",fillColor:"#56517E",fontColor:"#FFFFFF"},edgeStyle:{strokeColor:"#182E3E"},graph:{background:"#FAD9D5",gridColor:"#BFA6A3"}},{vertexStyle:{strokeColor:"#BAC8D3",fillColor:"#B1DDF0",fontColor:"#182E3E"},edgeStyle:{strokeColor:"#EEEEEE",fontColor:"#FFFFFF"},graph:{background:"#09555B",gridColor:"#13B4C2"}},{vertexStyle:{fillColor:"#EEEEEE",fontColor:"#1A1A1A"},edgeStyle:{fontColor:"#FFFFFF"},commonStyle:{strokeColor:"#FFFFFF"},graph:{background:"#182E3E",gridColor:"#4D94C7"}}],Editor.saveImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iYmxhY2siIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48cGF0aCBkPSJNMTkgMTJ2N0g1di03SDN2N2MwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0ydi03aC0yem0tNiAuNjdsMi41OS0yLjU4TDE3IDExLjVsLTUgNS01LTUgMS40MS0xLjQxTDExIDEyLjY3VjNoMnoiLz48L3N2Zz4=",Editor.smallPlusImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDdCMTdENjVCOEM4MTFFNDlCRjVBNDdCODU5NjNBNUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDdCMTdENjZCOEM4MTFFNDlCRjVBNDdCODU5NjNBNUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowN0IxN0Q2M0I4QzgxMUU0OUJGNUE0N0I4NTk2M0E1QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowN0IxN0Q2NEI4QzgxMUU0OUJGNUE0N0I4NTk2M0E1QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtjrjmgAAAAtSURBVHjaYvz//z8DMigvLwcLdHZ2MiKLMzEQCaivkLGsrOw/dU0cAr4GCDAARQsQbTFrv10AAAAASUVORK5CYII=":IMAGE_PATH+"/plus.png",Editor.spinImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDAAMAPUxAEVriVp7lmCAmmGBm2OCnGmHn3OPpneSqYKbr4OcsIScsI2kto6kt46lt5KnuZmtvpquvpuvv56ywaCzwqK1xKu7yay9yq+/zLHAzbfF0bjG0bzJ1LzK1MDN18jT28nT3M3X3tHa4dTc49Xd5Njf5dng5t3k6d/l6uDm6uru8e7x8/Dz9fT29/b4+Pj5+fj5+vr6+v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkKADEAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAADAAMAAAGR8CYcEgsOgYAIax4CCQuQldrCBEsiK8VS2hoFGOrlJDA+cZQwkLnqyoJFZKviSS0ICrE0ec0jDAwIiUeGyBFGhMPFBkhZo1BACH5BAkKAC4ALAAAAAAMAAwAhVB0kFR3k1V4k2CAmmWEnW6Lo3KOpXeSqH2XrIOcsISdsImhtIqhtJCmuJGnuZuwv52wwJ+ywZ+ywqm6yLHBzbLCzrXEz7fF0LnH0rrI0r7L1b/M1sXR2cfT28rV3czW3s/Z4Nfe5Nvi6ODm6uLn6+Ln7OLo7OXq7efs7+zw8u/y9PDy9PX3+Pr7+////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZDQJdwSCxGDAIAoVFkFBwYSyIwGE4OkCJxIdG6WkJEx8sSKj7elfBB0a5SQg1EQ0SVVMPKhDM6iUIkRR4ZFxsgJl6JQQAh+QQJCgAxACwAAAAADAAMAIVGa4lcfZdjgpxkg51nhp5ui6N3kqh5lKqFnbGHn7KIoLOQp7iRp7mSqLmTqbqarr6br7+fssGitcOitcSuvsuuv8uwwMyzw861xNC5x9K6x9K/zNbDztjE0NnG0drJ1NzQ2eDS2+LT2+LV3ePZ4Oba4ebb4ufc4+jm6+7t8PLt8PPt8fPx8/Xx9PX09vf19/j3+Pn///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGQ8CYcEgsUhQFggFSjCQmnE1jcBhqGBXiIuAQSi7FGEIgfIzCFoCXFCZiPO0hKBMiwl7ET6eUYqlWLkUnISImKC1xbUEAIfkECQoAMgAsAAAAAAwADACFTnKPT3KPVHaTYoKcb4yjcY6leZSpf5mtgZuvh5+yiqG0i6K1jqW3kae5nrHBnrLBn7LCoLPCobTDqbrIqrvIs8LOtMPPtcPPtcTPuMbRucfSvcrUvsvVwMzWxdHaydTcytXdzNbezdff0drh2ODl2+Ln3eTp4Obq4ujs5Ont5uvu6O3w6u7w6u7x7/L09vj5+vr7+vv7////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABkdAmXBILHIcicOCUqxELKKPxKAYgiYd4oMAEWo8RVmjIMScwhmBcJMKXwLCECmMGAhPI1QRwBiaSixCMDFhLSorLi8wYYxCQQAh+QQJCgAxACwAAAAADAAMAIVZepVggJphgZtnhp5vjKN2kah3kqmBmq+KobSLorWNpLaRp7mWq7ybr7+gs8KitcSktsWnuManucexwM2ywc63xtG6yNO9ytS+ytW/zNbDz9jH0tvL1d3N197S2+LU3OPU3ePV3eTX3+Xa4efb4ufd5Onl6u7r7vHs7/Lt8PLw8/Xy9Pby9fb09ff2+Pn3+Pn6+vr///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGSMCYcEgseiwSR+RS7GA4JFGF8RiWNiEiJTERgkjFGAQh/KTCGoJwpApnBkITKrwoCFWnFlEhaAxXLC9CBwAGRS4wQgELYY1CQQAh+QQJCgAzACwAAAAADAAMAIVMcI5SdZFhgZtti6JwjaR4k6mAma6Cm6+KobSLorWLo7WNo7aPpredsMCescGitMOitcSmuMaqu8ixwc2zws63xdC4xtG5x9K9ytXAzdfCztjF0NnF0drK1d3M1t7P2N/P2eDT2+LX3+Xe5Onh5+vi5+vj6Ozk6e3n7O/o7O/q7vHs7/Lt8PPu8fPx8/X3+Pn6+vv7+/v8/Pz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRcCZcEgsmkIbTOZTLIlGqZNnchm2SCgiJ6IRqljFmQUiXIVnoITQde4chC9Y+LEQxmTFRkFSNFAqDAMIRQoCAAEEDmeLQQAh+QQJCgAwACwAAAAADAAMAIVXeZRefplff5lhgZtph59yjqV2kaeAmq6FnbGFnrGLorWNpLaQp7mRqLmYrb2essGgs8Klt8apusitvcquv8u2xNC7yNO8ydS8ytTAzdfBzdfM1t7N197Q2eDU3OPX3+XZ4ObZ4ebc4+jf5erg5erg5uvp7fDu8fPv8vTz9fb09vf19/j3+Pn4+fn5+vr6+/v///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRUCYcEgspkwjEKhUVJ1QsBNp0xm2VixiSOMRvlxFGAcTJook5eEHIhQcwpWIkAFQECkNy9AQWFwyEAkPRQ4FAwQIE2llQQAh+QQJCgAvACwAAAAADAAMAIVNcY5SdZFigptph6BvjKN0kKd8lquAmq+EnbGGn7KHn7ONpLaOpbearr+csMCdscCescGhtMOnuMauvsuzws60w862xdC9ytW/y9a/zNbCztjG0drH0tvK1N3M1t7N19/U3ePb4uff5urj6Ozk6e3l6u7m6u7o7PDq7vDt8PPv8vTw8vTw8/X19vf6+vv///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGQ8CXcEgsvlytVUplJLJIpSEDUESFTELBwSgCCQEV42kjDFiMo4uQsDB2MkLHoEHUTD7DRAHC8VAiZ0QSCgYIDxhNiUEAOw==":IMAGE_PATH+"/spin.gif",Editor.globeImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTEuOTkgMkM2LjQ3IDIgMiA2LjQ4IDIgMTJzNC40NyAxMCA5Ljk5IDEwQzE3LjUyIDIyIDIyIDE3LjUyIDIyIDEyUzE3LjUyIDIgMTEuOTkgMnptNi45MyA2aC0yLjk1Yy0uMzItMS4yNS0uNzgtMi40NS0xLjM4LTMuNTYgMS44NC42MyAzLjM3IDEuOTEgNC4zMyAzLjU2ek0xMiA0LjA0Yy44MyAxLjIgMS40OCAyLjUzIDEuOTEgMy45NmgtMy44MmMuNDMtMS40MyAxLjA4LTIuNzYgMS45MS0zLjk2ek00LjI2IDE0QzQuMSAxMy4zNiA0IDEyLjY5IDQgMTJzLjEtMS4zNi4yNi0yaDMuMzhjLS4wOC42Ni0uMTQgMS4zMi0uMTQgMiAwIC42OC4wNiAxLjM0LjE0IDJINC4yNnptLjgyIDJoMi45NWMuMzIgMS4yNS43OCAyLjQ1IDEuMzggMy41Ni0xLjg0LS42My0zLjM3LTEuOS00LjMzLTMuNTZ6bTIuOTUtOEg1LjA4Yy45Ni0xLjY2IDIuNDktMi45MyA0LjMzLTMuNTZDOC44MSA1LjU1IDguMzUgNi43NSA4LjAzIDh6TTEyIDE5Ljk2Yy0uODMtMS4yLTEuNDgtMi41My0xLjkxLTMuOTZoMy44MmMtLjQzIDEuNDMtMS4wOCAyLjc2LTEuOTEgMy45NnpNMTQuMzQgMTRIOS42NmMtLjA5LS42Ni0uMTYtMS4zMi0uMTYtMiAwLS42OC4wNy0xLjM1LjE2LTJoNC42OGMuMDkuNjUuMTYgMS4zMi4xNiAyIDAgLjY4LS4wNyAxLjM0LS4xNiAyem0uMjUgNS41NmMuNi0xLjExIDEuMDYtMi4zMSAxLjM4LTMuNTZoMi45NWMtLjk2IDEuNjUtMi40OSAyLjkzLTQuMzMgMy41NnpNMTYuMzYgMTRjLjA4LS42Ni4xNC0xLjMyLjE0LTIgMC0uNjgtLjA2LTEuMzQtLjE0LTJoMy4zOGMuMTYuNjQuMjYgMS4zMS4yNiAycy0uMSAxLjM2LS4yNiAyaC0zLjM4eiIvPjwvc3ZnPg==",Editor.commentImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuOTkgNGMwLTEuMS0uODktMi0xLjk5LTJINGMtMS4xIDAtMiAuOS0yIDJ2MTJjMCAxLjEuOSAyIDIgMmgxNGw0IDQtLjAxLTE4ek0xOCAxNEg2di0yaDEydjJ6bTAtM0g2VjloMTJ2MnptMC0zSDZWNmgxMnYyeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=",Editor.userImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMTJjMi4yMSAwIDQtMS43OSA0LTRzLTEuNzktNC00LTQtNCAxLjc5LTQgNCAxLjc5IDQgNCA0em0wIDJjLTIuNjcgMC04IDEuMzQtOCA0djJoMTZ2LTJjMC0yLjY2LTUuMzMtNC04LTR6Ii8+PC9zdmc+",Editor.shareImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTggMTYuMDhjLS43NiAwLTEuNDQuMy0xLjk2Ljc3TDguOTEgMTIuN2MuMDUtLjIzLjA5LS40Ni4wOS0uN3MtLjA0LS40Ny0uMDktLjdsNy4wNS00LjExYy41NC41IDEuMjUuODEgMi4wNC44MSAxLjY2IDAgMy0xLjM0IDMtM3MtMS4zNC0zLTMtMy0zIDEuMzQtMyAzYzAgLjI0LjA0LjQ3LjA5LjdMOC4wNCA5LjgxQzcuNSA5LjMxIDYuNzkgOSA2IDljLTEuNjYgMC0zIDEuMzQtMyAzczEuMzQgMyAzIDNjLjc5IDAgMS41LS4zMSAyLjA0LS44MWw3LjEyIDQuMTZjLS4wNS4yMS0uMDguNDMtLjA4LjY1IDAgMS42MSAxLjMxIDIuOTIgMi45MiAyLjkyIDEuNjEgMCAyLjkyLTEuMzEgMi45Mi0yLjkycy0xLjMxLTIuOTItMi45Mi0yLjkyeiIvPjwvc3ZnPg==",Editor.syncImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgNFYxTDggNWw0IDRWNmMzLjMxIDAgNiAyLjY5IDYgNiAwIDEuMDEtLjI1IDEuOTctLjcgMi44bDEuNDYgMS40NkMxOS41NCAxNS4wMyAyMCAxMy41NyAyMCAxMmMwLTQuNDItMy41OC04LTgtOHptMCAxNGMtMy4zMSAwLTYtMi42OS02LTYgMC0xLjAxLjI1LTEuOTcuNy0yLjhMNS4yNCA3Ljc0QzQuNDYgOC45NyA0IDEwLjQzIDQgMTJjMCA0LjQyIDMuNTggOCA4IDh2M2w0LTQtNC00djN6Ii8+PC9zdmc+",Editor.syncDisabledImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTAgNi4zNVY0LjI2Yy0uOC4yMS0xLjU1LjU0LTIuMjMuOTZsMS40NiAxLjQ2Yy4yNS0uMTIuNS0uMjQuNzctLjMzem0tNy4xNC0uOTRsMi4zNiAyLjM2QzQuNDUgOC45OSA0IDEwLjQ0IDQgMTJjMCAyLjIxLjkxIDQuMiAyLjM2IDUuNjRMNCAyMGg2di02bC0yLjI0IDIuMjRDNi42OCAxNS4xNSA2IDEzLjY2IDYgMTJjMC0xIC4yNS0xLjk0LjY4LTIuNzdsOC4wOCA4LjA4Yy0uMjUuMTMtLjUuMjUtLjc3LjM0djIuMDljLjgtLjIxIDEuNTUtLjU0IDIuMjMtLjk2bDIuMzYgMi4zNiAxLjI3LTEuMjdMNC4xNCA0LjE0IDIuODYgNS40MXpNMjAgNGgtNnY2bDIuMjQtMi4yNEMxNy4zMiA4Ljg1IDE4IDEwLjM0IDE4IDEyYzAgMS0uMjUgMS45NC0uNjggMi43N2wxLjQ2IDEuNDZDMTkuNTUgMTUuMDEgMjAgMTMuNTYgMjAgMTJjMC0yLjIxLS45MS00LjItMi4zNi01LjY0TDIwIDR6Ii8+PC9zdmc+",Editor.syncProblemImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMyAxMmMwIDIuMjEuOTEgNC4yIDIuMzYgNS42NEwzIDIwaDZ2LTZsLTIuMjQgMi4yNEM1LjY4IDE1LjE1IDUgMTMuNjYgNSAxMmMwLTIuNjEgMS42Ny00LjgzIDQtNS42NVY0LjI2QzUuNTUgNS4xNSAzIDguMjcgMyAxMnptOCA1aDJ2LTJoLTJ2MnpNMjEgNGgtNnY2bDIuMjQtMi4yNEMxOC4zMiA4Ljg1IDE5IDEwLjM0IDE5IDEyYzAgMi42MS0xLjY3IDQuODMtNCA1LjY1djIuMDljMy40NS0uODkgNi00LjAxIDYtNy43NCAwLTIuMjEtLjkxLTQuMi0yLjM2LTUuNjRMMjEgNHptLTEwIDloMlY3aC0ydjZ6Ii8+PC9zdmc+",Editor.drawLogoImage="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJFYmVuZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMjUwIDI1MCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjUwIDI1MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MntmaWxsOiMwMDA7fQo8L3N0eWxlPgo8cGF0aCBjbGFzcz0ic3QyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDE1KSIgZD0iTTE5Ny4xLDEzOC4zaC0yMy43bC0yNS00Mi43YzUuNy0xLjIsOS44LTYuMiw5LjctMTJWNTEuNWMwLTYuOC01LjQtMTIuMy0xMi4yLTEyLjNjMCwwLTAuMSwwLTAuMSwwaC00MS43CgljLTYuOCwwLTEyLjMsNS40LTEyLjMsMTIuMmMwLDAsMCwwLjEsMCwwLjF2MzIuMWMwLDUuOCw0LDEwLjgsOS43LDEybC0yNSw0Mi43SDUyLjljLTYuOCwwLTEyLjMsNS40LTEyLjMsMTIuMmMwLDAsMCwwLjEsMCwwLjEKCXYzMi4xYzAsNi44LDUuNCwxMi4zLDEyLjIsMTIuM2MwLDAsMC4xLDAsMC4xLDBoNDEuN2M2LjgsMCwxMi4zLTUuNCwxMi4zLTEyLjJjMCwwLDAtMC4xLDAtMC4xdi0zMi4xYzAtNi44LTUuNC0xMi4zLTEyLjItMTIuMwoJYzAsMC0wLjEsMC0wLjEsMGgtNGwyNC44LTQyLjRoMTkuM2wyNC45LDQyLjRoLTQuMWMtNi44LDAtMTIuMyw1LjQtMTIuMywxMi4yYzAsMCwwLDAuMSwwLDAuMXYzMi4xYzAsNi44LDUuNCwxMi4zLDEyLjIsMTIuMwoJYzAsMCwwLjEsMCwwLjEsMGg0MS43YzYuOCwwLDEyLjMtNS40LDEyLjMtMTIuMmMwLDAsMC0wLjEsMC0wLjF2LTMyLjFjMC02LjgtNS40LTEyLjMtMTIuMi0xMi4zCglDMTk3LjIsMTM4LjMsMTk3LjIsMTM4LjMsMTk3LjEsMTM4LjN6Ii8+Cjwvc3ZnPgo=",Editor.tailSpin="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9Ii0yIC0yIDQ0IDQ0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSI4LjA0MiUiIHkxPSIwJSIgeDI9IjY1LjY4MiUiIHkyPSIyMy44NjUlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM4MDgwODAiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjODA4MDgwIiBzdG9wLW9wYWNpdHk9Ii42MzEiIG9mZnNldD0iNjMuMTQ2JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjODA4MDgwIiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTM2IDE4YzAtOS45NC04LjA2LTE4LTE4LTE4IiBzdHJva2U9InVybCgjYSkiIHN0cm9rZS13aWR0aD0iNiI+CiAgICAgICAgICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybQogICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIKICAgICAgICAgICAgICAgICAgICB0eXBlPSJyb3RhdGUiCiAgICAgICAgICAgICAgICAgICAgZnJvbT0iMCAxOCAxOCIKICAgICAgICAgICAgICAgICAgICB0bz0iMzYwIDE4IDE4IgogICAgICAgICAgICAgICAgICAgIGR1cj0iMC45cyIKICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4KICAgICAgICAgICAgPC9wYXRoPgogICAgICAgICAgICA8Y2lyY2xlIGZpbGw9IiM4MDgwODAiIGN4PSIzNiIgY3k9IjE4IiByPSIxIj4KICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtCiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIgogICAgICAgICAgICAgICAgICAgIHR5cGU9InJvdGF0ZSIKICAgICAgICAgICAgICAgICAgICBmcm9tPSIwIDE4IDE4IgogICAgICAgICAgICAgICAgICAgIHRvPSIzNjAgMTggMTgiCiAgICAgICAgICAgICAgICAgICAgZHVyPSIwLjlzIgogICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPgogICAgICAgICAgICA8L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=",Editor.tweetImage=IMAGE_PATH+"/tweet.png",Editor.facebookImage=IMAGE_PATH+"/facebook.png",Editor.blankImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==",Editor.hiResImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA+CAMAAACLMWy1AAAAh1BMVEUAAABMTExERERBQUFBQUFFRUVAQEBCQkJAQEA6OjpDQ0NKSkpBQUFBQUFERERERERBQUFCQkJCQkJCQkJJSUlBQUFCQkJDQ0NDQ0NCQkJDQ0NBQUFBQUFCQkJBQUFCQkJCQkJDQ0NCQkJHR0dBQUFCQkJCQkJAQEBCQkJDQ0NAQEBERERCQkIk1hS2AAAAKnRSTlMAAjj96BL7PgQFRwfu3TYazKuVjRXl1V1DPCn1uLGjnWNVIgy9hU40eGqPkM38AAACG0lEQVRYw+2X63KbMBCFzwZblgGDceN74muatpLe//m6MHV3gHGFAv2RjM94MAbxzdnVsQbBDKwH8AH8MDAyafzjqYeyOG04XE7RS8nIRDXg6BlT+rA0nmtAPh+NQRDxIASIMG44rAMrGunBgHwy3uUldxggIStGKp2f+DQc2O4h4eQsX3O2IFB/oEbsjOKbStnjAEA+zJ0ylZTbgvoDn8xNyn6Dbj5Kd4GsNpABa6duQPfSdEj88TgMAhKuCWjAkgmFXPLnsD0pWd3OFGdrMugQII/eOMPEiGOzqPMIeWrcSoMCg71W1pXBPvCP+gS/OdXqQ3uW23+93XGWLl/OaBb805bNcBPoEIcVJsnHzcxpZH86u5KZ9gDby5dQCcnKqdbke4ItI4Tzd7IW9hZQt4EO6GG9b9sYuuK9Wwn8TIr2xKbF2+3Nhr+qxChJ/AI6pIfCu4z4Zowp4ZUNihz79vewzctnHDwTvQO/hCdFBzrUGDOPn2Y/F8YKT4oOATLvlhOznzmBSdFBJWtc58y7r+UVFOCQczy3wpN6pegDqHtsCPTGvH9JuTO0Dyg8icldYPk+RB6g8Aofj4m2EKBvtTmUPD9xDd1pPcSReV2U5iD/ik2yrngtvvqBfPzOvKiDTKTsCdoHZJ7pLLffgTwlJ5vJdtJV2/jiAYaLvLGhMAEDO5QcDg2M/jOw/8Zn+K3ZwJvHT7ZffgC/NvA3zcybTeIfE4EAAAAASUVORK5CYII=":IMAGE_PATH+"/img-hi-res.png",Editor.loResImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA+CAMAAACLMWy1AAAAS1BMVEVAQEAAAAA1NTVBQUFDQ0NDQ0NFRUVERERBQUFBQUFBQUFAQEBBQUFBQUFCQkJCQkJCQkJBQUFCQkJDQ0NDQ0NCQkJCQkJCQkJGRkb5/XqTAAAAGXRSTlP+AAWODlASCsesX+Lc2LyWe3pwa1tCPjohjSJfoAAAAI1JREFUWMPt1MkKhTAMRuG0anvneXr/J71nUypKcdqI/N8yhLMKMZE1CahnClDQzMPB44ED3EgeCubgDWnWQMHpwTtKwTe+UHD4sJ94wbUEHHFGhILlYDeSnsQeabeCgsPBgB0MOZZ9oGA5GJFiJSfUULAfjLjARrhCwX7wh2YCDwVbwZkUBKqFFJRN+wOcwSgR2sREcgAAAABJRU5ErkJggg==":IMAGE_PATH+"/img-lo-res.png",Editor.cameraImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMThweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE0LjEyIDRsMS44MyAySDIwdjEySDRWNmg0LjA1bDEuODMtMmg0LjI0TTE1IDJIOUw3LjE3IDRINGMtMS4xIDAtMiAuOS0yIDJ2MTJjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY2YzAtMS4xLS45LTItMi0yaC0zLjE3TDE1IDJ6bS0zIDdjMS42NSAwIDMgMS4zNSAzIDNzLTEuMzUgMy0zIDMtMy0xLjM1LTMtMyAxLjM1LTMgMy0zbTAtMmMtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNSA1LTIuMjQgNS01LTIuMjQtNS01LTV6Ii8+PC9zdmc+",Editor.tagsImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjE4cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE4cHgiIGZpbGw9IiMwMDAwMDAiPjxnPjxwYXRoIGQ9Ik0wLDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvZz48Zz48Zz48cGF0aCBkPSJNMjEuNDEsMTEuNDFsLTguODMtOC44M0MxMi4yMSwyLjIxLDExLjcsMiwxMS4xNywySDRDMi45LDIsMiwyLjksMiw0djcuMTdjMCwwLjUzLDAuMjEsMS4wNCwwLjU5LDEuNDFsOC44Myw4LjgzIGMwLjc4LDAuNzgsMi4wNSwwLjc4LDIuODMsMGw3LjE3LTcuMTdDMjIuMiwxMy40NiwyMi4yLDEyLjIsMjEuNDEsMTEuNDF6IE0xMi44MywyMEw0LDExLjE3VjRoNy4xN0wyMCwxMi44M0wxMi44MywyMHoiLz48Y2lyY2xlIGN4PSI2LjUiIGN5PSI2LjUiIHI9IjEuNSIvPjwvZz48L2c+PC9zdmc+",Editor.svgBrokenImage=Graph.createSvgImage(10,10,'<rect x="0" y="0" width="10" height="10" stroke="#000" fill="transparent"/><path d="m 0 0 L 10 10 L 0 10 L 10 0" stroke="#000" fill="transparent"/>'),Editor.errorImage="data:image/gif;base64,R0lGODlhEAAQAPcAAADGAIQAAISEhP8AAP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEAAAAALAAAAAAQABAAAAhoAAEIFBigYMGBCAkGGMCQ4cGECxtKHBAAYUQCEzFSHLiQgMeGHjEGEAAg4oCQJz86LCkxpEqHAkwyRClxpEyXGmGaREmTIsmOL1GO/DkzI0yOE2sKIMlRJsWhCQHENDiUaVSpS5cmDAgAOw==",Editor.configurationKey=".configuration",Editor.settingsKey=".drawio-config",Editor.defaultCustomLibraries=[],Editor.enableCustomLibraries=!0,Editor.enableCustomProperties=!0,Editor.defaultIncludeDiagram=!0,Editor.enableServiceWorker="0"!=urlParams.pwa&&"serviceWorker"in navigator&&("1"==urlParams.offline||/.*\.diagrams\.net$/.test(window.location.hostname)||/.*\.draw\.io$/.test(window.location.hostname)),Editor.enableWebFonts="1"!=urlParams["safe-style-src"],Editor.enableShadowOption=!mxClient.IS_SF,Editor.enableExportUrl=!0,Editor.compressXml=!0,Editor.oneDriveInlinePicker=null==window.urlParams||"0"!=window.urlParams.inlinePicker,Editor.globalVars=null,Editor.config=null,Editor.configVersion=null,Editor.defaultBorder=5,Editor.commonProperties=[{name:"comic",dispName:"Comic",type:"bool",defVal:!1,isVisible:function(e,t){return"1"!=mxUtils.getValue(e.style,"sketch","0")}},{name:"jiggle",dispName:"Jiggle",type:"float",min:0,defVal:1,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"comic","0")||"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"fillWeight",dispName:"Fill Weight",type:"int",defVal:-1,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"hachureGap",dispName:"Hachure Gap",type:"int",defVal:-1,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"hachureAngle",dispName:"Hachure Angle",type:"int",defVal:-41,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"curveFitting",dispName:"Curve Fitting",type:"float",defVal:.95,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"simplification",dispName:"Simplification",type:"float",defVal:0,min:0,max:1,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"disableMultiStroke",dispName:"Disable Multi Stroke",type:"bool",defVal:!1,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"disableMultiStrokeFill",dispName:"Disable Multi Stroke Fill",type:"bool",defVal:!1,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"dashOffset",dispName:"Dash Offset",type:"int",defVal:-1,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"dashGap",dispName:"Dash Gap",type:"int",defVal:-1,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"zigzagOffset",dispName:"ZigZag Offset",type:"int",defVal:-1,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"jiggle",dispName:"Jiggle",type:"float",min:0,defVal:1,isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"comic","0")||"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}},{name:"sketchStyle",dispName:"Sketch Style",type:"enum",defVal:"rough",enumList:[{val:"rough",dispName:"Rough"},{val:"comic",dispName:"Comic"}],isVisible:function(e,t){return"1"==mxUtils.getValue(e.style,"sketch","1"==urlParams.rough?"1":"0")}}],Editor.commonEdgeProperties=[{type:"separator"},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"sourcePortConstraint",dispName:"Source Constraint",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"None"},{val:"north",dispName:"North"},{val:"east",dispName:"East"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"targetPortConstraint",dispName:"Target Constraint",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"None"},{val:"north",dispName:"North"},{val:"east",dispName:"East"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"jettySize",dispName:"Jetty Size",type:"int",min:0,defVal:"auto",allowAuto:!0,isVisible:function(e){return"orthogonalEdgeStyle"==mxUtils.getValue(e.style,mxConstants.STYLE_EDGE,null)}},{name:"fillOpacity",dispName:"Fill Opacity",type:"int",min:0,max:100,defVal:100},{name:"strokeOpacity",dispName:"Stroke Opacity",type:"int",min:0,max:100,defVal:100},{name:"startFill",dispName:"Start Fill",type:"bool",defVal:!0},{name:"endFill",dispName:"End Fill",type:"bool",defVal:!0},{name:"perimeterSpacing",dispName:"Terminal Spacing",type:"float",defVal:0},{name:"anchorPointDirection",dispName:"Anchor Direction",type:"bool",defVal:!0},{name:"snapToPoint",dispName:"Snap to Point",type:"bool",defVal:!1},{name:"fixDash",dispName:"Fixed Dash",type:"bool",defVal:!1},{name:"editable",dispName:"Editable",type:"bool",defVal:!0},{name:"metaEdit",dispName:"Edit Dialog",type:"bool",defVal:!1},{name:"backgroundOutline",dispName:"Background Outline",type:"bool",defVal:!1},{name:"bendable",dispName:"Bendable",type:"bool",defVal:!0},{name:"movable",dispName:"Movable",type:"bool",defVal:!0},{name:"cloneable",dispName:"Cloneable",type:"bool",defVal:!0},{name:"deletable",dispName:"Deletable",type:"bool",defVal:!0},{name:"noJump",dispName:"No Jumps",type:"bool",defVal:!1},{name:"flowAnimation",dispName:"Flow Animation",type:"bool",defVal:!1},{name:"ignoreEdge",dispName:"Ignore Edge",type:"bool",defVal:!1},{name:"orthogonalLoop",dispName:"Loop Routing",type:"bool",defVal:!1},{name:"orthogonal",dispName:"Orthogonal",type:"bool",defVal:!1}].concat(Editor.commonProperties),Editor.commonVertexProperties=[{name:"colspan",dispName:"Colspan",type:"int",min:1,defVal:1,isVisible:function(e,t){t=t.editorUi.editor.graph;return"1"==urlParams.test&&1==e.vertices.length&&0==e.edges.length&&t.isTableCell(e.vertices[0])}},{name:"rowspan",dispName:"Rowspan",type:"int",min:1,defVal:1,isVisible:function(e,t){t=t.editorUi.editor.graph;return"1"==urlParams.test&&1==e.vertices.length&&0==e.edges.length&&t.isTableCell(e.vertices[0])}},{type:"separator"},{name:"resizeLastRow",dispName:"Resize Last Row",type:"bool",getDefaultValue:function(e,t){e=1==e.vertices.length&&0==e.edges.length?e.vertices[0]:null,e=t.editorUi.editor.graph.getCellStyle(e);return"1"==mxUtils.getValue(e,"resizeLastRow","0")},isVisible:function(e,t){t=t.editorUi.editor.graph;return 1==e.vertices.length&&0==e.edges.length&&t.isTable(e.vertices[0])}},{name:"resizeLast",dispName:"Resize Last Column",type:"bool",getDefaultValue:function(e,t){e=1==e.vertices.length&&0==e.edges.length?e.vertices[0]:null,e=t.editorUi.editor.graph.getCellStyle(e);return"1"==mxUtils.getValue(e,"resizeLast","0")},isVisible:function(e,t){t=t.editorUi.editor.graph;return 1==e.vertices.length&&0==e.edges.length&&t.isTable(e.vertices[0])}},{name:"fillOpacity",dispName:"Fill Opacity",type:"int",min:0,max:100,defVal:100},{name:"strokeOpacity",dispName:"Stroke Opacity",type:"int",min:0,max:100,defVal:100},{name:"overflow",dispName:"Text Overflow",defVal:"visible",type:"enum",enumList:[{val:"visible",dispName:"Visible"},{val:"hidden",dispName:"Hidden"},{val:"block",dispName:"Block"},{val:"fill",dispName:"Fill"},{val:"width",dispName:"Width"}]},{name:"noLabel",dispName:"Hide Label",type:"bool",defVal:!1},{name:"labelPadding",dispName:"Label Padding",type:"float",defVal:0},{name:"direction",dispName:"Direction",type:"enum",defVal:"east",enumList:[{val:"north",dispName:"North"},{val:"east",dispName:"East"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"portConstraint",dispName:"Constraint",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"None"},{val:"north",dispName:"North"},{val:"east",dispName:"East"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"portConstraintRotation",dispName:"Rotate Constraint",type:"bool",defVal:!1},{name:"connectable",dispName:"Connectable",type:"bool",getDefaultValue:function(e,t){e=1==e.vertices.length&&0==e.edges.length?e.vertices[0]:null;return t.editorUi.editor.graph.isCellConnectable(e)},isVisible:function(e,t){return 1==e.vertices.length&&0==e.edges.length}},{name:"allowArrows",dispName:"Allow Arrows",type:"bool",defVal:!0},{name:"snapToPoint",dispName:"Snap to Point",type:"bool",defVal:!1},{name:"perimeter",dispName:"Perimeter",defVal:"none",type:"enum",enumList:[{val:"none",dispName:"None"},{val:"rectanglePerimeter",dispName:"Rectangle"},{val:"ellipsePerimeter",dispName:"Ellipse"},{val:"rhombusPerimeter",dispName:"Rhombus"},{val:"trianglePerimeter",dispName:"Triangle"},{val:"hexagonPerimeter2",dispName:"Hexagon"},{val:"lifelinePerimeter",dispName:"Lifeline"},{val:"orthogonalPerimeter",dispName:"Orthogonal"},{val:"backbonePerimeter",dispName:"Backbone"},{val:"calloutPerimeter",dispName:"Callout"},{val:"parallelogramPerimeter",dispName:"Parallelogram"},{val:"trapezoidPerimeter",dispName:"Trapezoid"},{val:"stepPerimeter",dispName:"Step"},{val:"centerPerimeter",dispName:"Center"}]},{name:"fixDash",dispName:"Fixed Dash",type:"bool",defVal:!1},{name:"autosize",dispName:"Autosize",type:"bool",defVal:!1},{name:"container",dispName:"Container",type:"bool",defVal:!1,isVisible:function(e,t){return 1==e.vertices.length&&0==e.edges.length}},{name:"dropTarget",dispName:"Drop Target",type:"bool",getDefaultValue:function(e,t){e=1==e.vertices.length&&0==e.edges.length?e.vertices[0]:null,t=t.editorUi.editor.graph;return null!=e&&(t.isSwimlane(e)||0<t.model.getChildCount(e))},isVisible:function(e,t){return 1==e.vertices.length&&0==e.edges.length}},{name:"collapsible",dispName:"Collapsible",type:"bool",getDefaultValue:function(e,t){var i=1==e.vertices.length&&0==e.edges.length?e.vertices[0]:null,t=t.editorUi.editor.graph;return null!=i&&(t.isContainer(i)&&"0"!=e.style.collapsible||!t.isContainer(i)&&"1"==e.style.collapsible)},isVisible:function(e,t){return 1==e.vertices.length&&0==e.edges.length}},{name:"recursiveResize",dispName:"Resize Children",type:"bool",defVal:!0,isVisible:function(e,t){return 1==e.vertices.length&&0==e.edges.length&&!t.editorUi.editor.graph.isSwimlane(e.vertices[0])&&null==mxUtils.getValue(e.style,"childLayout",null)}},{name:"expand",dispName:"Expand",type:"bool",defVal:!0},{name:"part",dispName:"Part",type:"bool",defVal:!1,isVisible:function(e,t){t=t.editorUi.editor.graph.model;return 0<e.vertices.length&&t.isVertex(t.getParent(e.vertices[0]))}},{name:"editable",dispName:"Editable",type:"bool",defVal:!0},{name:"metaEdit",dispName:"Edit Dialog",type:"bool",defVal:!1},{name:"backgroundOutline",dispName:"Background Outline",type:"bool",defVal:!1},{name:"movable",dispName:"Movable",type:"bool",defVal:!0},{name:"movableLabel",dispName:"Movable Label",type:"bool",defVal:!1,isVisible:function(e,t){e=0<e.vertices.length?t.editorUi.editor.graph.getCellGeometry(e.vertices[0]):null;return null!=e&&!e.relative}},{name:"resizable",dispName:"Resizable",type:"bool",defVal:!0},{name:"resizeWidth",dispName:"Resize Width",type:"bool",defVal:!1},{name:"resizeHeight",dispName:"Resize Height",type:"bool",defVal:!1},{name:"rotatable",dispName:"Rotatable",type:"bool",defVal:!0},{name:"cloneable",dispName:"Cloneable",type:"bool",defVal:!0},{name:"deletable",dispName:"Deletable",type:"bool",defVal:!0},{name:"treeFolding",dispName:"Tree Folding",type:"bool",defVal:!1},{name:"treeMoving",dispName:"Tree Moving",type:"bool",defVal:!1},{name:"pointerEvents",dispName:"Pointer Events",type:"bool",defVal:!0,isVisible:function(e,t){var i=mxUtils.getValue(e.style,mxConstants.STYLE_FILLCOLOR,null);return t.editorUi.editor.graph.isSwimlane(e.vertices[0])||null==i||i==mxConstants.NONE||null!=e.style.pointerEvents}},{name:"moveCells",dispName:"Move Cells on Fold",type:"bool",defVal:!1,isVisible:function(e,t){return 0<e.vertices.length&&t.editorUi.editor.graph.isContainer(e.vertices[0])}}].concat(Editor.commonProperties),Editor.defaultCsvValue='##\n## Example CSV import. Use ## for comments and # for configuration. Paste CSV below.\n## The following names are reserved and should not be used (or ignored):\n## id, tooltip, placeholder(s), link and label (see below)\n##\n#\n## Node label with placeholders and HTML.\n## Default is \'%name_of_first_column%\'.\n#\n# label: %name%<br><i style="color:gray;">%position%</i><br><a href="mailto:%email%">Email</a>\n#\n## Node style (placeholders are replaced once).\n## Default is the current style for nodes.\n#\n# style: label;image=%image%;whiteSpace=wrap;html=1;rounded=1;fillColor=%fill%;strokeColor=%stroke%;\n#\n## Parent style for nodes with child nodes (placeholders are replaced once).\n#\n# parentstyle: swimlane;whiteSpace=wrap;html=1;childLayout=stackLayout;horizontal=1;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;\n#\n## Optional column name that contains a reference to a named style in styles.\n## Default is the current style for nodes.\n#\n# stylename: -\n#\n## JSON for named styles of the form {"name": "style", "name": "style"} where style is a cell style with\n## placeholders that are replaced once.\n#\n# styles: -\n#\n## JSON for variables in styles of the form {"name": "value", "name": "value"} where name is a string\n## that will replace a placeholder in a style.\n#\n# vars: -\n#\n## Optional column name that contains a reference to a named label in labels.\n## Default is the current label.\n#\n# labelname: -\n#\n## JSON for named labels of the form {"name": "label", "name": "label"} where label is a cell label with\n## placeholders.\n#\n# labels: -\n#\n## Uses the given column name as the identity for cells (updates existing cells).\n## Default is no identity (empty value or -).\n#\n# identity: -\n#\n## Uses the given column name as the parent reference for cells. Default is no parent (empty or -).\n## The identity above is used for resolving the reference so it must be specified.\n#\n# parent: -\n#\n## Adds a prefix to the identity of cells to make sure they do not collide with existing cells (whose\n## IDs are numbers from 0..n, sometimes with a GUID prefix in the context of realtime collaboration).\n## Default is csvimport-.\n#\n# namespace: csvimport-\n#\n## Connections between rows ("from": source colum, "to": target column).\n## Label, style and invert are optional. Defaults are \'\', current style and false.\n## If placeholders are used in the style, they are replaced with data from the source.\n## An optional placeholders can be set to target to use data from the target instead.\n## In addition to label, an optional fromlabel and tolabel can be used to name the column\n## that contains the text for the label in the edges source or target (invert ignored).\n## In addition to those, an optional source and targetlabel can be used to specify a label\n## that contains placeholders referencing the respective columns in the source or target row.\n## The label is created in the form fromlabel + sourcelabel + label + tolabel + targetlabel.\n## Additional labels can be added by using an optional labels array with entries of the\n## form {"label": string, "x": number, "y": number, "dx": number, "dy": number} where\n## x is from -1 to 1 along the edge, y is orthogonal, and dx/dy are offsets in pixels.\n## An optional placeholders with the string value "source" or "target" can be specified\n## to replace placeholders in the additional label with data from the source or target.\n## The target column may contain a comma-separated list of values.\n## Multiple connect entries are allowed.\n#\n# connect: {"from": "manager", "to": "name", "invert": true, "label": "manages", \\\n#          "style": "curved=1;endArrow=blockThin;endFill=1;fontSize=11;"}\n# connect: {"from": "refs", "to": "id", "style": "curved=1;fontSize=11;"}\n#\n## Node x-coordinate. Possible value is a column name. Default is empty. Layouts will\n## override this value.\n#\n# left: \n#\n## Node y-coordinate. Possible value is a column name. Default is empty. Layouts will\n## override this value.\n#\n# top: \n#\n## Node width. Possible value is a number (in px), auto or an @ sign followed by a column\n## name that contains the value for the width. Default is auto.\n#\n# width: auto\n#\n## Node height. Possible value is a number (in px), auto or an @ sign followed by a column\n## name that contains the value for the height. Default is auto.\n#\n# height: auto\n#\n## Padding for autosize. Default is 0.\n#\n# padding: -12\n#\n## Comma-separated list of ignored columns for metadata. (These can be\n## used for connections and styles but will not be added as metadata.)\n#\n# ignore: id,image,fill,stroke,refs,manager\n#\n## Column to be renamed to link attribute (used as link).\n#\n# link: url\n#\n## Spacing between nodes. Default is 40.\n#\n# nodespacing: 40\n#\n## Spacing between levels of hierarchical layouts. Default is 100.\n#\n# levelspacing: 100\n#\n## Spacing between parallel edges. Default is 40. Use 0 to disable.\n#\n# edgespacing: 40\n#\n## Name or JSON of layout. Possible values are auto, none, verticaltree, horizontaltree,\n## verticalflow, horizontalflow, organic, circle or a JSON string as used in Layout, Apply.\n## Default is auto.\n#\n# layout: auto\n#\n## ---- CSV below this line. First line are column names. ----\nname,position,id,location,manager,email,fill,stroke,refs,url,image\nTessa Miller,CFO,emi,Office 1,,me@example.com,#dae8fc,#6c8ebf,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-3-128.png\nEdward Morrison,Brand Manager,emo,Office 2,Tessa Miller,me@example.com,#d5e8d4,#82b366,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-10-3-128.png\nAlison Donovan,System Admin,rdo,Office 3,Tessa Miller,me@example.com,#d5e8d4,#82b366,"emo,tva",https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-2-128.png\nEvan Valet,HR Director,tva,Office 4,Tessa Miller,me@example.com,#d5e8d4,#82b366,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-9-2-128.png\n',Editor.createRoughCanvas=function(r){var e=rough.canvas({getContext:function(){return r}});return e.draw=function(e){for(var t=e.sets||[],i=e.options||this.getDefaultOptions(),l=0;l<t.length;l++){var a=t[l];switch(a.type){case"path":null!=i.stroke&&this._drawToContext(r,a,i);break;case"fillPath":this._drawToContext(r,a,i);break;case"fillSketch":this.fillSketch(r,a,i)}}},e.fillSketch=function(e,t,i){var l=r.state.strokeColor,a=r.state.strokeWidth,n=r.state.strokeAlpha,o=r.state.dashed,s=i.fillWeight;s<0&&(s=i.strokeWidth/2),r.setStrokeAlpha(r.state.fillAlpha),r.setStrokeColor(i.fill||""),r.setStrokeWidth(s),r.setDashed(!1),this._drawToContext(e,t,i),r.setDashed(o),r.setStrokeWidth(a),r.setStrokeColor(l),r.setStrokeAlpha(n)},e._drawToContext=function(e,t,i){e.begin();for(var l=0;l<t.ops.length;l++){var a=t.ops[l],n=a.data;switch(a.op){case"move":e.moveTo(n[0],n[1]);break;case"bcurveTo":e.curveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case"lineTo":e.lineTo(n[0],n[1])}}e.end(),"fillPath"===t.type&&i.filled?e.fill():e.stroke()},e},function(){function r(e,t,i){this.canvas=e,this.rc=t,this.shape=i,this.canvas.setLineJoin("round"),this.canvas.setLineCap("round"),this.originalBegin=this.canvas.begin,this.canvas.begin=mxUtils.bind(this,r.prototype.begin),this.originalEnd=this.canvas.end,this.canvas.end=mxUtils.bind(this,r.prototype.end),this.originalRect=this.canvas.rect,this.canvas.rect=mxUtils.bind(this,r.prototype.rect),this.originalRoundrect=this.canvas.roundrect,this.canvas.roundrect=mxUtils.bind(this,r.prototype.roundrect),this.originalEllipse=this.canvas.ellipse,this.canvas.ellipse=mxUtils.bind(this,r.prototype.ellipse),this.originalLineTo=this.canvas.lineTo,this.canvas.lineTo=mxUtils.bind(this,r.prototype.lineTo),this.originalMoveTo=this.canvas.moveTo,this.canvas.moveTo=mxUtils.bind(this,r.prototype.moveTo),this.originalQuadTo=this.canvas.quadTo,this.canvas.quadTo=mxUtils.bind(this,r.prototype.quadTo),this.originalCurveTo=this.canvas.curveTo,this.canvas.curveTo=mxUtils.bind(this,r.prototype.curveTo),this.originalArcTo=this.canvas.arcTo,this.canvas.arcTo=mxUtils.bind(this,r.prototype.arcTo),this.originalClose=this.canvas.close,this.canvas.close=mxUtils.bind(this,r.prototype.close),this.originalFill=this.canvas.fill,this.canvas.fill=mxUtils.bind(this,r.prototype.fill),this.originalStroke=this.canvas.stroke,this.canvas.stroke=mxUtils.bind(this,r.prototype.stroke),this.originalFillAndStroke=this.canvas.fillAndStroke,this.canvas.fillAndStroke=mxUtils.bind(this,r.prototype.fillAndStroke),this.path=[],this.passThrough=!1}r.prototype.moveOp="M",r.prototype.lineOp="L",r.prototype.quadOp="Q",r.prototype.curveOp="C",r.prototype.closeOp="Z",r.prototype.getStyle=function(e,t){var i=1;if(null!=this.shape.state){var l=this.shape.state.cell.id;if(null!=l)for(var a=0;a<l.length;a++)i=(i<<5)-i+l.charCodeAt(a)<<0}var n={strokeWidth:this.canvas.state.strokeWidth,seed:i,preserveVertices:!0},o=this.rc.getDefaultOptions();e?n.stroke="none"===this.canvas.state.strokeColor?"transparent":this.canvas.state.strokeColor:delete n.stroke;var s=null;(n.filled=t)?(n.fill="none"===this.canvas.state.fillColor?"":this.canvas.state.fillColor,s="none"===this.canvas.state.gradientColor?null:this.canvas.state.gradientColor):n.fill="",n.bowing=mxUtils.getValue(this.shape.style,"bowing",o.bowing),n.hachureAngle=mxUtils.getValue(this.shape.style,"hachureAngle",o.hachureAngle),n.curveFitting=mxUtils.getValue(this.shape.style,"curveFitting",o.curveFitting),n.roughness=mxUtils.getValue(this.shape.style,"jiggle",o.roughness),n.simplification=mxUtils.getValue(this.shape.style,"simplification",o.simplification),n.disableMultiStroke=mxUtils.getValue(this.shape.style,"disableMultiStroke",o.disableMultiStroke),n.disableMultiStrokeFill=mxUtils.getValue(this.shape.style,"disableMultiStrokeFill",o.disableMultiStrokeFill);var e=mxUtils.getValue(this.shape.style,"hachureGap",-1);n.hachureGap="auto"==e?-1:e,n.dashGap=mxUtils.getValue(this.shape.style,"dashGap",e),n.dashOffset=mxUtils.getValue(this.shape.style,"dashOffset",e),n.zigzagOffset=mxUtils.getValue(this.shape.style,"zigzagOffset",e);t=mxUtils.getValue(this.shape.style,"fillWeight",-1);n.fillWeight="auto"==t?-1:t;e=mxUtils.getValue(this.shape.style,"fillStyle","auto");return"auto"==e&&(t=mxUtils.hex2rgba(null!=this.shape.state&&"transparent"!=this.shape.state.view.graph.defaultPageBackgroundColor?this.shape.state.view.graph.defaultPageBackgroundColor:Editor.isDarkMode()?Editor.darkColor:"#ffffff"),e=null!=n.fill&&(null!=s||null!=t&&n.fill==t)?"solid":o.fillStyle),n.fillStyle=e,n},r.prototype.begin=function(){this.passThrough?this.originalBegin.apply(this.canvas,arguments):this.path=[]},r.prototype.end=function(){this.passThrough&&this.originalEnd.apply(this.canvas,arguments)},r.prototype.addOp=function(){if(null!=this.path&&(this.path.push(arguments[0]),2<arguments.length)){this.canvas.state;for(var e=2;e<arguments.length;e+=2)this.lastX=arguments[e-1],this.lastY=arguments[e],this.path.push(this.canvas.format(this.lastX)),this.path.push(this.canvas.format(this.lastY))}},r.prototype.lineTo=function(e,t){this.passThrough?this.originalLineTo.apply(this.canvas,arguments):(this.addOp(this.lineOp,e,t),this.lastX=e,this.lastY=t)},r.prototype.moveTo=function(e,t){this.passThrough?this.originalMoveTo.apply(this.canvas,arguments):(this.addOp(this.moveOp,e,t),this.lastX=e,this.lastY=t,this.firstX=e,this.firstY=t)},r.prototype.close=function(){this.passThrough?this.originalClose.apply(this.canvas,arguments):this.addOp(this.closeOp)},r.prototype.quadTo=function(e,t,i,l){this.passThrough?this.originalQuadTo.apply(this.canvas,arguments):(this.addOp(this.quadOp,e,t,i,l),this.lastX=i,this.lastY=l)},r.prototype.curveTo=function(e,t,i,l,a,n){this.passThrough?this.originalCurveTo.apply(this.canvas,arguments):(this.addOp(this.curveOp,e,t,i,l,a,n),this.lastX=a,this.lastY=n)},r.prototype.arcTo=function(e,t,i,l,a,n,o){if(this.passThrough)this.originalArcTo.apply(this.canvas,arguments);else{var s=mxUtils.arcToCurves(this.lastX,this.lastY,e,t,i,l,a,n,o);if(null!=s)for(var r=0;r<s.length;r+=6)this.curveTo(s[r],s[r+1],s[r+2],s[r+3],s[r+4],s[r+5]);this.lastX=n,this.lastY=o}},r.prototype.rect=function(e,t,i,l){this.passThrough?this.originalRect.apply(this.canvas,arguments):(this.path=[],this.nextShape=this.rc.generator.rectangle(e,t,i,l,this.getStyle(!0,!0)))},r.prototype.ellipse=function(e,t,i,l){this.passThrough?this.originalEllipse.apply(this.canvas,arguments):(this.path=[],this.nextShape=this.rc.generator.ellipse(e+i/2,t+l/2,i,l,this.getStyle(!0,!0)))},r.prototype.roundrect=function(e,t,i,l,a,n){this.passThrough?this.originalRoundrect.apply(this.canvas,arguments):(this.begin(),this.moveTo(e+a,t),this.lineTo(e+i-a,t),this.quadTo(e+i,t,e+i,t+n),this.lineTo(e+i,t+l-n),this.quadTo(e+i,t+l,e+i-a,t+l),this.lineTo(e+a,t+l),this.quadTo(e,t+l,e,t+l-n),this.lineTo(e,t+n),this.quadTo(e,t,e+a,t))},r.prototype.drawPath=function(e){if(0<this.path.length){this.passThrough=!0;try{this.rc.path(this.path.join(" "),e)}catch(e){}this.passThrough=!1}else if(null!=this.nextShape){for(var t in e)this.nextShape.options[t]=e[t];null==e.stroke&&delete this.nextShape.options.stroke,e.filled||delete this.nextShape.options.fill,this.passThrough=!0,this.rc.draw(this.nextShape),this.passThrough=!1}},r.prototype.stroke=function(){this.passThrough?this.originalStroke.apply(this.canvas,arguments):this.drawPath(this.getStyle(!0,!1))},r.prototype.fill=function(){this.passThrough?this.originalFill.apply(this.canvas,arguments):this.drawPath(this.getStyle(!1,!0))},r.prototype.fillAndStroke=function(){this.passThrough?this.originalFillAndStroke.apply(this.canvas,arguments):this.drawPath(this.getStyle(!0,!0))},r.prototype.destroy=function(){this.canvas.lineTo=this.originalLineTo,this.canvas.moveTo=this.originalMoveTo,this.canvas.close=this.originalClose,this.canvas.quadTo=this.originalQuadTo,this.canvas.curveTo=this.originalCurveTo,this.canvas.arcTo=this.originalArcTo,this.canvas.close=this.originalClose,this.canvas.fill=this.originalFill,this.canvas.stroke=this.originalStroke,this.canvas.fillAndStroke=this.originalFillAndStroke,this.canvas.begin=this.originalBegin,this.canvas.end=this.originalEnd,this.canvas.rect=this.originalRect,this.canvas.ellipse=this.originalEllipse,this.canvas.roundrect=this.originalRoundrect},mxShape.prototype.createRoughCanvas=function(e){return new r(e,Editor.createRoughCanvas(e),this)};var t=mxShape.prototype.createHandJiggle;mxShape.prototype.createHandJiggle=function(e){return this.outline||null==this.style||"0"==mxUtils.getValue(this.style,"sketch","0")?t.apply(this,arguments):"comic"==mxUtils.getValue(this.style,"sketchStyle","rough")?this.createComicCanvas(e):this.createRoughCanvas(e)};var d=mxShape.prototype.paint;mxShape.prototype.paint=function(e){var t,i,l,a,n,o=e.addTolerance,s=!0;null!=this.style&&(s="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")),null==e.handJiggle||e.handJiggle.constructor!=r||this.outline||(e.save(),t=this.fill,i=this.stroke,this.fill=null,this.stroke=null,l=this.configurePointerEvents,a=e.setStrokeColor,e.setStrokeColor=function(){},n=e.setFillColor,e.setFillColor=function(){},s||null==t||(this.configurePointerEvents=function(){}),e.handJiggle.passThrough=!0,d.apply(this,arguments),e.handJiggle.passThrough=!1,e.setFillColor=n,e.setStrokeColor=a,this.configurePointerEvents=l,this.stroke=i,this.fill=t,e.restore(),s&&null!=t&&(e.addTolerance=function(){})),d.apply(this,arguments),e.addTolerance=o};var o=mxShape.prototype.paintGlassEffect;mxShape.prototype.paintGlassEffect=function(e,t,i,l,a,n){null!=e.handJiggle&&e.handJiggle.constructor==r?(e.handJiggle.passThrough=!0,o.apply(this,arguments),e.handJiggle.passThrough=!1):o.apply(this,arguments)}}(),Editor.fastCompress=function(e){return null==e||0==e.length||"undefined"==typeof pako?e:Graph.arrayBufferToString(pako.deflateRaw(e))},Editor.fastDecompress=function(e){return null==e||0==e.length||"undefined"==typeof pako?e:pako.inflateRaw(Graph.stringToArrayBuffer(atob(e)),{to:"string"})},Editor.extractGraphModel=function(e,t,i){if(null!=e&&"undefined"!=typeof pako){var l,a=[];if(null!=(o=e.ownerDocument.getElementsByTagName("div"))&&0<o.length)for(var n=0;n<o.length;n++)if("mxgraph"==o[n].getAttribute("class")){a.push(o[n]);break}0<a.length&&(null!=(r=a[0].getAttribute("data-mxgraph"))?null!=(l=JSON.parse(r))&&null!=l.xml&&(e=mxUtils.parseXml(l.xml).documentElement):0<(s=a[0].getElementsByTagName("div")).length&&(r=mxUtils.getTextContent(s[0]),0<(r=Graph.decompress(r,null,i)).length&&(e=mxUtils.parseXml(r).documentElement)))}if(null!=e&&"svg"==e.nodeName){var o;if(!(null!=(o=null!=(o=null!=(o=e.getAttribute("content"))&&"<"!=o.charAt(0)&&"%"!=o.charAt(0)?unescape(window.atob?atob(o):Base64.decode(cont,o)):o)&&"%"==o.charAt(0)?decodeURIComponent(o):o)&&0<o.length))throw{message:mxResources.get("notADiagramFile")};e=mxUtils.parseXml(o).documentElement}var s,r;return null==e||t||(s=null,"diagram"==e.nodeName?s=e:"mxfile"!=e.nodeName||0<(r=e.getElementsByTagName("diagram")).length&&(s=r[Math.max(0,Math.min(r.length-1,urlParams.page||0))]),null!=s&&(e=Editor.parseDiagramNode(s,i))),e=!(null==e||"mxGraphModel"==e.nodeName||t&&"mxfile"==e.nodeName)?null:e},Editor.parseDiagramNode=function(e,t){var i,l=mxUtils.trim(mxUtils.getTextContent(e)),a=null;return 0<l.length?null!=(i=Graph.decompress(l,null,t))&&0<i.length&&(a=mxUtils.parseXml(i).documentElement):0<(i=mxUtils.getChildNodes(e)).length&&((e=mxUtils.createXmlDocument()).appendChild(e.importNode(i[0],!0)),a=e.documentElement),a},Editor.getDiagramNodeXml=function(e){var t=mxUtils.getTextContent(e),i=null;return 0<t.length?i=Graph.decompress(t):null!=e.firstChild&&(i=mxUtils.getXml(e.firstChild)),i},Editor.extractGraphModelFromPdf=function(e){e=e.substring(e.indexOf(",")+1);var t=window.atob&&!mxClient.IS_SF?atob(e):Base64.decode(e,!0);if("%PDF-1.7"==t.substring(0,8)){var i=t.indexOf("EmbeddedFile");if(-1<i){e=t.indexOf("stream",i)+9;if(0<t.substring(i,e).indexOf("application#2Fvnd.jgraph.mxfile")){i=t.indexOf("endstream",e-1);return pako.inflateRaw(Graph.stringToArrayBuffer(t.substring(e,i)),{to:"string"})}}return null}for(var l="/Subject (%3Cmxfile",a=null,n="",o=0,s=0,r=[],d=null;s<t.length;){var p=t.charCodeAt(s);if(s+=1,10!=p&&(n+=String.fromCharCode(p)),p==l.charCodeAt(o)?o++:o=0,o==l.length){var m=t.indexOf("%3C%2Fmxfile%3E)",s)+15;if((s-=9)<m){a=t.substring(s,m);break}}10==p&&("endobj"==n?d=null:"obj"==n.substring(n.length-3,n.length)||"xref"==n||"trailer"==n?(d=[],r[n.split(" ")[0]]=d):null!=d&&d.push(n),n="")}return a=null!=(a=null==a?Editor.extractGraphModelFromXref(r):a)?decodeURIComponent(a.replace(/\\\(/g,"(").replace(/\\\)/g,")")):a},Editor.extractGraphModelFromXref=function(e){var t,i=e.trailer,l=null;return null==i||null!=(t=/.* \/Info (\d+) (\d+) R/g.exec(i.join("\n")))&&0<t.length&&(null!=(i=e[t[1]])&&null!=(t=/.* \/Subject (\d+) (\d+) R/g.exec(i.join("\n")))&&0<t.length&&(null!=(t=e[t[1]])&&(l=(t=t.join("\n")).substring(1,t.length-1)))),l},Editor.extractGraphModelFromPng=function(e){var l=null;try{var t=e.substring(e.indexOf(",")+1),a=window.atob&&!mxClient.IS_SF?atob(t):Base64.decode(t,!0);EditorUi.parsePng(a,mxUtils.bind(this,function(e,t,i){var e=a.substring(e+8,e+8+i);if("zTXt"==t?(i=e.indexOf(String.fromCharCode(0)),"mxGraphModel"!=e.substring(0,i)||null!=(i=pako.inflateRaw(Graph.stringToArrayBuffer(e.substring(i+2)),{to:"string"}).replace(/\+/g," "))&&0<i.length&&(l=i)):"tEXt"!=t||1<(e=e.split(String.fromCharCode(0))).length&&("mxGraphModel"==e[0]||"mxfile"==e[0])&&(l=e[1]),null!=l||"IDAT"==t)return!0}))}catch(e){}return l=null!=(l=null!=l&&"%"==l.charAt(0)?decodeURIComponent(l):l)&&"%"==l.charAt(0)?decodeURIComponent(l):l},Editor.extractParserError=function(e,t){var i=null,e=null!=e?e.getElementsByTagName("parsererror"):null;return null!=e&&0<e.length&&(i=t||mxResources.get("invalidChars"),0<(e=e[0].getElementsByTagName("div")).length&&(i=mxUtils.getTextContent(e[0]))),null!=i?mxUtils.trim(i):i},Editor.addRetryToError=function(e,t){null==e||null==(e=null!=e.error?e.error:e).retry&&(e.retry=t)},Editor.configure=function(e,t){if(null!=e){var i,l,a;if(Editor.config=e,Editor.configVersion=e.version,Menus.prototype.defaultFonts=e.defaultFonts||Menus.prototype.defaultFonts,ColorDialog.prototype.presetColors=e.presetColors||ColorDialog.prototype.presetColors,ColorDialog.prototype.defaultColors=e.defaultColors||ColorDialog.prototype.defaultColors,ColorDialog.prototype.colorNames=e.colorNames||ColorDialog.prototype.colorNames,StyleFormatPanel.prototype.defaultColorSchemes=e.defaultColorSchemes||StyleFormatPanel.prototype.defaultColorSchemes,Graph.prototype.defaultEdgeLength=e.defaultEdgeLength||Graph.prototype.defaultEdgeLength,DrawioFile.prototype.autosaveDelay=e.autosaveDelay||DrawioFile.prototype.autosaveDelay,null!=e.templateFile&&(EditorUi.templateFile=e.templateFile),null!=e.styles&&(Editor.styles=e.styles),null!=e.globalVars&&(Editor.globalVars=e.globalVars),null!=e.compressXml&&(Editor.compressXml=e.compressXml),null!=e.includeDiagram&&(Editor.defaultIncludeDiagram=e.includeDiagram),null!=e.simpleLabels&&(Editor.simpleLabels=e.simpleLabels),null!=e.oneDriveInlinePicker&&(Editor.oneDriveInlinePicker=e.oneDriveInlinePicker),null!=e.darkColor&&(Editor.darkColor=e.darkColor),null!=e.settingsName&&(Editor.configurationKey="."+e.settingsName+"-configuration",Editor.settingsKey="."+e.settingsName+"-config",mxSettings.key=Editor.settingsKey),e.customFonts&&(Menus.prototype.defaultFonts=e.customFonts.concat(Menus.prototype.defaultFonts)),e.customPresetColors&&(ColorDialog.prototype.presetColors=e.customPresetColors.concat(ColorDialog.prototype.presetColors)),null!=e.customColorSchemes&&(StyleFormatPanel.prototype.defaultColorSchemes=e.customColorSchemes.concat(StyleFormatPanel.prototype.defaultColorSchemes)),null!=e.css&&((i=document.createElement("style")).setAttribute("type","text/css"),i.appendChild(document.createTextNode(e.css)),(l=document.getElementsByTagName("script")[0]).parentNode.insertBefore(i,l)),null!=e.libraries&&(Sidebar.prototype.customEntries=e.libraries),null!=e.enabledLibraries&&(Sidebar.prototype.enabledLibraries=e.enabledLibraries),null!=e.defaultLibraries&&(Sidebar.prototype.defaultEntries=e.defaultLibraries),null!=e.defaultCustomLibraries&&(Editor.defaultCustomLibraries=e.defaultCustomLibraries),null!=e.enableCustomLibraries&&(Editor.enableCustomLibraries=e.enableCustomLibraries),null!=e.defaultVertexStyle&&(Graph.prototype.defaultVertexStyle=e.defaultVertexStyle),null!=e.defaultEdgeStyle&&(Graph.prototype.defaultEdgeStyle=e.defaultEdgeStyle),null!=e.defaultPageVisible&&(Graph.prototype.defaultPageVisible=e.defaultPageVisible),null!=e.defaultGridEnabled&&(Graph.prototype.defaultGridEnabled=e.defaultGridEnabled),null!=e.zoomWheel&&(Graph.zoomWheel=e.zoomWheel),null!=e.zoomFactor&&(a=parseFloat(e.zoomFactor),!isNaN(a)&&1<a?Graph.prototype.zoomFactor=a:EditorUi.debug("Invalid zoomFactor: value must be float > 1")),null!=e.gridSteps&&(a=parseInt(e.gridSteps),!isNaN(a)&&0<a?mxGraphView.prototype.gridSteps=a:EditorUi.debug("Invalid gridSteps: value must be int > 0")),null!=e.pageFormat&&(i=parseInt(e.pageFormat.width),l=parseInt(e.pageFormat.height),!isNaN(i)&&0<i&&!isNaN(l)&&0<l?(mxGraph.prototype.defaultPageFormat=new mxRectangle(0,0,i,l),mxGraph.prototype.pageFormat=mxGraph.prototype.defaultPageFormat):EditorUi.debug("Invalid pageFormat: value must be {width: int, height: int}")),e.thumbWidth&&(Sidebar.prototype.thumbWidth=e.thumbWidth),e.thumbHeight&&(Sidebar.prototype.thumbHeight=e.thumbHeight),e.emptyLibraryXml&&(EditorUi.prototype.emptyLibraryXml=e.emptyLibraryXml),e.emptyDiagramXml&&(EditorUi.prototype.emptyDiagramXml=e.emptyDiagramXml),e.sidebarWidth&&(EditorUi.prototype.hsplitPosition=e.sidebarWidth),e.sidebarTitles&&(Sidebar.prototype.sidebarTitles=e.sidebarTitles),e.sidebarTitleSize&&(a=parseInt(e.sidebarTitleSize),!isNaN(a)&&0<a?Sidebar.prototype.sidebarTitleSize=a:EditorUi.debug("Invalid sidebarTitleSize: value must be int > 0")),e.fontCss&&("string"==typeof e.fontCss?Editor.configureFontCss(e.fontCss):EditorUi.debug("Invalid fontCss: value must be string")),null!=e.autosaveDelay&&(a=parseInt(e.autosaveDelay),!isNaN(a)&&0<a?DrawioFile.prototype.autosaveDelay=a:EditorUi.debug("Invalid autosaveDelay: value must be int > 0")),null!=e.plugins&&!t){App.initPluginCallback();for(var n=0;n<e.plugins.length;n++)mxscript(e.plugins[n])}null!=e.maxImageBytes&&(EditorUi.prototype.maxImageBytes=e.maxImageBytes),null!=e.maxImageSize&&(EditorUi.prototype.maxImageSize=e.maxImageSize)}},Editor.configureFontCss=function(e){if(null!=e){Editor.prototype.fontCss=e;var t=document.getElementsByTagName("script")[0];if(null!=t&&null!=t.parentNode){var i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(e)),t.parentNode.insertBefore(i,t);for(var l=e.split("url("),a=1;a<l.length;a++){var n=l[a].indexOf(")"),o=Editor.trimCssUrl(l[a].substring(0,n)),n=document.createElement("link");n.setAttribute("rel","preload"),n.setAttribute("href",o),n.setAttribute("as","font"),n.setAttribute("crossorigin",""),t.parentNode.insertBefore(n,t)}}}},Editor.trimCssUrl=function(e){return e.replace(new RegExp("^[\\s\"']+","g"),"").replace(new RegExp("[\\s\"']+$","g"),"")},Editor.GOOGLE_FONTS="https://fonts.googleapis.com/css?family=",Editor.GUID_ALPHABET="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",Editor.GUID_LENGTH=20,Editor.guid=function(e){for(var t=null!=e?e:Editor.GUID_LENGTH,i=[],l=0;l<t;l++)i.push(Editor.GUID_ALPHABET.charAt(Math.floor(Math.random()*Editor.GUID_ALPHABET.length)));return i.join("")},Editor.prototype.timeout=25e3,Editor.prototype.useForeignObjectForMath=!0,Editor.prototype.editButtonLink=null!=urlParams.edit?decodeURIComponent(urlParams.edit):null,Editor.prototype.crossOriginImages=!mxClient.IS_IE;var o=Editor.prototype.setGraphXml;Editor.prototype.setGraphXml=function(e){if(null==(e=null!=e&&"mxlibrary"!=e.nodeName?this.extractGraphModel(e):null))throw{message:mxResources.get("notADiagramFile")||"Invalid data",toString:function(){return this.message}};var t=e.getElementsByTagName("parsererror");if(null!=t&&0<t.length){var i=t[0],t=i.getElementsByTagName("div");throw null!=t&&0<t.length&&(i=t[0]),{message:mxUtils.getTextContent(i)}}if("mxGraphModel"==e.nodeName){var l,i=e.getAttribute("style")||"default-style2";"1"==urlParams.embed||null!=i&&""!=i?i!=this.graph.currentStyle&&null!=(l=null!=this.graph.themes?this.graph.themes[i]:mxUtils.load(STYLE_PATH+"/"+i+".xml").getDocumentElement())&&new mxCodec(l.ownerDocument).decode(l,this.graph.getStylesheet()):null!=(l=null!=this.graph.themes?this.graph.themes["default-old"]:mxUtils.load(STYLE_PATH+"/default-old.xml").getDocumentElement())&&new mxCodec(l.ownerDocument).decode(l,this.graph.getStylesheet()),this.graph.currentStyle=i,this.graph.mathEnabled="1"==urlParams.math||"1"==e.getAttribute("math");i=e.getAttribute("backgroundImage");if(null!=i?this.graph.setBackgroundImage(this.graph.parseBackgroundImage(i)):this.graph.setBackgroundImage(null),mxClient.NO_FO=!(!this.graph.mathEnabled||this.useForeignObjectForMath)||this.originalNoForeignObject,this.graph.useCssTransforms=!mxClient.NO_FO&&this.isChromelessView()&&this.graph.isCssTransformsSupported(),this.graph.updateCssTransform(),this.graph.setShadowVisible("1"==e.getAttribute("shadow"),!1),a=e.getAttribute("extFonts"))try{for(var a=a.split("|").map(function(e){e=e.split("^");return{name:e[0],url:e[1]}}),n=0;n<a.length;n++)this.graph.addExtFont(a[n].name,a[n].url)}catch(e){console.log("ExtFonts format error: "+e.message)}else null!=this.graph.extFonts&&0<this.graph.extFonts.length&&(this.graph.extFonts=[])}o.apply(this,arguments)};var n=Editor.prototype.getGraphXml;Editor.prototype.getGraphXml=function(e,t){e=null==e||e;var i=n.apply(this,arguments);null!=this.graph.currentStyle&&"default-style2"!=this.graph.currentStyle&&i.setAttribute("style",this.graph.currentStyle);var l=this.graph.getBackgroundImageObject(this.graph.backgroundImage,t);return null!=l&&i.setAttribute("backgroundImage",JSON.stringify(l)),i.setAttribute("math",this.graph.mathEnabled?"1":"0"),i.setAttribute("shadow",this.graph.shadowVisible?"1":"0"),null!=this.graph.extFonts&&0<this.graph.extFonts.length&&(l=this.graph.extFonts.map(function(e){return e.name+"^"+e.url}),i.setAttribute("extFonts",l.join("|"))),i},Editor.prototype.isDataSvg=function(e){try{var t=mxUtils.parseXml(e).documentElement.getAttribute("content");if(null!=t&&null!=(t=null!=(t="<"!=t.charAt(0)&&"%"!=t.charAt(0)?unescape(window.atob?atob(t):Base64.decode(cont,t)):t)&&"%"==t.charAt(0)?decodeURIComponent(t):t)&&0<t.length){var i=mxUtils.parseXml(t).documentElement;return"mxfile"==i.nodeName||"mxGraphModel"==i.nodeName}}catch(e){}return!1},Editor.prototype.extractGraphModel=function(e,t,i){return Editor.extractGraphModel.apply(this,arguments)};var e=Editor.prototype.resetGraph;Editor.prototype.resetGraph=function(){this.graph.mathEnabled="1"==urlParams.math,this.graph.view.x0=null,this.graph.view.y0=null,mxClient.NO_FO=!(!this.graph.mathEnabled||this.useForeignObjectForMath)||this.originalNoForeignObject,this.graph.useCssTransforms=!mxClient.NO_FO&&this.isChromelessView()&&this.graph.isCssTransformsSupported(),this.graph.updateCssTransform(),e.apply(this,arguments)};var t=Editor.prototype.updateGraphComponents;Editor.prototype.updateGraphComponents=function(){t.apply(this,arguments),mxClient.NO_FO=!(!this.graph.mathEnabled||this.useForeignObjectForMath||null==Editor.MathJaxRender)||this.originalNoForeignObject,this.graph.useCssTransforms=!mxClient.NO_FO&&this.isChromelessView()&&this.graph.isCssTransformsSupported(),this.graph.updateCssTransform()},Editor.mathJaxWebkitCss="div.MathJax_SVG_Display { position: static; }\nspan.MathJax_SVG { position: static !important; }",Editor.initMath=function(e,t){if(void 0===window.MathJax){e=(null!=e?e:DRAW_MATH_URL+"/MathJax.js")+"?config=TeX-MML-AM_"+("html"==urlParams["math-output"]?"HTMLorMML":"SVG")+"-full",Editor.mathJaxQueue=[],Editor.doMathJaxRender=function(e){window.setTimeout(function(){"hidden"!=e.style.visibility&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])},0)};var i=null!=urlParams["math-font"]?decodeURIComponent(urlParams["math-font"]):"TeX";t=null!=t?t:{"HTML-CSS":{availableFonts:[i],imageFont:null},SVG:{font:i,useFontCache:!1},tex2jax:{ignoreClass:"mxCellEditor"},asciimath2jax:{ignoreClass:"mxCellEditor"}},window.MathJax={skipStartupTypeset:!0,showMathMenu:!1,messageStyle:"none",AuthorInit:function(){MathJax.Hub.Config(t),MathJax.Hub.Register.StartupHook("Begin",function(){for(var e=0;e<Editor.mathJaxQueue.length;e++)Editor.doMathJaxRender(Editor.mathJaxQueue[e])})}},Editor.MathJaxRender=function(e){"undefined"!=typeof MathJax&&void 0!==MathJax.Hub?Editor.doMathJaxRender(e):Editor.mathJaxQueue.push(e)},Editor.MathJaxClear=function(){Editor.mathJaxQueue=[]};var l=Editor.prototype.init;Editor.prototype.init=function(){l.apply(this,arguments),this.graph.addListener(mxEvent.SIZE,mxUtils.bind(this,function(e,t){null!=this.graph.container&&this.graph.mathEnabled&&!this.graph.blockMathRender&&Editor.MathJaxRender(this.graph.container)}))};var a,n=document.getElementsByTagName("script");null!=n&&0<n.length&&((i=document.createElement("script")).setAttribute("type","text/javascript"),i.setAttribute("src",e),n[0].parentNode.appendChild(i));try{(mxClient.IS_GC||mxClient.IS_SF)&&((a=document.createElement("style")).type="text/css",a.innerHTML=Editor.mathJaxWebkitCss,document.getElementsByTagName("head")[0].appendChild(a))}catch(e){}}},Editor.prototype.csvToArray=function(e){if(!/^\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*(?:,\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*)*$/.test(e))return null;var a=[];return e.replace(/(?!\s*$)\s*(?:'([^'\\]*(?:\\[\S\s][^'\\]*)*)'|"([^"\\]*(?:\\[\S\s][^"\\]*)*)"|([^,'"\s\\]*(?:\s+[^,'"\s\\]+)*))\s*(?:,|$)/g,function(e,t,i,l){return void 0!==t?a.push(t.replace(/\\'/g,"'")):void 0!==i?a.push(i.replace(/\\"/g,'"')):void 0!==l&&a.push(l),""}),/,\s*$/.test(e)&&a.push(""),a},Editor.prototype.isCorsEnabledForUrl=function(e){return!(!mxClient.IS_CHROMEAPP&&!EditorUi.isElectronApp)||(e.substring(0,window.location.origin.length)==window.location.origin||(null!=urlParams.cors&&null==this.corsRegExp&&(this.corsRegExp=new RegExp(decodeURIComponent(urlParams.cors))),null!=this.corsRegExp&&this.corsRegExp.test(e)||"https://raw.githubusercontent.com/"===e.substring(0,34)))},Editor.prototype.createImageUrlConverter=function(){var i=new mxUrlConverter;i.updateBaseUrl();var l=i.convert,a=this;return i.convert=function(e){var t;return null!=e&&((t="http://"==e.substring(0,7)||"https://"==e.substring(0,8))&&!navigator.onLine?e=Editor.svgBrokenImage.src:!t||e.substring(0,i.baseUrl.length)==i.baseUrl||a.crossOriginImages&&a.isCorsEnabledForUrl(e)?"chrome-extension://"==e.substring(0,19)||mxClient.IS_CHROMEAPP||(e=l.apply(this,arguments)):e=PROXY_URL+"?url="+encodeURIComponent(e)),e},i},Editor.createSvgDataUri=function(e){return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e)))},Editor.prototype.convertImageToDataUri=function(e,i){try{var l,a=!0,n=window.setTimeout(mxUtils.bind(this,function(){a=!1,i(Editor.svgBrokenImage.src)}),this.timeout);/(\.svg)$/i.test(e)?mxUtils.get(e,mxUtils.bind(this,function(e){window.clearTimeout(n),a&&i(Editor.createSvgDataUri(e.getText()))}),function(){window.clearTimeout(n),a&&i(Editor.svgBrokenImage.src)}):(l=new Image,this.crossOriginImages&&(l.crossOrigin="anonymous"),l.onload=function(){if(window.clearTimeout(n),a)try{var e=document.createElement("canvas"),t=e.getContext("2d");e.height=l.height,e.width=l.width,t.drawImage(l,0,0),i(e.toDataURL())}catch(e){i(Editor.svgBrokenImage.src)}},l.onerror=function(){window.clearTimeout(n),a&&i(Editor.svgBrokenImage.src)},l.src=e)}catch(e){i(Editor.svgBrokenImage.src)}},Editor.prototype.convertImages=function(a,n,e,o){null==o&&(o=this.createImageUrlConverter());var s=0;var r=e||new Object,e=mxUtils.bind(this,function(e,l){for(var t=a.getElementsByTagName(e),i=0;i<t.length;i++)mxUtils.bind(this,function(t){try{var i,e;null!=t&&(null!=(i=o.convert(t.getAttribute(l)))&&"data:"!=i.substring(0,5)?null==(e=r[i])?(s++,this.convertImageToDataUri(i,function(e){null!=e&&(r[i]=e,t.setAttribute(l,e)),0==--s&&n(a)})):t.setAttribute(l,e):null!=i&&t.setAttribute(l,i))}catch(e){}})(t[i])});e("image","xlink:href"),e("img","src"),0==s&&n(a)},Editor.base64Encode=function(e){for(var t,i,l,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",o=0,s=e.length;o<s;){if(t=255&e.charCodeAt(o++),o==s){n+=a.charAt(t>>2),n+=a.charAt((3&t)<<4),n+="==";break}if(i=e.charCodeAt(o++),o==s){n+=a.charAt(t>>2),n+=a.charAt((3&t)<<4|(240&i)>>4),n+=a.charAt((15&i)<<2),n+="=";break}l=e.charCodeAt(o++),n+=a.charAt(t>>2),n+=a.charAt((3&t)<<4|(240&i)>>4),n+=a.charAt((15&i)<<2|(192&l)>>6),n+=a.charAt(63&l)}return n},Editor.prototype.loadUrl=function(e,n,o,t,i,s,l,a){try{var r=!l&&(t||/(\.png)($|\?)/i.test(e)||/(\.jpe?g)($|\?)/i.test(e)||/(\.gif)($|\?)/i.test(e)||/(\.pdf)($|\?)/i.test(e));i=null==i||i;var d=mxUtils.bind(this,function(){mxUtils.get(e,mxUtils.bind(this,function(e){if(200<=e.getStatus()&&e.getStatus()<=299){if(null!=n){var t=e.getText();if(r){if((9==document.documentMode||10==document.documentMode)&&void 0!==window.mxUtilsBinaryToArray){for(var i=mxUtilsBinaryToArray(e.request.responseBody).toArray(),l=new Array(i.length),a=0;a<i.length;a++)l[a]=String.fromCharCode(i[a]);t=l.join("")}t=(s=null!=s?s:"data:image/png;base64,")+Editor.base64Encode(t)}n(t)}}else null!=o&&(0==e.getStatus()?o({message:mxResources.get("accessDenied")},e):o({message:mxResources.get("error")+" "+e.getStatus()},e))}),function(e){null!=o&&o({message:mxResources.get("error")+" "+e.getStatus()})},r,this.timeout,function(){i&&null!=o&&o({code:App.ERROR_TIMEOUT,retry:d})},a)});d()}catch(e){null!=o&&o(e)}},Editor.prototype.absoluteCssFonts=function(e){var t=null;if(null!=e){var i=e.split("url(");if(0<i.length){var t=[i[0]],l=window.location.pathname,a=null!=l?l.lastIndexOf("/"):-1;0<=a&&(l=l.substring(0,a+1));var n=document.getElementsByTagName("base"),o=null;null!=n&&0<n.length&&(o=n[0].getAttribute("href"));for(var s,r=1;r<i.length;r++)0<(a=i[r].indexOf(")"))?(s=Editor.trimCssUrl(i[r].substring(0,a)),this.graph.isRelativeUrl(s)&&(s=null!=o?o+s:window.location.protocol+"//"+window.location.hostname+("/"==s.charAt(0)?"":l)+s),t.push('url("'+s+'"'+i[r].substring(a))):t.push(i[r])}else t=[e]}return null!=t?t.join(""):null},Editor.prototype.embedCssFonts=function(e,l){var a=e.split("url("),n=0;null==this.cachedFonts&&(this.cachedFonts={});var o=mxUtils.bind(this,function(){if(0==n){for(var e=[a[0]],t=1;t<a.length;t++){var i=a[t].indexOf(")");e.push('url("'),e.push(this.cachedFonts[Editor.trimCssUrl(a[t].substring(0,i))]),e.push('"'+a[t].substring(i))}l(e.join(""))}});if(0<a.length){for(var t=1;t<a.length;t++){var i=a[t].indexOf(")"),s=null,r=a[t].indexOf("format(",i);0<r&&(s=Editor.trimCssUrl(a[t].substring(r+7,a[t].indexOf(")",r)))),mxUtils.bind(this,function(t){var e,i;null==this.cachedFonts[t]&&(this.cachedFonts[t]=t,n++,e="application/x-font-ttf","svg"==s||/(\.svg)($|\?)/i.test(t)?e="image/svg+xml":"otf"==s||"embedded-opentype"==s||/(\.otf)($|\?)/i.test(t)?e="application/x-font-opentype":"woff"==s||/(\.woff)($|\?)/i.test(t)?e="application/font-woff":"woff2"==s||/(\.woff2)($|\?)/i.test(t)?e="application/font-woff2":"eot"==s||/(\.eot)($|\?)/i.test(t)?e="application/vnd.ms-fontobject":"sfnt"!=s&&!/(\.sfnt)($|\?)/i.test(t)||(e="application/font-sfnt"),/^https?:\/\//.test(i=t)&&!this.isCorsEnabledForUrl(i)&&(i=PROXY_URL+"?url="+encodeURIComponent(t)),this.loadUrl(i,mxUtils.bind(this,function(e){this.cachedFonts[t]=e,n--,o()}),mxUtils.bind(this,function(e){n--,o()}),!0,null,"data:"+e+";charset=utf-8;base64,"))})(Editor.trimCssUrl(a[t].substring(0,i)),s)}o()}else l(e)},Editor.prototype.loadFonts=function(t){null!=this.fontCss&&null==this.resolvedFontCss?this.embedCssFonts(this.fontCss,mxUtils.bind(this,function(e){this.resolvedFontCss=e,null!=t&&t()})):null!=t&&t()},Editor.prototype.embedExtFonts=function(e){var t=this.graph.getCustomFonts();if(0<t.length){var i="",l=0;null==this.cachedGoogleFonts&&(this.cachedGoogleFonts={});for(var a=mxUtils.bind(this,function(){0==l&&this.embedCssFonts(i,e)}),n=0;n<t.length;n++)mxUtils.bind(this,function(e,t){Graph.isCssFontUrl(t)?null==this.cachedGoogleFonts[t]?(l++,this.loadUrl(t,mxUtils.bind(this,function(e){this.cachedGoogleFonts[t]=e,i+=e,l--,a()}),mxUtils.bind(this,function(e){l--,i+="@import url("+t+");",a()}))):i+=this.cachedGoogleFonts[t]:i+='@font-face {font-family: "'+e+'";src: url("'+t+'")}'})(t[n].name,t[n].url);a()}else e()},Editor.prototype.addMathCss=function(e){var t=e.getElementsByTagName("defs");if(null!=t&&0<t.length)for(var i=document.getElementsByTagName("style"),l=0;l<i.length;l++)0<mxUtils.getTextContent(i[l]).indexOf("MathJax")&&t[0].appendChild(i[l].cloneNode(!0))},Editor.prototype.addFontCss=function(e,t){var i,l,a;null!=(t=null!=t?t:this.absoluteCssFonts(this.fontCss))&&(i=e.getElementsByTagName("defs"),a=e.ownerDocument,l=null,0==i.length?(l=null!=a.createElementNS?a.createElementNS(mxConstants.NS_SVG,"defs"):a.createElement("defs"),null!=e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l)):l=i[0],(a=null!=a.createElementNS?a.createElementNS(mxConstants.NS_SVG,"style"):a.createElement("style")).setAttribute("type","text/css"),mxUtils.setTextContent(a,t),l.appendChild(a))},Editor.prototype.isExportToCanvas=function(){return mxClient.IS_CHROMEAPP||this.useCanvasForExport},Editor.prototype.getMaxCanvasScale=function(e,t,i){var l=mxClient.IS_FF?8192:16384;return Math.min(i,Math.min(l/e,l/t))},Editor.prototype.exportToCanvas=function(y,C,e,t,x,b,i,S,l,a,n,E,v,o,I,s,r,d){try{console.log("--\x3e Editor-exportToCanvas()"),b=null==b||b,i=null==i||i,E=null!=E?E:this.graph,v=null!=v?v:0;var N=l?null:E.background;null==(N=null==(N=N==mxConstants.NONE?null:N)?t:N)&&0==l&&(N=s?this.graph.defaultPageBackgroundColor:"#ffffff"),this.convertImages(E.getSvg(null,null,v,o,null,i,null,null,null,a,null,s,r,d),mxUtils.bind(this,function(f){try{console.log("--\x3e Editor-exportToCanvas.convertImages()");var A=new Image;A.onload=mxUtils.bind(this,function(){console.log("--\x3e Editor-exportToCanvas.convertImages-img.onload()");try{var e=document.createElement("canvas"),a=parseInt(f.getAttribute("width")),n=parseInt(f.getAttribute("height"));S=null!=S?S:1,null!=C&&(S=b?Math.min(1,Math.min(3*C/(4*n),C/a)):C/a),S=this.getMaxCanvasScale(a,n,S);var a=Math.ceil(S*a),n=Math.ceil(S*n),t=5;a+=10,n+=10,e.setAttribute("width",a),e.setAttribute("height",n);var i,l,o,s,r,d,p,m,u,h,c=e.getContext("2d");function g(){mxClient.IS_SF?window.setTimeout(function(){c.drawImage(A,t,t),y(e,f)},0):(c.drawImage(A,t,t),y(e,f))}null!=N&&(c.beginPath(),c.rect(0,0,a,n),c.fillStyle=N,c.fill()),1!=S&&c.scale(S,S),I?(l=(i=E.view).scale,i.scale=1,o=btoa(unescape(encodeURIComponent(i.createSvgGrid(i.gridColor)))),i.scale=l,o="data:image/svg+xml;base64,"+o,s=E.gridSize*i.gridSteps*S,r=E.getGraphBounds(),d=i.translate.x*l,p=i.translate.y*l,m=d+(r.x-d)/l-v,u=p+(r.y-p)/l-v,(h=new Image).onload=function(){console.log("--\x3e Editor-exportToCanvas.convertImages-img.onload-background.onload()");try{for(var e=-Math.round(s-mxUtils.mod((d-m)*S,s)),t=-Math.round(s-mxUtils.mod((p-u)*S,s)),i=e;i<a;i+=s)for(var l=t;l<n;l+=s)c.drawImage(h,i/S,l/S);g()}catch(e){null!=x&&x(e)}},h.onerror=function(e){null!=x&&x(e)},h.src=o):g()}catch(e){null!=x&&x(e)}}),A.onerror=function(e){null!=x&&x(e)},a&&this.graph.addSvgShadow(f),this.graph.mathEnabled&&this.addMathCss(f);var t=mxUtils.bind(this,function(){console.log("--\x3e Editor-exportToCanvas.done()");try{null!=this.resolvedFontCss&&this.addFontCss(f,this.resolvedFontCss),A.src=Editor.createSvgDataUri(mxUtils.getXml(f))}catch(e){null!=x&&x(e)}});this.embedExtFonts(mxUtils.bind(this,function(e){try{null!=e&&this.addFontCss(f,e),this.loadFonts(t)}catch(e){null!=x&&x(e)}}))}catch(e){null!=x&&x(e)}}),e,n)}catch(e){null!=x&&x(e)}},Editor.crcTable=[];for(var i,l,s=0;s<256;s++)for(var r=s,d=0;d<8;d++)1==(1&r)?r=3988292384^r>>>1:r>>>=1,Editor.crcTable[s]=r;Editor.updateCRC=function(e,t,i,l){for(var a=e,n=0;n<l;n++)a=Editor.crcTable[255&(a^t.charCodeAt(i+n))]^a>>>8;return a},Editor.crc32=function(e){for(var t=-1,i=0;i<e.length;i++)t=t>>>8^Editor.crcTable[255&(t^e.charCodeAt(i))];return(-1^t)>>>0},Editor.writeGraphModelToPng=function(e,t,i,l,a){var e=e.substring(e.indexOf(",")+1),n=window.atob?atob(e):Base64.decode(e,!0),o=0;function s(e,t){var i=o;return o+=t,e.substring(i,o)}function r(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}if(s(n,8)==String.fromCharCode(137)+"PNG"+String.fromCharCode(13,10,26,10)){if(s(n,4),"IHDR"==s(n,4)){s(n,17);var d=n.substring(0,o);do{var p=(m=s(m=n,4)).charCodeAt(3)+(m.charCodeAt(2)<<8)+(m.charCodeAt(1)<<16)+(m.charCodeAt(0)<<24);if("IDAT"==s(n,4)){var m,d=n.substring(0,o-8);m="pHYs"==t&&"dpi"==i?r(u=Math.round(l/.0254))+r(u)+String.fromCharCode(1):i+String.fromCharCode(0)+("zTXt"==t?String.fromCharCode(0):"")+l;var u=Editor.updateCRC(4294967295,t,0,4);u=Editor.updateCRC(u,m,0,m.length),d+=r(m.length)+t+m+r(4294967295^u),d+=n.substring(o-8,n.length);break}}while(d+=n.substring(o-8,o-4+p),s(n,p),s(n,4),p);return"data:image/png;base64,"+(window.btoa?btoa(d):Base64.encode(d,!0))}null!=a&&a()}else null!=a&&a()},window.ColorDialog&&(FilenameDialog.filenameHelpLink="https://www.diagrams.net/doc/faq/save-file-formats",i=ColorDialog.addRecentColor,ColorDialog.addRecentColor=function(e,t){i.apply(this,arguments),mxSettings.setRecentColors(ColorDialog.recentColors),mxSettings.save()},l=ColorDialog.resetRecentColors,ColorDialog.resetRecentColors=function(){l.apply(this,arguments),mxSettings.setRecentColors(ColorDialog.recentColors),mxSettings.save()}),window.EditDataDialog&&(EditDataDialog.getDisplayIdForCell=function(e,t){var i=null;return null!=e.editor.graph.getModel().getParent(t)?i=t.getId():null!=e.currentPage&&(i=e.currentPage.getId()),i});var p,m,u,c,g,f;null!=window.StyleFormatPanel&&(p=Format.prototype.init,Format.prototype.init=function(){p.apply(this,arguments),this.editorUi.editor.addListener("fileLoaded",this.update)},m=Format.prototype.refresh,Format.prototype.refresh=function(){null!=this.editorUi.getCurrentFile()||"1"==urlParams.embed||this.editorUi.editor.chromeless?m.apply(this,arguments):this.clear()},DiagramFormatPanel.prototype.isShadowOptionVisible=function(){var e=this.editorUi.getCurrentFile();return"1"==urlParams.embed||null!=e&&e.isEditable()},DiagramFormatPanel.prototype.isMathOptionVisible=function(e){return!1},u=DiagramFormatPanel.prototype.addView,DiagramFormatPanel.prototype.addView=function(e){var i,l,t,e=u.apply(this,arguments);this.editorUi.getCurrentFile();return mxClient.IS_SVG&&this.isShadowOptionVisible()&&(i=this.editorUi,l=i.editor.graph,t=this.createOption(mxResources.get("shadow"),function(){return l.shadowVisible},function(e){var t=new ChangePageSetup(i);t.ignoreColor=!0,t.ignoreImage=!0,t.shadowVisible=e,l.model.execute(t)},{install:function(e){this.listener=function(){e(l.shadowVisible)},i.addListener("shadowVisibleChanged",this.listener)},destroy:function(){i.removeListener(this.listener)}}),Editor.enableShadowOption||(t.getElementsByTagName("input")[0].setAttribute("disabled","disabled"),mxUtils.setOpacity(t,60)),e.appendChild(t)),e},c=DiagramFormatPanel.prototype.addOptions,DiagramFormatPanel.prototype.addOptions=function(e){e=c.apply(this,arguments);var t,i,l,a=this.editorUi,n=a.editor.graph;return!n.isEnabled()||null!=(t=a.getCurrentFile())&&t.isAutosaveOptional()&&(l=this.createOption(mxResources.get("autosave"),function(){return a.editor.autosave},function(e){a.editor.setAutosave(e),a.editor.autosave&&t.isModified()&&t.fileChanged()},{install:function(e){this.listener=function(){e(a.editor.autosave)},a.editor.addListener("autosaveChanged",this.listener)},destroy:function(){a.editor.removeListener(this.listener)}}),e.appendChild(l)),this.isMathOptionVisible()&&n.isEnabled()&&"undefined"!=typeof MathJax&&((i=this.createOption(mxResources.get("mathematicalTypesetting"),function(){return n.mathEnabled},function(e){a.actions.get("mathematicalTypesetting").funct()},{install:function(e){this.listener=function(){e(n.mathEnabled)},a.addListener("mathEnabledChanged",this.listener)},destroy:function(){a.removeListener(this.listener)}})).style.paddingTop="5px",e.appendChild(i),"1"!=urlParams.customMenu&&((l=a.menus.createHelpLink("https://www.diagrams.net/doc/faq/math-typesetting")).style.position="relative",l.style.marginLeft="6px",l.style.top="2px",i.appendChild(l))),e},mxCellRenderer.prototype.defaultVertexShape.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"absoluteArcSize",dispName:"Abs. Arc Size",type:"bool",defVal:!1}],mxCellRenderer.defaultShapes.link.prototype.customProperties=[{name:"width",dispName:"Width",type:"float",min:0,defVal:4}],mxCellRenderer.defaultShapes.flexArrow.prototype.customProperties=[{name:"width",dispName:"Width",type:"float",min:0,defVal:10},{name:"startWidth",dispName:"Start Width",type:"float",min:0,defVal:20},{name:"endWidth",dispName:"End Width",type:"float",min:0,defVal:20}],mxCellRenderer.defaultShapes.process.prototype.customProperties=[{name:"size",dispName:"Indent",type:"float",min:0,max:.5,defVal:.1}],mxCellRenderer.defaultShapes.rhombus.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,max:50,defVal:mxConstants.LINE_ARCSIZE},{name:"double",dispName:"Double",type:"bool",defVal:!1}],mxCellRenderer.defaultShapes.partialRectangle.prototype.customProperties=[{name:"top",dispName:"Top Line",type:"bool",defVal:!0},{name:"bottom",dispName:"Bottom Line",type:"bool",defVal:!0},{name:"left",dispName:"Left Line",type:"bool",defVal:!0},{name:"right",dispName:"Right Line",type:"bool",defVal:!0}],mxCellRenderer.defaultShapes.parallelogram.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"size",dispName:"Slope Angle",type:"float",min:0,max:1,defVal:.2}],mxCellRenderer.defaultShapes.hexagon.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"size",dispName:"Slope Angle",type:"float",min:0,max:1,defVal:.25}],mxCellRenderer.defaultShapes.triangle.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE}],mxCellRenderer.defaultShapes.document.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",defVal:.3,min:0,max:1}],mxCellRenderer.defaultShapes.internalStorage.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"dx",dispName:"Left Line",type:"float",min:0,defVal:20},{name:"dy",dispName:"Top Line",type:"float",min:0,defVal:20}],mxCellRenderer.defaultShapes.cube.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,defVal:20},{name:"darkOpacity",dispName:"Dark Opacity",type:"float",min:-1,max:1,defVal:0},{name:"darkOpacity2",dispName:"Dark Opacity 2",type:"float",min:-1,max:1,defVal:0}],mxCellRenderer.defaultShapes.step.prototype.customProperties=[{name:"size",dispName:"Notch Size",type:"float",min:0,defVal:20},{name:"fixedSize",dispName:"Fixed Size",type:"bool",defVal:!0}],mxCellRenderer.defaultShapes.trapezoid.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"size",dispName:"Slope Angle",type:"float",min:0,max:1,defVal:.2}],mxCellRenderer.defaultShapes.tape.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.4}],mxCellRenderer.defaultShapes.note.prototype.customProperties=[{name:"size",dispName:"Fold Size",type:"float",min:0,defVal:30},{name:"darkOpacity",dispName:"Dark Opacity",type:"float",min:-1,max:1,defVal:0}],mxCellRenderer.defaultShapes.card.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"size",dispName:"Cutoff Size",type:"float",min:0,defVal:30}],mxCellRenderer.defaultShapes.callout.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"base",dispName:"Callout Width",type:"float",min:0,defVal:20},{name:"size",dispName:"Callout Length",type:"float",min:0,defVal:30},{name:"position",dispName:"Callout Position",type:"float",min:0,max:1,defVal:.5},{name:"position2",dispName:"Callout Tip Position",type:"float",min:0,max:1,defVal:.5}],mxCellRenderer.defaultShapes.folder.prototype.customProperties=[{name:"tabWidth",dispName:"Tab Width",type:"float"},{name:"tabHeight",dispName:"Tab Height",type:"float"},{name:"tabPosition",dispName:"Tap Position",type:"enum",enumList:[{val:"left",dispName:"Left"},{val:"right",dispName:"Right"}]}],mxCellRenderer.defaultShapes.swimlane.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:15},{name:"startSize",dispName:"Header Size",type:"float"},{name:"horizontal",dispName:"Horizontal",type:"bool",defVal:!0},{name:"separatorColor",dispName:"Separator Color",type:"color",defVal:null}],mxCellRenderer.defaultShapes.table.prototype.customProperties=[{name:"rowLines",dispName:"Row Lines",type:"bool",defVal:!0},{name:"columnLines",dispName:"Column Lines",type:"bool",defVal:!0},{name:"fixedRows",dispName:"Fixed Rows",type:"bool",defVal:!1},{name:"resizeLast",dispName:"Resize Last Column",type:"bool",defVal:!1},{name:"resizeLastRow",dispName:"Resize Last Row",type:"bool",defVal:!1}].concat(mxCellRenderer.defaultShapes.swimlane.prototype.customProperties),mxCellRenderer.defaultShapes.doubleEllipse.prototype.customProperties=[{name:"margin",dispName:"Indent",type:"float",min:0,defVal:4}],mxCellRenderer.defaultShapes.ext.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:15},{name:"double",dispName:"Double",type:"bool",defVal:!1},{name:"margin",dispName:"Indent",type:"float",min:0,defVal:0}],mxCellRenderer.defaultShapes.curlyBracket.prototype.customProperties=[{name:"rounded",dispName:"Rounded",type:"bool",defVal:!0},{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.5}],mxCellRenderer.defaultShapes.image.prototype.customProperties=[{name:"imageAspect",dispName:"Fixed Image Aspect",type:"bool",defVal:!0}],mxCellRenderer.defaultShapes.label.prototype.customProperties=[{name:"imageAspect",dispName:"Fixed Image Aspect",type:"bool",defVal:!0},{name:"imageAlign",dispName:"Image Align",type:"enum",enumList:[{val:"left",dispName:"Left"},{val:"center",dispName:"Center"},{val:"right",dispName:"Right"}],defVal:"left"},{name:"imageVerticalAlign",dispName:"Image Vertical Align",type:"enum",enumList:[{val:"top",dispName:"Top"},{val:"middle",dispName:"Middle"},{val:"bottom",dispName:"Bottom"}],defVal:"middle"},{name:"imageWidth",dispName:"Image Width",type:"float",min:0,defVal:24},{name:"imageHeight",dispName:"Image Height",type:"float",min:0,defVal:24},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:12},{name:"absoluteArcSize",dispName:"Abs. Arc Size",type:"bool",defVal:!1}],mxCellRenderer.defaultShapes.dataStorage.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.1}],mxCellRenderer.defaultShapes.manualInput.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,defVal:30},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:20}],mxCellRenderer.defaultShapes.loopLimit.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,defVal:20},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:20}],mxCellRenderer.defaultShapes.offPageConnector.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,defVal:38},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:20}],mxCellRenderer.defaultShapes.display.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.25}],mxCellRenderer.defaultShapes.singleArrow.prototype.customProperties=[{name:"arrowWidth",dispName:"Arrow Width",type:"float",min:0,max:1,defVal:.3},{name:"arrowSize",dispName:"Arrowhead Length",type:"float",min:0,max:1,defVal:.2}],mxCellRenderer.defaultShapes.doubleArrow.prototype.customProperties=[{name:"arrowWidth",dispName:"Arrow Width",type:"float",min:0,max:1,defVal:.3},{name:"arrowSize",dispName:"Arrowhead Length",type:"float",min:0,max:1,defVal:.2}],mxCellRenderer.defaultShapes.cross.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.2}],mxCellRenderer.defaultShapes.corner.prototype.customProperties=[{name:"dx",dispName:"Width1",type:"float",min:0,defVal:20},{name:"dy",dispName:"Width2",type:"float",min:0,defVal:20}],mxCellRenderer.defaultShapes.tee.prototype.customProperties=[{name:"dx",dispName:"Width1",type:"float",min:0,defVal:20},{name:"dy",dispName:"Width2",type:"float",min:0,defVal:20}],mxCellRenderer.defaultShapes.umlLifeline.prototype.customProperties=[{name:"participant",dispName:"Participant",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"Default"},{val:"umlActor",dispName:"Actor"},{val:"umlBoundary",dispName:"Boundary"},{val:"umlEntity",dispName:"Entity"},{val:"umlControl",dispName:"Control"}]},{name:"size",dispName:"Height",type:"float",defVal:40,min:0}],mxCellRenderer.defaultShapes.umlFrame.prototype.customProperties=[{name:"width",dispName:"Title Width",type:"float",defVal:60,min:0},{name:"height",dispName:"Title Height",type:"float",defVal:30,min:0}],StyleFormatPanel.prototype.defaultColorSchemes=[[{fill:"",stroke:""},{fill:"#f5f5f5",stroke:"#666666",font:"#333333"},{fill:"#dae8fc",stroke:"#6c8ebf"},{fill:"#d5e8d4",stroke:"#82b366"},{fill:"#ffe6cc",stroke:"#d79b00"},{fill:"#fff2cc",stroke:"#d6b656"},{fill:"#f8cecc",stroke:"#b85450"},{fill:"#e1d5e7",stroke:"#9673a6"}],[{fill:"",stroke:""},{fill:"#60a917",stroke:"#2D7600",font:"#ffffff"},{fill:"#008a00",stroke:"#005700",font:"#ffffff"},{fill:"#1ba1e2",stroke:"#006EAF",font:"#ffffff"},{fill:"#0050ef",stroke:"#001DBC",font:"#ffffff"},{fill:"#6a00ff",stroke:"#3700CC",font:"#ffffff"},{fill:"#d80073",stroke:"#A50040",font:"#ffffff"},{fill:"#a20025",stroke:"#6F0000",font:"#ffffff"}],[{fill:"#e51400",stroke:"#B20000",font:"#ffffff"},{fill:"#fa6800",stroke:"#C73500",font:"#000000"},{fill:"#f0a30a",stroke:"#BD7000",font:"#000000"},{fill:"#e3c800",stroke:"#B09500",font:"#000000"},{fill:"#6d8764",stroke:"#3A5431",font:"#ffffff"},{fill:"#647687",stroke:"#314354",font:"#ffffff"},{fill:"#76608a",stroke:"#432D57",font:"#ffffff"},{fill:"#a0522d",stroke:"#6D1F00",font:"#ffffff"}],[{fill:"",stroke:""},{fill:mxConstants.NONE,stroke:""},{fill:"#fad7ac",stroke:"#b46504"},{fill:"#fad9d5",stroke:"#ae4132"},{fill:"#b0e3e6",stroke:"#0e8088"},{fill:"#b1ddf0",stroke:"#10739e"},{fill:"#d0cee2",stroke:"#56517e"},{fill:"#bac8d3",stroke:"#23445d"}],[{fill:"",stroke:""},{fill:"#f5f5f5",stroke:"#666666",gradient:"#b3b3b3"},{fill:"#dae8fc",stroke:"#6c8ebf",gradient:"#7ea6e0"},{fill:"#d5e8d4",stroke:"#82b366",gradient:"#97d077"},{fill:"#ffcd28",stroke:"#d79b00",gradient:"#ffa500"},{fill:"#fff2cc",stroke:"#d6b656",gradient:"#ffd966"},{fill:"#f8cecc",stroke:"#b85450",gradient:"#ea6b66"},{fill:"#e6d0de",stroke:"#996185",gradient:"#d5739d"}],[{fill:"",stroke:""},{fill:"#eeeeee",stroke:"#36393d"},{fill:"#f9f7ed",stroke:"#36393d"},{fill:"#ffcc99",stroke:"#36393d"},{fill:"#cce5ff",stroke:"#36393d"},{fill:"#ffff88",stroke:"#36393d"},{fill:"#cdeb8b",stroke:"#36393d"},{fill:"#ffcccc",stroke:"#36393d"}]],StyleFormatPanel.prototype.customColorSchemes=null,StyleFormatPanel.prototype.findCommonProperties=function(e,a,n){if(null!=a){function t(e){if(null!=e)if(n)for(var t=0;t<e.length;t++)a[e[t].name]=e[t];else for(var i in a){for(var l=!1,t=0;t<e.length;t++)if(e[t].name==i&&e[t].type==a[i].type){l=!0;break}l||delete a[i]}}var i=this.editorUi.editor.graph.view.getState(e);null!=i&&null!=i.shape&&(i.shape.commonCustomPropAdded||(i.shape.commonCustomPropAdded=!0,i.shape.customProperties=i.shape.customProperties||[],i.cell.vertex?Array.prototype.push.apply(i.shape.customProperties,Editor.commonVertexProperties):Array.prototype.push.apply(i.shape.customProperties,Editor.commonEdgeProperties)),t(i.shape.customProperties));e=e.getAttribute("customProperties");if(null!=e)try{t(JSON.parse(e))}catch(e){}}},g=StyleFormatPanel.prototype.init,StyleFormatPanel.prototype.init=function(){var e=this.format.getSelectionState();if("image"!=e.style.shape&&!e.containsLabel&&0<e.cells.length&&this.container.appendChild(this.addStyles(this.createPanel())),g.apply(this,arguments),Editor.enableCustomProperties){for(var t={},i=e.vertices,l=e.edges,a=0;a<i.length;a++)this.findCommonProperties(i[a],t,0==a);for(a=0;a<l.length;a++)this.findCommonProperties(l[a],t,0==i.length&&0==a);null!=Object.getOwnPropertyNames&&0<Object.getOwnPropertyNames(t).length&&this.container.appendChild(this.addProperties(this.createPanel(),t,e))}},f=StyleFormatPanel.prototype.addStyleOps,StyleFormatPanel.prototype.addStyleOps=function(e){var t=this.format.getSelectionState(),i=(this.editorUi.editor.graph,mxUtils.button(mxResources.get("copyStyle"),mxUtils.bind(this,function(e){this.editorUi.actions.get("copyStyle").funct()})));return i.setAttribute("title",mxResources.get("copyStyle")+" ("+this.editorUi.actions.get("copyStyle").shortcut+")"),i.style.marginBottom="2px",i.style.width="104px",i.style.marginRight="2px",e.appendChild(i),0<t.cells.length?((i=mxUtils.button(mxResources.get("pasteStyle"),mxUtils.bind(this,function(e){this.editorUi.actions.get("pasteStyle").funct()}))).setAttribute("title",mxResources.get("pasteStyle")+" ("+this.editorUi.actions.get("pasteStyle").shortcut+")"),i.style.marginBottom="2px",i.style.width="104px",e.appendChild(i)):i.style.width="210px",mxUtils.br(e),f.apply(this,arguments)},EditorUi.prototype.propertiesCollapsed=!0,StyleFormatPanel.prototype.addProperties=function(M,e,t){var w=this,u=this.editorUi.editor.graph,T=[];function L(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function P(e,t,i,l){u.getModel().beginUpdate();try{var a=[],n=[];if(null!=i.index){for(var o=[],s=i.parentRow.nextSibling;s&&s.getAttribute("data-pName")==e;)o.push(s.getAttribute("data-pValue")),s=s.nextSibling;i.index<o.length?null!=l?o.splice(l,1):o[i.index]=t:o.push(t),t=(o=null!=i.size&&o.length>i.size?o.slice(0,i.size):o).join(","),null!=i.countProperty&&(u.setCellStyles(i.countProperty,o.length,u.getSelectionCells()),a.push(i.countProperty),n.push(o.length))}if(u.setCellStyles(e,t,u.getSelectionCells()),a.push(e),n.push(t),null!=i.dependentProps)for(var r=0;r<i.dependentProps.length;r++){var d=i.dependentPropsDefVal[r],p=i.dependentPropsVals[r];if(p.length>t)p=p.slice(0,t);else for(var m=p.length;m<t;m++)p.push(d);p=p.join(","),u.setCellStyles(i.dependentProps[r],p,u.getSelectionCells()),a.push(i.dependentProps[r]),n.push(p)}"function"==typeof i.onChange&&i.onChange(u,t),w.editorUi.fireEvent(new mxEventObject("styleChanged","keys",a,"values",n,"cells",u.getSelectionCells()))}finally{u.getModel().endUpdate()}}function D(e,t,i){var l=mxUtils.getOffset(M,!0),a=mxUtils.getOffset(e,!0);t.style.position="absolute",t.style.left=a.x-l.x+"px",t.style.top=a.y-l.y+"px",t.style.width=e.offsetWidth+"px",t.style.height=e.offsetHeight-(i?4:0)+"px",t.style.zIndex=5}function k(a,n,o,e,t){var i=o.dispName,l=o.type,s=document.createElement("tr");s.className="gePropRow"+(t?"Dark":"")+(e?"Alt":"")+" gePropNonHeaderRow",s.setAttribute("data-pName",a),s.setAttribute("data-pValue",n);e=!1;null!=o.index&&(s.setAttribute("data-index",o.index),i=(null!=i?i:"")+"["+o.index+"]",e=!0);var r=document.createElement("td");r.className="gePropRowCell";var d,p,m,u,h,c,g,f,A,y,C,x,b,S,E,i=mxResources.get(i,null,i);if(mxUtils.write(r,i),r.setAttribute("title",i),e&&(r.style.textAlign="right"),s.appendChild(r),(r=document.createElement("td")).className="gePropRowCell","color"==l)r.appendChild((C=a,x=n,b=o,(S=document.createElement("div")).style.width="32px",S.style.height="4px",S.style.margin="2px",S.style.border="1px solid black",S.style.background=x&&"none"!=x?x:"url('"+Dialog.prototype.noColorImage+"')",btn=mxUtils.button("",mxUtils.bind(w,function(e){this.editorUi.pickColor(x,function(e){S.style.background="none"==e?"url('"+Dialog.prototype.noColorImage+"')":e,P(C,e,b)}),mxEvent.consume(e)})),btn.style.height="12px",btn.style.width="40px",btn.className="geColorBtn",btn.appendChild(S),btn));else if("bool"==l||"boolean"==l)r.appendChild((g=a,f=n,A=o,(y=document.createElement("input")).type="checkbox",y.checked="1"==f,mxEvent.addListener(y,"change",function(){P(g,y.checked?"1":"0",A)}),y));else if("enum"==l){for(var v=o.enumList,I=0;I<v.length;I++){var N=v[I];if(N.val==n){mxUtils.write(r,mxResources.get(N.dispName,null,N.dispName));break}}mxEvent.addListener(r,"click",mxUtils.bind(w,function(){var t=document.createElement("select");D(r,t);for(var e=0;e<v.length;e++){var i=v[e],l=document.createElement("option");l.value=mxUtils.htmlEntities(i.val),mxUtils.write(l,mxResources.get(i.dispName,null,i.dispName)),t.appendChild(l)}t.value=n,M.appendChild(t),mxEvent.addListener(t,"change",function(){var e=mxUtils.htmlEntities(t.value);P(a,e,o)}),t.focus(),mxEvent.addListener(t,"blur",function(){M.removeChild(t)})}))}else"dynamicArr"==l?r.appendChild((d=a,f=n,p=o.subType,m=o.subDefVal,u=o.countProperty,h=s,c=t,null!=f&&(f=f.split(","),T.push({name:d,values:f,type:p,defVal:m,countProperty:u,parentRow:h,isDeletable:!0,flipBkg:c})),btn=mxUtils.button("+",mxUtils.bind(w,function(e){for(var t=h,i=0;null!=t.nextSibling;){if(t.nextSibling.getAttribute("data-pName")!=d)break;t=t.nextSibling,i++}var l={type:p,parentRow:h,index:i,isDeletable:!0,defVal:m,countProperty:u},a=k(d,"",l,i%2==0,c);P(d,m,l),L(a,t),mxEvent.consume(e)})),btn.style.height="16px",btn.style.width="25px",btn.className="geColorBtn",btn)):"staticArr"==l?r.appendChild(function(e,t,i,l,a,n,o){if(0<a){for(var s=new Array(a),r=null!=t?t.split(","):[],d=0;d<a;d++)s[d]=null!=r[d]?r[d]:null!=l?l:"";T.push({name:e,values:s,type:i,defVal:l,parentRow:n,flipBkg:o,size:a})}return document.createElement("div")}(a,n,o.subType,o.subDefVal,o.size,s,t)):"readOnly"==l?((E=document.createElement("input")).setAttribute("readonly",""),E.value=n,E.style.width="96px",E.style.borderWidth="0px",r.appendChild(E)):(r.innerHTML=n,mxEvent.addListener(r,"click",mxUtils.bind(w,function(){var t=document.createElement("input");function i(){var e=0==(e=t.value).length&&"string"!=l?0:e;o.allowAuto&&(null!=e.trim&&"auto"==e.trim().toLowerCase()?(e="auto",l="string"):(e=parseFloat(e),e=isNaN(e)?0:e)),null!=o.min&&e<o.min?e=o.min:null!=o.max&&e>o.max&&(e=o.max);e=mxUtils.htmlEntities(("int"==l?parseInt(e):e)+"");P(a,e,o)}D(r,t,!0),t.value=n,t.className="gePropEditor","int"!=l&&"float"!=l||o.allowAuto||(t.type="number",t.step="int"==l?"1":"any",null!=o.min&&(t.min=parseFloat(o.min)),null!=o.max&&(t.max=parseFloat(o.max))),M.appendChild(t),mxEvent.addListener(t,"keypress",function(e){13==e.keyCode&&i()}),t.focus(),mxEvent.addListener(t,"blur",function(){i()})})));return o.isDeletable&&((E=mxUtils.button("-",mxUtils.bind(w,function(e){P(a,"",o,o.index),mxEvent.consume(e)}))).style.height="16px",E.style.width="25px",E.style.float="right",E.className="geColorBtn",r.appendChild(E)),s.appendChild(r),s}M.style.position="relative",M.style.padding="0";var o=document.createElement("table");o.className="geProperties",o.style.whiteSpace="nowrap",o.style.width="100%";var i=document.createElement("tr");i.className="gePropHeader";var l=document.createElement("th");l.className="gePropHeaderCell";var s=document.createElement("img");s.src=Sidebar.prototype.expandedImage,s.style.verticalAlign="middle",l.appendChild(s),mxUtils.write(l,mxResources.get("property")),i.style.cursor="pointer";function a(){var e=o.querySelectorAll(".gePropNonHeaderRow");if(w.editorUi.propertiesCollapsed){s.src=Sidebar.prototype.collapsedImage;for(var t="none",i=M.childNodes.length-1;0<=i;i--)try{var l=M.childNodes[i],a=l.nodeName.toUpperCase();"INPUT"!=a&&"SELECT"!=a||M.removeChild(l)}catch(e){}}else s.src=Sidebar.prototype.expandedImage,t="";for(var n=0;n<e.length;n++)e[n].style.display=t}mxEvent.addListener(i,"click",function(){w.editorUi.propertiesCollapsed=!w.editorUi.propertiesCollapsed,a()}),i.appendChild(l),(l=document.createElement("th")).className="gePropHeaderCell",l.innerHTML=mxResources.get("value"),i.appendChild(l),o.appendChild(i);var n,r=!1,d=!1,i=null;for(n in 1==t.vertices.length&&0==t.edges.length?i=t.vertices[0].id:0==t.vertices.length&&1==t.edges.length&&(i=t.edges[0].id),null!=i&&o.appendChild(k("id",mxUtils.htmlEntities(i),{dispName:"ID",type:"readOnly"},!0,!1)),e){var p=e[n];if("function"!=typeof p.isVisible||p.isVisible(t,this)){var m=null!=t.style[n]?mxUtils.htmlEntities(t.style[n]+""):null!=p.getDefaultValue?p.getDefaultValue(t,this):p.defVal;if("separator"!=p.type){if("staticArr"==p.type)p.size=parseInt(t.style[p.sizeProperty]||e[p.sizeProperty].defVal)||0;else if(null!=p.dependentProps){for(var h=p.dependentProps,c=[],g=[],f=0;f<h.length;f++){var A=t.style[h[f]];g.push(e[h[f]].subDefVal),c.push(null!=A?A.split(","):[])}p.dependentPropsDefVal=g,p.dependentPropsVals=c}o.appendChild(k(n,m,p,r,d)),r=!r}else d=!d}}for(f=0;f<T.length;f++)for(var y=(p=T[f]).parentRow,C=0;C<p.values.length;C++){var x={type:p.type,parentRow:p.parentRow,isDeletable:p.isDeletable,index:C,defVal:p.defVal,countProperty:p.countProperty,size:p.size},x=k(p.name,p.values[C],x,C%2==0,p.flipBkg);L(x,y),y=x}return M.appendChild(o),a(),M},StyleFormatPanel.prototype.addStyles=function(e){var s=this.editorUi.editor.graph,l=document.createElement("div");l.style.whiteSpace="nowrap",l.style.paddingLeft="24px",l.style.paddingRight="20px",e.style.paddingLeft="16px",e.style.paddingBottom="6px",e.style.position="relative",e.appendChild(l);var r=["plain-gray","plain-blue","plain-green","plain-turquoise","plain-orange","plain-yellow","plain-red","plain-pink","plain-purple","gray","blue","green","turquoise","orange","yellow","red","pink","purple"],t=document.createElement("div");t.style.whiteSpace="nowrap",t.style.position="relative",t.style.textAlign="center",t.style.width="210px";for(var i=[],a=0;a<this.defaultColorSchemes.length;a++){var n=document.createElement("div");n.style.display="inline-block",n.style.width="6px",n.style.height="6px",n.style.marginLeft="4px",n.style.marginRight="3px",n.style.borderRadius="3px",n.style.cursor="pointer",n.style.background="transparent",n.style.border="1px solid #b5b6b7",mxUtils.bind(this,function(e){mxEvent.addListener(n,"click",mxUtils.bind(this,function(){o(e)}))})(a),i.push(n),t.appendChild(n)}var o=mxUtils.bind(this,function(e){null!=i[e]&&(null!=this.format.currentScheme&&null!=i[this.format.currentScheme]&&(i[this.format.currentScheme].style.background="transparent"),this.format.currentScheme=e,d(this.defaultColorSchemes[this.format.currentScheme]),i[this.format.currentScheme].style.background="#84d7ff")}),d=mxUtils.bind(this,function(e){var t=mxUtils.bind(this,function(o){var e,t,i=mxUtils.button("",mxUtils.bind(this,function(e){s.getModel().beginUpdate();try{for(var t=this.format.getSelectionState().cells,i=0;i<t.length;i++){for(var l=s.getModel().getStyle(t[i]),a=0;a<r.length;a++)l=mxUtils.removeStylename(l,r[a]);var n=s.getModel().isVertex(t[i])?s.defaultVertexStyle:s.defaultEdgeStyle;null!=o?(mxEvent.isShiftDown(e)||(l=""==o.fill?mxUtils.setStyle(l,mxConstants.STYLE_FILLCOLOR,null):mxUtils.setStyle(l,mxConstants.STYLE_FILLCOLOR,o.fill||mxUtils.getValue(n,mxConstants.STYLE_FILLCOLOR,null)),l=mxUtils.setStyle(l,mxConstants.STYLE_GRADIENTCOLOR,o.gradient||mxUtils.getValue(n,mxConstants.STYLE_GRADIENTCOLOR,null)),mxEvent.isControlDown(e)||mxClient.IS_MAC&&mxEvent.isMetaDown(e)||!s.getModel().isVertex(t[i])||(l=mxUtils.setStyle(l,mxConstants.STYLE_FONTCOLOR,o.font||mxUtils.getValue(n,mxConstants.STYLE_FONTCOLOR,null)))),mxEvent.isAltDown(e)||(l=""==o.stroke?mxUtils.setStyle(l,mxConstants.STYLE_STROKECOLOR,null):mxUtils.setStyle(l,mxConstants.STYLE_STROKECOLOR,o.stroke||mxUtils.getValue(n,mxConstants.STYLE_STROKECOLOR,null)))):(l=mxUtils.setStyle(l,mxConstants.STYLE_FILLCOLOR,mxUtils.getValue(n,mxConstants.STYLE_FILLCOLOR,"#ffffff")),l=mxUtils.setStyle(l,mxConstants.STYLE_STROKECOLOR,mxUtils.getValue(n,mxConstants.STYLE_STROKECOLOR,"#000000")),l=mxUtils.setStyle(l,mxConstants.STYLE_GRADIENTCOLOR,mxUtils.getValue(n,mxConstants.STYLE_GRADIENTCOLOR,null)),s.getModel().isVertex(t[i])&&(l=mxUtils.setStyle(l,mxConstants.STYLE_FONTCOLOR,mxUtils.getValue(n,mxConstants.STYLE_FONTCOLOR,null)))),s.getModel().setStyle(t[i],l)}}finally{s.getModel().endUpdate()}}));i.className="geStyleButton",i.style.width="36px",i.style.height=this.defaultColorSchemes.length<=10?"24px":"30px",i.style.margin="0px 6px 6px 0px",null!=o?(t="1"==urlParams.sketch?"2px solid":"1px solid",null!=o.gradient?mxClient.IS_IE&&document.documentMode<10?i.style.filter="progid:DXImageTransform.Microsoft.Gradient(StartColorStr='"+o.fill+"', EndColorStr='"+o.gradient+"', GradientType=0)":i.style.backgroundImage="linear-gradient("+o.fill+" 0px,"+o.gradient+" 100%)":o.fill==mxConstants.NONE?i.style.background="url('"+Dialog.prototype.noColorImage+"')":""==o.fill?i.style.backgroundColor=mxUtils.getValue(s.defaultVertexStyle,mxConstants.STYLE_FILLCOLOR,Editor.isDarkMode()?Editor.darkColor:"#ffffff"):i.style.backgroundColor=o.fill||mxUtils.getValue(s.defaultVertexStyle,mxConstants.STYLE_FILLCOLOR,Editor.isDarkMode()?Editor.darkColor:"#ffffff"),o.stroke==mxConstants.NONE?i.style.border=t+" transparent":""==o.stroke?i.style.border=t+" "+mxUtils.getValue(s.defaultVertexStyle,mxConstants.STYLE_STROKECOLOR,Editor.isDarkMode()?"#ffffff":Editor.darkColor):i.style.border=t+" "+(o.stroke||mxUtils.getValue(s.defaultVertexStyle,mxConstants.STYLE_STROKECOLOR,Editor.isDarkMode()?"#ffffff":Editor.darkColor)),null!=o.title&&i.setAttribute("title",o.title)):(e=mxUtils.getValue(s.defaultVertexStyle,mxConstants.STYLE_FILLCOLOR,"#ffffff"),t=mxUtils.getValue(s.defaultVertexStyle,mxConstants.STYLE_STROKECOLOR,"#000000"),i.style.backgroundColor=e,i.style.border="1px solid "+t),i.style.borderRadius="0",l.appendChild(i)});l.innerHTML="";for(var i=0;i<e.length;i++)0<i&&0==mxUtils.mod(i,4)&&mxUtils.br(l),t(e[i])});null==this.format.currentScheme?o(Editor.isDarkMode()?1:"1"==urlParams.sketch?5:0):o(this.format.currentScheme);var p=this.defaultColorSchemes.length<=10?28:8,m=document.createElement("div");m.style.cssText="position:absolute;left:10px;top:8px;bottom:"+p+"px;width:20px;margin:4px;opacity:0.5;background-repeat:no-repeat;background-position:center center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQBAMAAADQT4M0AAAAIVBMVEUAAAB2dnZ4eHh3d3d1dXVxcXF2dnZ2dnZ2dnZxcXF2dnYmb3w1AAAACnRSTlMAfCTkhhvb7cQSPH2JPgAAADRJREFUCNdjwACMAmBKaiGYs2oJmLPKAZ3DabU8AMRTXpUKopislqFyVzCAuUZgikkBZjoAcMYLnp53P/UAAAAASUVORK5CYII=);",mxEvent.addListener(m,"click",mxUtils.bind(this,function(){o(mxUtils.mod(this.format.currentScheme-1,this.defaultColorSchemes.length))}));var u=document.createElement("div");function h(e){mxEvent.addListener(e,"mouseenter",function(){e.style.opacity="1"}),mxEvent.addListener(e,"mouseleave",function(){e.style.opacity="0.5"})}return u.style.cssText="position:absolute;left:202px;top:8px;bottom:"+p+"px;width:20px;margin:4px;opacity:0.5;background-repeat:no-repeat;background-position:center center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQBAMAAADQT4M0AAAAIVBMVEUAAAB2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnYBuwCcAAAACnRSTlMAfCTkhhvb7cQSPH2JPgAAADZJREFUCNdjQAOMAmBKaiGY8loF5rKswsZlrVo8AUiFrTICcbIWK8A5DF1gDoMymMPApIAwHwCS0Qx/U7qCBQAAAABJRU5ErkJggg==);",1<this.defaultColorSchemes.length&&(e.appendChild(m),e.appendChild(u)),mxEvent.addListener(u,"click",mxUtils.bind(this,function(){o(mxUtils.mod(this.format.currentScheme+1,this.defaultColorSchemes.length))})),h(m),h(u),d(this.defaultColorSchemes[this.format.currentScheme]),this.defaultColorSchemes.length<=10&&e.appendChild(t),e},StyleFormatPanel.prototype.addEditOps=function(e){var t=this.format.getSelectionState(),i=null;1==t.cells.length&&((i=mxUtils.button(mxResources.get("editStyle"),mxUtils.bind(this,function(e){this.editorUi.actions.get("editStyle").funct()}))).setAttribute("title",mxResources.get("editStyle")+" ("+this.editorUi.actions.get("editStyle").shortcut+")"),i.style.width="210px",i.style.marginBottom="2px",e.appendChild(i));var l,a=this.editorUi.editor.graph,a=1==t.cells.length?a.view.getState(t.cells[0]):null;return null!=a&&null!=a.shape&&null!=a.shape.stencil?((l=mxUtils.button(mxResources.get("editShape"),mxUtils.bind(this,function(e){this.editorUi.actions.get("editShape").funct()}))).setAttribute("title",mxResources.get("editShape")),l.style.marginBottom="2px",null==i?l.style.width="210px":(i.style.width="104px",l.style.width="104px",l.style.marginLeft="2px"),e.appendChild(l)):t.image&&0<t.cells.length&&((l=mxUtils.button(mxResources.get("editImage"),mxUtils.bind(this,function(e){"1"!=urlParams.customMenu?this.editorUi.actions.get("image").funct():alert("!")}))).setAttribute("title",mxResources.get("editImage")),l.style.marginBottom="2px",null==i?l.style.width="210px":(i.style.width="104px",l.style.width="104px",l.style.marginLeft="2px"),e.appendChild(l)),e}),Graph.customFontElements={},Graph.recentCustomFonts={},Graph.isGoogleFontUrl=function(e){return e.substring(0,Editor.GOOGLE_FONTS.length)==Editor.GOOGLE_FONTS},Graph.isCssFontUrl=function(e){return Graph.isGoogleFontUrl(e)},Graph.createFontElement=function(e,t){var i=null;return Graph.isCssFontUrl(t)?((i=document.createElement("link")).setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("charset","UTF-8"),i.setAttribute("href",t)):(i=document.createElement("style"),mxUtils.write(i,'@font-face {\nfont-family: "'+e+'";\nsrc: url("'+t+'");\n}')),i},Graph.addFont=function(e,t,i){var l,a,n;return null!=e&&0<e.length&&null!=t&&0<t.length&&"helvetica"!=(n=e.toLowerCase())&&"arial"!=e&&"sans-serif"!=n?(null!=(l=Graph.customFontElements[n])&&l.url!=t&&(l.elt.parentNode.removeChild(l.elt),l=null),null==l?("http:"==(a=t).substring(0,5)&&(a=PROXY_URL+"?url="+encodeURIComponent(t)),l={name:e,url:t,elt:Graph.createFontElement(e,a)},Graph.customFontElements[n]=l,Graph.recentCustomFonts[n]=l,n=document.getElementsByTagName("head")[0],null!=i&&("link"==l.elt.nodeName.toLowerCase()?(l.elt.onload=i,l.elt.onerror=i):i()),null!=n&&n.appendChild(l.elt)):null!=i&&i()):null!=i&&i(),e},Graph.getFontUrl=function(e,t){e=Graph.customFontElements[e.toLowerCase()];return t=null!=e?e.url:t},Graph.processFontAttributes=function(e){for(var t=e.getElementsByTagName("*"),i=0;i<t.length;i++){var l,a=t[i].getAttribute("data-font-src");null==a||null!=(l="FONT"==t[i].nodeName?t[i].getAttribute("face"):t[i].style.fontFamily)&&Graph.addFont(l,a)}},Graph.processFontStyle=function(e){var t,i;return null!=e&&(null==(t=mxUtils.getValue(e,"fontSource",null))||null!=(i=mxUtils.getValue(e,mxConstants.STYLE_FONTFAMILY,null))&&Graph.addFont(i,decodeURIComponent(t))),e},Graph.prototype.defaultThemeName="default-style2",Graph.prototype.lastPasteXml=null,Graph.prototype.pasteCounter=0,Graph.prototype.defaultScrollbars="0"!=urlParams.sb,Graph.prototype.defaultPageVisible="0"!=urlParams.pv,Graph.prototype.shadowId="dropShadow",Graph.prototype.svgShadowColor="#3D4574",Graph.prototype.svgShadowOpacity="0.4",Graph.prototype.svgShadowBlur="1.7",Graph.prototype.svgShadowSize="3",Graph.prototype.edgeMode="move"!=urlParams.edge,Graph.prototype.hiddenTags=null,Graph.prototype.defaultMathEnabled=!1;var A=Graph.prototype.init;Graph.prototype.init=function(){A.apply(this,arguments),this.hiddenTags=[],window.mxFreehand&&(this.freehand=new mxFreehand(this));var t=null;function e(e){t=e}mxEvent.addListener(this.container,"mouseenter",e),mxEvent.addListener(this.container,"mousemove",e),mxEvent.addListener(this.container,"mouseleave",function(e){t=null}),this.isMouseInsertPoint=function(){return null!=t};var i=this.getInsertPoint;this.getInsertPoint=function(){return null!=t?this.getPointForEvent(t):i.apply(this,arguments)};var l=this.layoutManager.getLayout;this.layoutManager.getLayout=function(e){var t=this.graph.getCellStyle(e);if(null!=t){if("rack"==t.childLayout){var i=new mxStackLayout(this.graph,!1);return null!=t.rackUnitSize?i.gridSize=parseFloat(t.rackUnitSize):i.gridSize="undefined"!=typeof mxRackContainer?mxRackContainer.unitSize:20,i.marginLeft=t.marginLeft||0,i.marginRight=t.marginRight||0,i.marginTop=t.marginTop||0,i.marginBottom=t.marginBottom||0,i.allowGaps=t.allowGaps||0,i.horizontal="1"==mxUtils.getValue(t,"horizontalRack","0"),i.resizeParent=!1,i.fill=!0,i}if("undefined"!=typeof mxTableLayout&&"tableLayout"==t.childLayout){i=new mxTableLayout(this.graph);return i.rows=t.tableRows||2,i.columns=t.tableColumns||2,i.colPercentages=t.colPercentages,i.rowPercentages=t.rowPercentages,i.equalColumns="1"==mxUtils.getValue(t,"equalColumns",i.colPercentages?"0":"1"),i.equalRows="1"==mxUtils.getValue(t,"equalRows",i.rowPercentages?"0":"1"),i.resizeParent="1"==mxUtils.getValue(t,"resizeParent","1"),i.border=t.tableBorder||i.border,i.marginLeft=t.marginLeft||0,i.marginRight=t.marginRight||0,i.marginTop=t.marginTop||0,i.marginBottom=t.marginBottom||0,i.autoAddCol="1"==mxUtils.getValue(t,"autoAddCol","0"),i.autoAddRow="1"==mxUtils.getValue(t,"autoAddRow",i.autoAddCol?"0":"1"),i.colWidths=t.colWidths||"100",i.rowHeights=t.rowHeights||"50",i}}return l.apply(this,arguments)},this.updateGlobalUrlVariables()};var y=Graph.prototype.postProcessCellStyle;Graph.prototype.postProcessCellStyle=function(e){return this.replaceDefaultColors(e),Graph.processFontStyle(y.apply(this,arguments))},Graph.prototype.replaceDefaultColors=function(e){var t,i;null!=e&&(t=mxUtils.hex2rgba("transparent"==this.defaultPageBackgroundColor?"#ffffff":this.defaultPageBackgroundColor),i=mxUtils.hex2rgba("transparent"==this.defaultForegroundColor?"#000000":this.defaultForegroundColor),this.replaceDefaultColor(e,mxConstants.STYLE_FONTCOLOR,i),this.replaceDefaultColor(e,mxConstants.STYLE_FILLCOLOR,t),this.replaceDefaultColor(e,mxConstants.STYLE_STROKECOLOR,i),this.replaceDefaultColor(e,mxConstants.STYLE_IMAGE_BORDER,i),this.replaceDefaultColor(e,mxConstants.STYLE_IMAGE_BACKGROUND,t),this.replaceDefaultColor(e,mxConstants.STYLE_LABEL_BORDERCOLOR,i),this.replaceDefaultColor(e,mxConstants.STYLE_SWIMLANE_FILLCOLOR,t),this.replaceDefaultColor(e,mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,t))},Graph.prototype.replaceDefaultColor=function(e,t,i){null!=e&&"default"==e[t]&&null!=i&&(e[t]=i)};var C=mxSvgCanvas2D.prototype.updateTextNodes;mxSvgCanvas2D.prototype.updateTextNodes=function(e,t,i,l,a,n,o,s,r,d,p){C.apply(this,arguments),Graph.processFontAttributes(p)};var x=mxText.prototype.redraw;mxText.prototype.redraw=function(){x.apply(this,arguments),null!=this.node&&"DIV"==this.node.nodeName&&Graph.processFontAttributes(this.node)},Graph.prototype.createTagsDialog=function(n,d,e){var p=this,m=p.hiddenTags.slice(),t=document.createElement("div");t.style.userSelect="none",t.style.overflow="hidden",t.style.padding="10px",t.style.height="100%";var l=document.createElement("div");function u(){for(var e=p.getSelectionCells(),t=[],i=0;i<e.length;i++)p.isCellVisible(e[i])&&t.push(e[i]);p.setSelectionCells(t)}function h(e){p.hiddenTags=e?[]:m.slice(),u(),p.refresh()}l.style.boxSizing="border-box",l.style.borderRadius="4px",l.style.userSelect="none",l.style.overflow="auto",l.style.position="absolute",l.style.left="10px",l.style.right="10px",l.style.top="10px",l.style.border=p.isEnabled()?"1px solid #808080":"none",l.style.bottom=p.isEnabled()?"48px":"10px",t.appendChild(l);var i=mxUtils.button(mxResources.get("reset"),function(e){p.hiddenTags=[],mxEvent.isShiftDown(e)||(m=p.hiddenTags.slice()),u(),p.refresh()});i.setAttribute("title",mxResources.get("reset")),i.className="geBtn",i.style.margin="0 4px 0 0";var o=mxUtils.button(mxResources.get("add"),function(){null!=e&&e(m,function(e){m=e,r()})});function s(e,s){if(l.innerHTML="",0<e.length){var t=document.createElement("table");t.setAttribute("cellpadding","2"),t.style.boxSizing="border-box",t.style.tableLayout="fixed",t.style.width="100%";var r=document.createElement("tbody");if(null!=e&&0<e.length)for(var i=0;i<e.length;i++)!function(l){var n=mxUtils.indexOf(p.hiddenTags,l)<0,e=document.createElement("tr"),t=document.createElement("td");t.style.align="center",t.style.width="16px";var i,o=document.createElement("img");o.setAttribute("src",n?Editor.visibleImage:Editor.hiddenImage),o.setAttribute("title",mxResources.get(n?"hideIt":"show",[l])),mxUtils.setOpacity(o,n?75:25),o.style.verticalAlign="middle",o.style.cursor="pointer",o.style.width="16px",(d||Editor.isDarkMode())&&(o.style.filter="invert(100%)"),t.appendChild(o),mxEvent.addListener(o,"click",function(e){var t=mxUtils.indexOf(p.hiddenTags,l);mxEvent.isShiftDown(e)?h(0<=mxUtils.indexOf(p.hiddenTags,l)):(t<0?p.hiddenTags.push(l):0<=t&&p.hiddenTags.splice(t,1),u(),p.refresh()),mxEvent.consume(e)}),e.appendChild(t),(t=document.createElement("td")).style.overflow="hidden",t.style.whiteSpace="nowrap",t.style.textOverflow="ellipsis",t.style.verticalAlign="middle",t.style.cursor="pointer",t.setAttribute("title",l),a=document.createElement("a"),mxUtils.write(a,l),a.style.textOverflow="ellipsis",a.style.position="relative",mxUtils.setOpacity(a,n?100:40),t.appendChild(a),mxEvent.addListener(t,"click",function(e){var t,i;mxEvent.isShiftDown(e)?(h(!0),i=p.getCellsForTags([l],null,null,!0),p.isEnabled()?p.setSelectionCells(i):p.highlightCells(i)):n&&0<p.hiddenTags.length?h(!0):(t=m.slice(),i=mxUtils.indexOf(t,l),t.splice(i,1),p.hiddenTags=t,u(),p.refresh()),mxEvent.consume(e)}),e.appendChild(t),p.isEnabled()&&((t=document.createElement("td")).style.verticalAlign="middle",t.style.textAlign="center",t.style.width="18px",null==s?(t.style.align="center",t.style.width="16px",(o=document.createElement("img")).setAttribute("src",Editor.crossImage),o.setAttribute("title",mxResources.get("removeIt",[l])),mxUtils.setOpacity(o,n?75:25),o.style.verticalAlign="middle",o.style.cursor="pointer",o.style.width="16px",(d||Editor.isDarkMode())&&(o.style.filter="invert(100%)"),mxEvent.addListener(o,"click",function(e){var t=mxUtils.indexOf(m,l);0<=t&&m.splice(t,1),p.removeTagsForCells(p.model.getDescendants(p.model.getRoot()),[l]),p.refresh(),mxEvent.consume(e)}),t.appendChild(o)):((i=document.createElement("input")).setAttribute("type","checkbox"),i.style.margin="0px",i.defaultChecked=null!=s&&0<=mxUtils.indexOf(s,l),i.checked=i.defaultChecked,i.style.background="transparent",i.setAttribute("title",mxResources.get(i.defaultChecked?"removeIt":"add",[l])),mxEvent.addListener(i,"change",function(e){i.checked?p.addTagsForCells(p.getSelectionCells(),[l]):p.removeTagsForCells(p.getSelectionCells(),[l]),mxEvent.consume(e)}),t.appendChild(i)),e.appendChild(t)),r.appendChild(e)}(e[i]);t.appendChild(r),l.appendChild(t)}}o.setAttribute("title",mxResources.get("add")),o.className="geBtn",o.style.margin="0",p.addListener(mxEvent.ROOT,function(){m=p.hiddenTags.slice()});var r=mxUtils.bind(this,function(e,t){if(n()){for(var i=p.getAllTags(),l=0;l<i.length;l++)mxUtils.indexOf(m,i[l])<0&&m.push(i[l]);m.sort(),p.isSelectionEmpty()?s(m):s(m,p.getCommonTagsForCells(p.getSelectionCells()))}});p.selectionModel.addListener(mxEvent.CHANGE,r),p.model.addListener(mxEvent.CHANGE,r),p.addListener(mxEvent.REFRESH,r);var c=document.createElement("div");return c.style.boxSizing="border-box",c.style.whiteSpace="nowrap",c.style.position="absolute",c.style.overflow="hidden",c.style.bottom="0px",c.style.height="42px",c.style.right="10px",c.style.left="10px",p.isEnabled()&&(c.appendChild(i),c.appendChild(o),t.appendChild(c)),{div:t,refresh:r}},Graph.prototype.getCustomFonts=function(){var e,t=null!=(t=this.extFonts)?t.slice():[];for(e in Graph.customFontElements){var i=Graph.customFontElements[e];t.push({name:i.name,url:i.url})}return t},Graph.prototype.setFont=function(e,t){if(Graph.addFont(e,t),document.execCommand("fontname",!1,e),null!=t){var i=this.cellEditor.textarea.getElementsByTagName("font");t=Graph.getFontUrl(e,t);for(var l=0;l<i.length;l++)i[l].getAttribute("face")==e&&i[l].getAttribute("data-font-src")!=t&&i[l].setAttribute("data-font-src",t)}};var b=Graph.prototype.isFastZoomEnabled;Graph.prototype.isFastZoomEnabled=function(){return b.apply(this,arguments)&&(!this.shadowVisible||!mxClient.IS_SF)},Graph.prototype.updateGlobalUrlVariables=function(){if(this.globalVars=Editor.globalVars,null!=urlParams.vars)try{this.globalVars=null!=this.globalVars?mxUtils.clone(this.globalVars):{};var e=JSON.parse(decodeURIComponent(urlParams.vars));if(null!=e)for(var t in e)this.globalVars[t]=e[t]}catch(e){null!=window.console&&console.log("Error in vars URL parameter: "+e)}},Graph.prototype.getExportVariables=function(){return null!=this.globalVars?mxUtils.clone(this.globalVars):{}};var S=Graph.prototype.getGlobalVariable;Graph.prototype.getGlobalVariable=function(e){var t=S.apply(this,arguments);return t=null==t&&null!=this.globalVars?this.globalVars[e]:t},Graph.prototype.getDefaultStylesheet=function(){var e,t;return null==this.defaultStylesheet&&(e=this.themes["default-style2"],t=new mxCodec(e.ownerDocument),this.defaultStylesheet=t.decode(e)),this.defaultStylesheet},Graph.prototype.isViewer=function(){return urlParams.viewer};var N=Graph.prototype.getSvg;Graph.prototype.getSvg=function(e,t,i,l,a,n,o,s,r,d,p,m,u,h){var c=null,g=null,f=null;m||null==this.themes||"darkTheme"!=this.defaultThemeName||(c=this.stylesheet,g=this.defaultForegroundColor,f=this.defaultPageBackgroundColor,this.defaultPageBackgroundColor="darkTheme"==this.defaultThemeName?"#ffffff":Editor.darkColor,this.defaultForegroundColor="darkTheme"==this.defaultThemeName?"#000000":"#f0f0f0",this.stylesheet=this.getDefaultStylesheet(),this.refresh());var A=N.apply(this,arguments),y=this.getCustomFonts();if(p&&0<y.length){var C=A.ownerDocument,x=null!=C.createElementNS?C.createElementNS(mxConstants.NS_SVG,"style"):C.createElement("style");null!=C.setAttributeNS?x.setAttributeNS("type","text/css"):x.setAttribute("type","text/css");for(var b="",S="",E=0;E<y.length;E++){var v=y[E].name,I=y[E].url;Graph.isCssFontUrl(I)?b+="@import url("+I+");\n":S+='@font-face {\nfont-family: "'+v+'";\nsrc: url("'+I+'");\n}\n'}x.appendChild(C.createTextNode(b+S)),A.getElementsByTagName("defs")[0].appendChild(x)}return null!=c&&(this.defaultPageBackgroundColor=f,this.defaultForegroundColor=g,this.stylesheet=c,this.refresh()),A};var E=Graph.prototype.createSvgImageExport;Graph.prototype.createSvgImageExport=function(){var n,e=E.apply(this,arguments);return this.mathEnabled&&(n=e.drawText,e.drawText=function(e,t){if(null!=e.text&&null!=e.text.value&&e.text.checkBounds()&&(mxUtils.isNode(e.text.value)||e.text.dialect==mxConstants.DIALECT_STRICTHTML)){var i,l=e.text.getContentNode();if(null!=l){if((l=l.cloneNode(!0)).getElementsByTagNameNS)for(var a=l.getElementsByTagNameNS("http://www.w3.org/1998/Math/MathML","math");0<a.length;)a[0].parentNode.removeChild(a[0]);null!=l.innerHTML&&(i=e.text.value,e.text.value=l.innerHTML,n.apply(this,arguments),e.text.value=i)}}else n.apply(this,arguments)}),e};var v=mxGraphView.prototype.validateBackgroundPage;mxGraphView.prototype.validateBackgroundPage=function(){var e;v.apply(this,arguments),mxClient.IS_GC&&null!=this.getDrawPane()&&(e=this.getDrawPane().parentNode,!this.graph.mathEnabled||mxClient.NO_FO||null!=this.webKitForceRepaintNode&&null!=this.webKitForceRepaintNode.parentNode||"svg"!=this.graph.container.firstChild.nodeName?null==this.webKitForceRepaintNode||this.graph.mathEnabled&&("svg"==this.graph.container.firstChild.nodeName||this.graph.container.firstChild==this.webKitForceRepaintNode)||(null!=this.webKitForceRepaintNode.parentNode&&this.webKitForceRepaintNode.parentNode.removeChild(this.webKitForceRepaintNode),this.webKitForceRepaintNode=null):(this.webKitForceRepaintNode=document.createElement("div"),this.webKitForceRepaintNode.style.cssText="position:absolute;",e.ownerSVGElement.parentNode.insertBefore(this.webKitForceRepaintNode,e.ownerSVGElement)))};var I=Graph.prototype.refresh;Graph.prototype.refresh=function(){I.apply(this,arguments),this.refreshBackgroundImage()},Graph.prototype.refreshBackgroundImage=function(){null!=this.backgroundImage&&null!=this.backgroundImage.originalSrc&&(this.setBackgroundImage(this.backgroundImage),this.view.validateBackgroundImage())};var M=Graph.prototype.loadStylesheet;Graph.prototype.loadStylesheet=function(){M.apply(this,arguments),this.currentStyle="default-style2"},Graph.prototype.handleCustomLink=function(e){"data:action/json,"!=e.substring(0,17)||null!=(e=JSON.parse(e.substring(17))).actions&&this.executeCustomActions(e.actions)},Graph.prototype.executeCustomActions=function(s,r){var e,d,p,m,u,h,c;this.executingCustomActions?(this.stoppingCustomActions=!0,null!=this.pendingWaitThread&&window.clearTimeout(this.pendingWaitThread),null!=this.pendingExecuteNextAction&&this.pendingExecuteNextAction(),this.fireEvent(new mxEventObject("stopExecutingCustomActions"))):(e=!(this.executingCustomActions=!0),p=d=0,m=mxUtils.bind(this,function(){e||(e=!0,this.model.beginUpdate())}),u=mxUtils.bind(this,function(){e&&(e=!1,this.model.endUpdate())}),h=mxUtils.bind(this,function(){0<d&&d--,0==d&&c()}),(c=mxUtils.bind(this,function(){if(p<s.length){var e=this.stoppingCustomActions,t=s[p++],i=[];if(null!=t.open)if(u(),this.isCustomLink(t.open)){if(!this.customLinkClicked(t.open))return}else this.openLink(t.open);null==t.wait||e||(this.pendingExecuteNextAction=mxUtils.bind(this,function(){this.pendingExecuteNextAction=null,this.pendingWaitThread=null,h()}),d++,this.pendingWaitThread=window.setTimeout(this.pendingExecuteNextAction,""!=t.wait?parseInt(t.wait):1e3),u()),null!=t.opacity&&null!=t.opacity.value&&Graph.setOpacityForNodes(this.getNodesForCells(this.getCellsForAction(t.opacity,!0)),t.opacity.value),null!=t.fadeIn&&(d++,Graph.fadeNodes(this.getNodesForCells(this.getCellsForAction(t.fadeIn,!0)),0,1,h,e?0:t.fadeIn.delay)),null!=t.fadeOut&&(d++,Graph.fadeNodes(this.getNodesForCells(this.getCellsForAction(t.fadeOut,!0)),1,0,h,e?0:t.fadeOut.delay)),null!=t.wipeIn&&(i=i.concat(this.createWipeAnimations(this.getCellsForAction(t.wipeIn,!0),!0))),null!=t.wipeOut&&(i=i.concat(this.createWipeAnimations(this.getCellsForAction(t.wipeOut,!0),!1))),null!=t.toggle&&(m(),this.toggleCells(this.getCellsForAction(t.toggle,!0))),null!=t.show&&(m(),l=this.getCellsForAction(t.show,!0),Graph.setOpacityForNodes(this.getNodesForCells(l),1),this.setCellsVisible(l,!0)),null!=t.hide&&(m(),l=this.getCellsForAction(t.hide,!0),Graph.setOpacityForNodes(this.getNodesForCells(l),0),this.setCellsVisible(l,!1)),null!=t.toggleStyle&&null!=t.toggleStyle.key&&(m(),this.toggleCellStyles(t.toggleStyle.key,null!=t.toggleStyle.defaultValue?t.toggleStyle.defaultValue:"0",this.getCellsForAction(t.toggleStyle,!0))),null!=t.style&&null!=t.style.key&&(m(),this.setCellStyles(t.style.key,t.style.value,this.getCellsForAction(t.style,!0)));var l=[];if(null!=t.select&&this.isEnabled()&&(l=this.getCellsForAction(t.select),this.setSelectionCells(l)),null!=t.highlight&&(l=this.getCellsForAction(t.highlight),this.highlightCells(l,t.highlight.color,t.highlight.duration,t.highlight.opacity)),null!=t.scroll&&(l=this.getCellsForAction(t.scroll)),null!=t.viewbox&&this.fitWindow(t.viewbox,t.viewbox.border),0<l.length&&this.scrollCellToVisible(l[0]),null!=t.tags){var a=[];if(null!=t.tags.hidden&&(a=a.concat(t.tags.hidden)),null!=t.tags.visible)for(var n=this.getAllTags(),o=0;o<n.length;o++)mxUtils.indexOf(t.tags.visible,n[o])<0&&mxUtils.indexOf(a,n[o])<0&&a.push(n[o]);this.hiddenTags=a,this.refresh()}0<i.length&&(d++,this.executeAnimations(i,h,e?1:t.steps,e?0:t.delay)),(0==d?c:u)()}else this.executingCustomActions=!1,this.stoppingCustomActions=!1,u(),null!=r&&r()}))())},Graph.prototype.doUpdateCustomLinksForCell=function(e,t){var i=this.getLinkForCell(t);if(null!=i&&"data:action/json,"==i.substring(0,17)&&this.setLinkForCell(t,this.updateCustomLink(e,i)),this.isHtmlLabel(t)){var l=document.createElement("div");l.innerHTML=this.sanitizeHtml(this.getLabel(t));for(var a=l.getElementsByTagName("a"),n=!1,o=0;o<a.length;o++)null!=(i=a[o].getAttribute("href"))&&"data:action/json,"==i.substring(0,17)&&(a[o].setAttribute("href",this.updateCustomLink(e,i)),n=!0);n&&this.labelChanged(t,l.innerHTML)}},Graph.prototype.updateCustomLink=function(e,t){if("data:action/json,"==t.substring(0,17))try{var i=JSON.parse(t.substring(17));null!=i.actions&&(this.updateCustomLinkActions(e,i.actions),t="data:action/json,"+JSON.stringify(i))}catch(e){}return t},Graph.prototype.updateCustomLinkActions=function(e,t){for(var i=0;i<t.length;i++){var l,a=t[i];for(l in a)this.updateCustomLinkAction(e,a[l],"cells"),this.updateCustomLinkAction(e,a[l],"excludeCells")}},Graph.prototype.updateCustomLinkAction=function(e,t,i){if(null!=t&&null!=t[i]){for(var l,a=[],n=0;n<t[i].length;n++)"*"!=t[i][n]&&null!=(l=e[t[i][n]])?""!=l&&a.push(l):a.push(t[i][n]);t[i]=a}},Graph.prototype.getCellsForAction=function(e,t){var i=this.getCellsById(e.cells).concat(this.getCellsForTags(e.tags,null,t));if(null!=e.excludeCells){for(var l=[],a=0;a<i.length;a++)e.excludeCells.indexOf(i[a].id)<0&&l.push(i[a]);i=l}return i},Graph.prototype.getCellsById=function(e){var t=[];if(null!=e)for(var i,l,a=0;a<e.length;a++)"*"==e[a]?(i=this.model.getRoot(),t=t.concat(this.model.filterDescendants(function(e){return e!=i},i))):null!=(l=this.model.getCell(e[a]))&&t.push(l);return t};var T=Graph.prototype.isCellVisible;Graph.prototype.isCellVisible=function(e){return T.apply(this,arguments)&&!this.isAllTagsHidden(this.getTagsForCell(e))},Graph.prototype.isAllTagsHidden=function(e){if(null==e||0==e.length||0==this.hiddenTags.length)return!1;var t=e.split(" ");if(t.length>this.hiddenTags.length)return!1;for(var i=0;i<t.length;i++)if(mxUtils.indexOf(this.hiddenTags,t[i])<0)return!1;return!0},Graph.prototype.getCellsForTags=function(e,t,i,l){var a=[];if(null!=e){t=null!=t?t:this.model.getDescendants(this.model.getRoot());for(var n=0,o={},s=0;s<e.length;s++)0<e[s].length&&(o[e[s]]=!0,n++);for(s=0;s<t.length;s++)if(i&&this.model.getParent(t[s])==this.model.root||this.model.isVertex(t[s])||this.model.isEdge(t[s])){var r=this.getTagsForCell(t[s]),d=!1;if(0<r.length){var p=r.split(" ");if(p.length>=e.length){for(var m=0,u=0;u<p.length&&m<n;u++)null!=o[p[u]]&&m++;d=m==n}}d&&(1!=l||this.isCellVisible(t[s]))&&a.push(t[s])}}return a},Graph.prototype.getAllTags=function(){return this.getTagsForCells(this.model.getDescendants(this.model.getRoot()))},Graph.prototype.getCommonTagsForCells=function(e){for(var t=null,i=[],l=0;l<e.length;l++){var a=this.getTagsForCell(e[l]),i=[];if(!(0<a.length))return[];for(var n=a.split(" "),o={},s=0;s<n.length;s++)null!=t&&null==t[n[s]]||(o[n[s]]=!0,i.push(n[s]));t=o}return i},Graph.prototype.getTagsForCells=function(e){for(var t=[],i={},l=0;l<e.length;l++){var a=this.getTagsForCell(e[l]);if(0<a.length)for(var n=a.split(" "),o=0;o<n.length;o++)null==i[n[o]]&&(i[n[o]]=!0,t.push(n[o]))}return t},Graph.prototype.getTagsForCell=function(e){return this.getAttributeForCell(e,"tags","")},Graph.prototype.addTagsForCells=function(e,t){if(0<e.length&&0<t.length){this.model.beginUpdate();try{for(var i=0;i<e.length;i++){for(var l=this.getTagsForCell(e[i]),a=l.split(" "),n=!1,o=0;o<t.length;o++){var s=mxUtils.trim(t[o]);""!=s&&mxUtils.indexOf(a,s)<0&&(l=0<l.length?l+" "+s:s,n=!0)}n&&this.setAttributeForCell(e[i],"tags",l)}}finally{this.model.endUpdate()}}},Graph.prototype.removeTagsForCells=function(e,t){if(0<e.length&&0<t.length){this.model.beginUpdate();try{for(var i=0;i<e.length;i++){var l=this.getTagsForCell(e[i]);if(0<l.length){for(var a=l.split(" "),n=!1,o=0;o<t.length;o++){var s=mxUtils.indexOf(a,t[o]);0<=s&&(a.splice(s,1),n=!0)}n&&this.setAttributeForCell(e[i],"tags",a.join(" "))}}}finally{this.model.endUpdate()}}},Graph.prototype.toggleCells=function(e){this.model.beginUpdate();try{for(var t=0;t<e.length;t++)this.model.setVisible(e[t],!this.model.isVisible(e[t]))}finally{this.model.endUpdate()}},Graph.prototype.setCellsVisible=function(e,t){this.model.beginUpdate();try{for(var i=0;i<e.length;i++)this.model.setVisible(e[i],t)}finally{this.model.endUpdate()}},Graph.prototype.highlightCells=function(e,t,i,l){for(var a=0;a<e.length;a++)this.highlightCell(e[a],t,i,l)},Graph.prototype.highlightCell=function(e,t,i,l){t=null!=t?t:mxConstants.DEFAULT_VALID_COLOR,i=null!=i?i:1e3;var a,n=this.view.getState(e);null!=n&&(e=Math.max(5,mxUtils.getValue(n.style,mxConstants.STYLE_STROKEWIDTH,1)+4),a=new mxCellHighlight(this,t,e,!1),null!=l&&(a.opacity=l),a.highlight(n),window.setTimeout(function(){null!=a.shape&&(mxUtils.setPrefixedStyle(a.shape.node.style,"transition","all 1200ms ease-in-out"),a.shape.node.style.opacity=0),window.setTimeout(function(){a.destroy()},1200)},i))},Graph.prototype.addSvgShadow=function(e,t,i,l){i=null!=i&&i,l=null==l||l;var a=e.ownerDocument,n=null!=a.createElementNS?a.createElementNS(mxConstants.NS_SVG,"filter"):a.createElement("filter");n.setAttribute("id",this.shadowId);var o=null!=a.createElementNS?a.createElementNS(mxConstants.NS_SVG,"feGaussianBlur"):a.createElement("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("stdDeviation",this.svgShadowBlur),o.setAttribute("result","blur"),n.appendChild(o);var s=null!=a.createElementNS?a.createElementNS(mxConstants.NS_SVG,"feOffset"):a.createElement("feOffset");s.setAttribute("in","blur"),s.setAttribute("dx",this.svgShadowSize),s.setAttribute("dy",this.svgShadowSize),s.setAttribute("result","offsetBlur"),n.appendChild(s);o=null!=a.createElementNS?a.createElementNS(mxConstants.NS_SVG,"feFlood"):a.createElement("feFlood");o.setAttribute("flood-color",this.svgShadowColor),o.setAttribute("flood-opacity",this.svgShadowOpacity),o.setAttribute("result","offsetColor"),n.appendChild(o);s=null!=a.createElementNS?a.createElementNS(mxConstants.NS_SVG,"feComposite"):a.createElement("feComposite");s.setAttribute("in","offsetColor"),s.setAttribute("in2","offsetBlur"),s.setAttribute("operator","in"),s.setAttribute("result","offsetBlur"),n.appendChild(s);o=null!=a.createElementNS?a.createElementNS(mxConstants.NS_SVG,"feBlend"):a.createElement("feBlend");o.setAttribute("in","SourceGraphic"),o.setAttribute("in2","offsetBlur"),n.appendChild(o);s=e.getElementsByTagName("defs"),o=null;return 0==s.length?(o=null!=a.createElementNS?a.createElementNS(mxConstants.NS_SVG,"defs"):a.createElement("defs"),null!=e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)):o=s[0],o.appendChild(n),i||null!=(t=null!=t?t:e.getElementsByTagName("g")[0])&&(t.setAttribute("filter","url(#"+this.shadowId+")"),!isNaN(parseInt(e.getAttribute("width")))&&l&&(e.setAttribute("width",parseInt(e.getAttribute("width"))+6),e.setAttribute("height",parseInt(e.getAttribute("height"))+6),null!=(l=e.getAttribute("viewBox"))&&0<l.length&&(3<(l=l.split(" ")).length&&(w=parseFloat(l[2])+6,h=parseFloat(l[3])+6,e.setAttribute("viewBox",l[0]+" "+l[1]+" "+w+" "+h))))),n},Graph.prototype.setShadowVisible=function(e,t){mxClient.IS_SVG&&!mxClient.IS_SF&&(t=null==t||t,this.shadowVisible=e,this.shadowVisible?this.view.getDrawPane().setAttribute("filter","url(#"+this.shadowId+")"):this.view.getDrawPane().removeAttribute("filter"),t&&this.fireEvent(new mxEventObject("shadowVisibleChanged")))},Graph.prototype.selectUnlockedLayer=function(){if(null==this.defaultParent){for(var e=this.model.getChildCount(this.model.root),t=null,i=0;t=this.model.getChildAt(this.model.root,i),i++<e&&"1"==mxUtils.getValue(this.getCellStyle(t),"locked","0"););null!=t&&this.setDefaultParent(t)}},mxStencilRegistry.libraries.mockup=[SHAPES_PATH+"/mockup/mxMockupButtons.js"],mxStencilRegistry.libraries.arrows2=[SHAPES_PATH+"/mxArrows.js"],mxStencilRegistry.libraries.atlassian=[STENCIL_PATH+"/atlassian.xml",SHAPES_PATH+"/mxAtlassian.js"],mxStencilRegistry.libraries.bpmn=[SHAPES_PATH+"/mxBasic.js",STENCIL_PATH+"/bpmn.xml",SHAPES_PATH+"/bpmn/mxBpmnShape2.js"],mxStencilRegistry.libraries.bpmn2=[SHAPES_PATH+"/mxBasic.js",STENCIL_PATH+"/bpmn.xml",SHAPES_PATH+"/bpmn/mxBpmnShape2.js"],mxStencilRegistry.libraries.c4=[SHAPES_PATH+"/mxC4.js"],mxStencilRegistry.libraries.cisco19=[SHAPES_PATH+"/mxCisco19.js",STENCIL_PATH+"/cisco19.xml"],mxStencilRegistry.libraries.cisco_safe=[SHAPES_PATH+"/mxCiscoSafe.js",STENCIL_PATH+"/cisco_safe/architecture.xml",STENCIL_PATH+"/cisco_safe/business_icons.xml",STENCIL_PATH+"/cisco_safe/capability.xml",STENCIL_PATH+"/cisco_safe/design.xml",STENCIL_PATH+"/cisco_safe/iot_things_icons.xml",STENCIL_PATH+"/cisco_safe/people_places_things_icons.xml",STENCIL_PATH+"/cisco_safe/security_icons.xml",STENCIL_PATH+"/cisco_safe/technology_icons.xml",STENCIL_PATH+"/cisco_safe/threat.xml"],mxStencilRegistry.libraries.dfd=[SHAPES_PATH+"/mxDFD.js"],mxStencilRegistry.libraries.er=[SHAPES_PATH+"/er/mxER.js"],mxStencilRegistry.libraries.kubernetes=[SHAPES_PATH+"/mxKubernetes.js",STENCIL_PATH+"/kubernetes.xml"],mxStencilRegistry.libraries.flowchart=[SHAPES_PATH+"/mxFlowchart.js",STENCIL_PATH+"/flowchart.xml"],mxStencilRegistry.libraries.ios=[SHAPES_PATH+"/mockup/mxMockupiOS.js"],mxStencilRegistry.libraries.rackGeneral=[SHAPES_PATH+"/rack/mxRack.js",STENCIL_PATH+"/rack/general.xml"],mxStencilRegistry.libraries.rackF5=[STENCIL_PATH+"/rack/f5.xml"],mxStencilRegistry.libraries.lean_mapping=[SHAPES_PATH+"/mxLeanMap.js",STENCIL_PATH+"/lean_mapping.xml"],mxStencilRegistry.libraries.basic=[SHAPES_PATH+"/mxBasic.js",STENCIL_PATH+"/basic.xml"],mxStencilRegistry.libraries.ios7icons=[STENCIL_PATH+"/ios7/icons.xml"],mxStencilRegistry.libraries.ios7ui=[SHAPES_PATH+"/ios7/mxIOS7Ui.js",STENCIL_PATH+"/ios7/misc.xml"],mxStencilRegistry.libraries.android=[SHAPES_PATH+"/mxAndroid.js",STENCIL_PATH+"/android/android.xml"],mxStencilRegistry.libraries["electrical/abstract"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/abstract.xml"],mxStencilRegistry.libraries["electrical/logic_gates"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/logic_gates.xml"],mxStencilRegistry.libraries["electrical/miscellaneous"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/miscellaneous.xml"],mxStencilRegistry.libraries["electrical/signal_sources"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/signal_sources.xml"],mxStencilRegistry.libraries["electrical/transmission"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/transmission.xml"],mxStencilRegistry.libraries.infographic=[SHAPES_PATH+"/mxInfographic.js"],mxStencilRegistry.libraries["mockup/buttons"]=[SHAPES_PATH+"/mockup/mxMockupButtons.js"],mxStencilRegistry.libraries["mockup/containers"]=[SHAPES_PATH+"/mockup/mxMockupContainers.js"],mxStencilRegistry.libraries["mockup/forms"]=[SHAPES_PATH+"/mockup/mxMockupForms.js"],mxStencilRegistry.libraries["mockup/graphics"]=[SHAPES_PATH+"/mockup/mxMockupGraphics.js",STENCIL_PATH+"/mockup/misc.xml"],mxStencilRegistry.libraries["mockup/markup"]=[SHAPES_PATH+"/mockup/mxMockupMarkup.js"],mxStencilRegistry.libraries["mockup/misc"]=[SHAPES_PATH+"/mockup/mxMockupMisc.js",STENCIL_PATH+"/mockup/misc.xml"],mxStencilRegistry.libraries["mockup/navigation"]=[SHAPES_PATH+"/mockup/mxMockupNavigation.js",STENCIL_PATH+"/mockup/misc.xml"],mxStencilRegistry.libraries["mockup/text"]=[SHAPES_PATH+"/mockup/mxMockupText.js"],mxStencilRegistry.libraries.floorplan=[SHAPES_PATH+"/mxFloorplan.js",STENCIL_PATH+"/floorplan.xml"],mxStencilRegistry.libraries.bootstrap=[SHAPES_PATH+"/mxBootstrap.js",SHAPES_PATH+"/mxBasic.js",STENCIL_PATH+"/bootstrap.xml"],mxStencilRegistry.libraries.gmdl=[SHAPES_PATH+"/mxGmdl.js",STENCIL_PATH+"/gmdl.xml"],mxStencilRegistry.libraries.gcp2=[SHAPES_PATH+"/mxGCP2.js",STENCIL_PATH+"/gcp2.xml"],mxStencilRegistry.libraries.ibm=[SHAPES_PATH+"/mxIBM.js",STENCIL_PATH+"/ibm.xml"],mxStencilRegistry.libraries.cabinets=[SHAPES_PATH+"/mxCabinets.js",STENCIL_PATH+"/cabinets.xml"],mxStencilRegistry.libraries.archimate=[SHAPES_PATH+"/mxArchiMate.js"],mxStencilRegistry.libraries.archimate3=[SHAPES_PATH+"/mxArchiMate3.js"],mxStencilRegistry.libraries.sysml=[SHAPES_PATH+"/mxSysML.js"],mxStencilRegistry.libraries.eip=[SHAPES_PATH+"/mxEip.js",STENCIL_PATH+"/eip.xml"],mxStencilRegistry.libraries.networks=[SHAPES_PATH+"/mxNetworks.js",STENCIL_PATH+"/networks.xml"],mxStencilRegistry.libraries.aws3d=[SHAPES_PATH+"/mxAWS3D.js",STENCIL_PATH+"/aws3d.xml"],mxStencilRegistry.libraries.aws4=[SHAPES_PATH+"/mxAWS4.js",STENCIL_PATH+"/aws4.xml"],mxStencilRegistry.libraries.aws4b=[SHAPES_PATH+"/mxAWS4.js",STENCIL_PATH+"/aws4.xml"],mxStencilRegistry.libraries.uml25=[SHAPES_PATH+"/mxUML25.js"],mxStencilRegistry.libraries.veeam=[STENCIL_PATH+"/veeam/2d.xml",STENCIL_PATH+"/veeam/3d.xml",STENCIL_PATH+"/veeam/veeam.xml"],mxStencilRegistry.libraries.veeam2=[STENCIL_PATH+"/veeam/2d.xml",STENCIL_PATH+"/veeam/3d.xml",STENCIL_PATH+"/veeam/veeam2.xml"],mxStencilRegistry.libraries.pid2inst=[SHAPES_PATH+"/pid2/mxPidInstruments.js"],mxStencilRegistry.libraries.pid2misc=[SHAPES_PATH+"/pid2/mxPidMisc.js",STENCIL_PATH+"/pid/misc.xml"],mxStencilRegistry.libraries.pid2valves=[SHAPES_PATH+"/pid2/mxPidValves.js"],mxStencilRegistry.libraries.pidFlowSensors=[STENCIL_PATH+"/pid/flow_sensors.xml"],mxMarker.getPackageForType=function(e){var t=null;return null!=e&&0<e.length&&("ER"==e.substring(0,2)?t="mxgraph.er":"sysML"==e.substring(0,5)&&(t="mxgraph.sysml")),t};var L=mxMarker.createMarker;mxMarker.createMarker=function(e,t,i,l,a,n,o,s,r,d){var p;return null!=i&&(null!=mxMarker.markers[i]||null!=(p=this.getPackageForType(i))&&mxStencilRegistry.getStencil(p)),L.apply(this,arguments)},PrintDialog.prototype.create=function(v,e){var I=v.editor.graph,t=document.createElement("div"),i=document.createElement("h3");i.style.width="100%",i.style.textAlign="center",i.style.marginTop="0px",mxUtils.write(i,e||mxResources.get("print")),t.appendChild(i);var l=1,A=1,a=document.createElement("div");a.style.cssText="border-bottom:1px solid lightGray;padding-bottom:12px;margin-bottom:12px;";var y=document.createElement("input");y.style.cssText="margin-right:8px;margin-bottom:8px;",y.setAttribute("value","all"),y.setAttribute("type","radio"),y.setAttribute("name","pages-printdialog"),a.appendChild(y);var n=document.createElement("span");mxUtils.write(n,mxResources.get("printAllPages")),a.appendChild(n),mxUtils.br(a);var o=y.cloneNode(!0);y.setAttribute("checked","checked"),o.setAttribute("value","range"),a.appendChild(o);n=document.createElement("span");mxUtils.write(n,mxResources.get("pages")+":"),a.appendChild(n);var C=document.createElement("input");C.style.cssText="margin:0 8px 0 8px;",C.setAttribute("value","1"),C.setAttribute("type","number"),C.setAttribute("min","1"),C.style.width="50px",a.appendChild(C);n=document.createElement("span");mxUtils.write(n,mxResources.get("to")),a.appendChild(n);var x=C.cloneNode(!0);function s(){x.value=Math.max(1,Math.min(l,Math.max(parseInt(x.value),parseInt(C.value)))),C.value=Math.max(1,Math.min(l,Math.min(parseInt(x.value),parseInt(C.value))))}if(a.appendChild(x),mxEvent.addListener(C,"focus",function(){o.checked=!0}),mxEvent.addListener(x,"focus",function(){o.checked=!0}),mxEvent.addListener(C,"change",s),mxEvent.addListener(x,"change",s),null!=v.pages&&(l=v.pages.length,null!=v.currentPage))for(var r=0;r<v.pages.length;r++)if(v.currentPage==v.pages[r]){A=r+1,C.value=A,x.value=A;break}C.setAttribute("max",l),x.setAttribute("max",l),v.isPagesEnabled()?1<l&&(t.appendChild(a),o.checked=!0):o.checked=!0;var d=document.createElement("div");d.style.marginBottom="10px";var p=document.createElement("input");p.style.marginRight="8px",p.setAttribute("value","adjust"),p.setAttribute("type","radio"),p.setAttribute("name","printZoom"),d.appendChild(p);n=document.createElement("span");mxUtils.write(n,mxResources.get("adjustTo")),d.appendChild(n);var N=document.createElement("input");N.style.cssText="margin:0 8px 0 8px;",N.setAttribute("value","100 %"),N.style.width="50px",d.appendChild(N),mxEvent.addListener(N,"focus",function(){p.checked=!0}),t.appendChild(d);var m=a.cloneNode(!1),M=p.cloneNode(!0);M.setAttribute("value","fit"),p.setAttribute("checked","checked");var u=document.createElement("div");u.style.cssText="display:inline-block;height:100%;vertical-align:top;padding-top:2px;",u.appendChild(M),m.appendChild(u);var h=document.createElement("table");h.style.display="inline-block";var c=document.createElement("tbody"),g=document.createElement("tr"),f=g.cloneNode(!0),b=document.createElement("td"),e=b.cloneNode(!0),i=b.cloneNode(!0),d=b.cloneNode(!0),a=b.cloneNode(!0),u=b.cloneNode(!0);b.style.textAlign="right",d.style.textAlign="right",mxUtils.write(b,mxResources.get("fitTo"));var w=document.createElement("input");w.style.cssText="margin:0 8px 0 8px;",w.setAttribute("value","1"),w.setAttribute("min","1"),w.setAttribute("type","number"),w.style.width="40px",e.appendChild(w);n=document.createElement("span");mxUtils.write(n,mxResources.get("fitToSheetsAcross")),i.appendChild(n),mxUtils.write(d,mxResources.get("fitToBy"));var T=w.cloneNode(!0);a.appendChild(T),mxEvent.addListener(w,"focus",function(){M.checked=!0}),mxEvent.addListener(T,"focus",function(){M.checked=!0});n=document.createElement("span");mxUtils.write(n,mxResources.get("fitToSheetsDown")),u.appendChild(n),g.appendChild(b),g.appendChild(e),g.appendChild(i),f.appendChild(d),f.appendChild(a),f.appendChild(u),c.appendChild(g),c.appendChild(f),h.appendChild(c),m.appendChild(h),t.appendChild(m);h=document.createElement("div");(n=document.createElement("div")).style.fontWeight="bold",n.style.marginBottom="12px",mxUtils.write(n,mxResources.get("paperSize")),h.appendChild(n),(n=document.createElement("div")).style.marginBottom="12px";var L=PageSetupDialog.addPageFormatPanel(n,"printdialog",v.editor.graph.pageFormat||mxConstants.PAGE_FORMAT_A4_PORTRAIT);h.appendChild(n);n=document.createElement("span");mxUtils.write(n,mxResources.get("pageScale")),h.appendChild(n);var S=document.createElement("input");S.style.cssText="margin:0 8px 0 8px;",S.setAttribute("value","100 %"),S.style.width="60px",h.appendChild(S),t.appendChild(h);m=document.createElement("div");function E(e){var E=parseInt(S.value)/100;isNaN(E)&&(E=1,S.value="100 %"),E*=.75;var t=null;function i(n,e,t){var i=n.useCssTransforms,l=n.currentTranslate,a=n.currentScale,o=n.view.translate,s=n.view.scale;n.useCssTransforms&&(n.useCssTransforms=!1,n.currentTranslate=new mxPoint(0,0),n.currentScale=1,n.view.translate=new mxPoint(0,0),n.view.scale=1);var r,d,p=n.getGraphBounds(),m=0,u=0,h=L.get(),c=1/n.pageScale,g=M.checked;if(g?(r=parseInt(w.value),d=parseInt(T.value),c=Math.min(h.height*d/(p.height/n.view.scale),h.width*r/(p.width/n.view.scale))):(c=parseInt(N.value)/(100*n.pageScale),isNaN(c)&&(E=1/n.pageScale,N.value="100 %")),(h=mxRectangle.fromRectangle(h)).width=Math.ceil(h.width*E),h.height=Math.ceil(h.height*E),c*=E,!g&&n.pageVisible?(m-=(p=n.getPageLayout()).x*h.width,u-=p.y*h.height):g=!0,null==e&&"1"!=urlParams.customMenu){(e=PrintDialog.createPrintPreview(n,c,h,0,m,u,g)).pageSelector=!1,e.mathEnabled=!1;h=v.getCurrentFile();null!=h&&(e.title=h.getTitle());var f,A=e.writeHead;e.writeHead=function(e){A.apply(this,arguments),(mxClient.IS_GC||mxClient.IS_SF)&&(e.writeln('<style type="text/css">'),e.writeln(Editor.mathJaxWebkitCss),e.writeln("</style>")),mxClient.IS_GC&&(e.writeln('<style type="text/css">'),e.writeln("@media print {"),e.writeln("span.MathJax_SVG svg { shape-rendering: crispEdges; }"),e.writeln("}"),e.writeln("</style>")),null!=v.editor.fontCss&&(e.writeln('<style type="text/css">'),e.writeln(v.editor.fontCss),e.writeln("</style>"));for(var t=n.getCustomFonts(),i=0;i<t.length;i++){var l=t[i].name,a=t[i].url;Graph.isCssFontUrl(a)?e.writeln('<link rel="stylesheet" href="'+mxUtils.htmlEntities(a)+'" charset="UTF-8" type="text/css">'):(e.writeln('<style type="text/css">'),e.writeln('@font-face {\nfont-family: "'+mxUtils.htmlEntities(l)+'";\nsrc: url("'+mxUtils.htmlEntities(a)+'");\n}'),e.writeln("</style>"))}},"undefined"!=typeof MathJax&&(f=e.renderPage,e.renderPage=function(e,t,i,l,a,n){var o=mxClient.NO_FO;mxClient.NO_FO=!(!this.graph.mathEnabled||v.editor.useForeignObjectForMath)||v.editor.originalNoForeignObject;var s=f.apply(this,arguments);return mxClient.NO_FO=o,this.graph.mathEnabled?this.mathEnabled=this.mathEnabled||!0:s.className="geDisableMathJax",s});var y=null,h=I.enableFlowAnimation;I.enableFlowAnimation=!1,null!=I.themes&&"darkTheme"==I.defaultThemeName&&(y=I.stylesheet,I.stylesheet=I.getDefaultStylesheet(),I.refresh()),e.open(null,null,t,!0),I.enableFlowAnimation=h,null!=y&&(I.stylesheet=y,I.refresh())}else{y=n.background;null!=y&&""!=y&&y!=mxConstants.NONE||(y="#ffffff"),e.backgroundColor=y,e.autoOrigin=g,e.appendGraph(n,c,m,u,t,!0);var C=n.getCustomFonts();if(null!=e.wnd)for(var x=0;x<C.length;x++){var b=C[x].name,S=C[x].url;Graph.isCssFontUrl(S)?e.wnd.document.writeln('<link rel="stylesheet" href="'+mxUtils.htmlEntities(S)+'" charset="UTF-8" type="text/css">'):(e.wnd.document.writeln('<style type="text/css">'),e.wnd.document.writeln('@font-face {\nfont-family: "'+mxUtils.htmlEntities(b)+'";\nsrc: url("'+mxUtils.htmlEntities(S)+'");\n}'),e.wnd.document.writeln("</style>"))}}return i&&(n.useCssTransforms=i,n.currentTranslate=l,n.currentScale=a,n.view.translate=o,n.view.scale=s),e}null!=I.themes&&"darkTheme"==I.defaultThemeName&&(t=I.stylesheet,I.stylesheet=I.getDefaultStylesheet(),I.refresh());var l=C.value,a=x.value,n=!y.checked,o=null;if(EditorUi.isElectronApp)PrintDialog.electronPrint(v,y.checked,l,a,M.checked,w.value,T.value,parseInt(N.value)/100,parseInt(S.value)/100,L.get());else{if(!(n=n&&(l==A&&a==A))&&null!=v.pages&&v.pages.length){var s=0,r=v.pages.length-1;y.checked||(s=parseInt(l)-1,r=parseInt(a)-1);for(var d=s;d<=r;d++){var p,m,u,h,c,g=v.pages[d],f=g==v.currentPage?I:null;null==f&&(f=v.createTemporaryGraph(I.stylesheet),m=!(p=!0),(h=u=null)==g.viewState&&null==g.root&&v.updatePageRoot(g),null!=g.viewState&&(p=g.viewState.pageVisible,m=g.viewState.mathEnabled,u=g.viewState.background,h=g.viewState.backgroundImage,f.extFonts=g.viewState.extFonts),f.background=u,f.backgroundImage=null!=h?new mxImage(h.src,h.width,h.height):null,f.pageVisible=p,f.mathEnabled=m,c=f.getGlobalVariable,f.getGlobalVariable=function(e){return"page"==e?g.getName():"pagenumber"==e?d+1:"pagecount"==e?null!=v.pages?v.pages.length:1:c.apply(this,arguments)},document.body.appendChild(f.container),v.updatePageRoot(g),f.model.setRoot(g.root)),o=i(f,o,d!=r),f!=I&&f.container.parentNode.removeChild(f.container)}}else o=i(I);null==o?v.handleError({message:mxResources.get("errorUpdatingPreview")}):(o.mathEnabled&&(s=o.wnd.document,e&&(o.wnd.IMMEDIATE_PRINT=!0),s.writeln('<script type="text/javascript" src="'+DRAWIO_BASE_URL+'/js/math-print.js"><\/script>')),o.closeDocument(),!o.mathEnabled&&e&&PrintDialog.printPreview(o)),null!=t&&(I.stylesheet=t,I.refresh())}}m.style.cssText="text-align:right;margin:48px 0 0 0;";n=mxUtils.button(mxResources.get("cancel"),function(){v.hideDialog()});n.className="geBtn",v.editor.cancelFirst&&m.appendChild(n),"1"!=urlParams.customMenu&&(v.isOffline()||((h=mxUtils.button(mxResources.get("help"),function(){I.openLink("https://www.diagrams.net/doc/faq/print-diagram")})).className="geBtn",m.appendChild(h))),PrintDialog.previewEnabled&&"1"!=urlParams.customMenu&&((P=mxUtils.button(mxResources.get("preview"),function(){v.hideDialog(),E(!1)})).className="geBtn",m.appendChild(P));var P=mxUtils.button(mxResources.get(PrintDialog.previewEnabled?"print":"ok"),function(){v.hideDialog(),E(!0)});P.className="geBtn gePrimaryBtn",m.appendChild(P),v.editor.cancelFirst||m.appendChild(n),t.appendChild(m),this.container=t};var P=ChangePageSetup.prototype.execute;ChangePageSetup.prototype.execute=function(){var e;null==this.page&&(this.page=this.ui.currentPage),this.page!=this.ui.currentPage?null!=this.page.viewState&&(this.ignoreColor||(this.page.viewState.background=this.color),this.ignoreImage||(null!=(e=this.image)&&null!=e.src&&Graph.isPageLink(e.src)&&(e={originalSrc:e.src}),this.page.viewState.backgroundImage=e),null!=this.format&&(this.page.viewState.pageFormat=this.format),null!=this.mathEnabled&&(this.page.viewState.mathEnabled=this.mathEnabled),null!=this.shadowVisible&&(this.page.viewState.shadowVisible=this.shadowVisible)):(P.apply(this,arguments),null!=this.mathEnabled&&this.mathEnabled!=this.ui.isMathEnabled()&&(this.ui.setMathEnabled(this.mathEnabled),this.mathEnabled=!this.mathEnabled),null!=this.shadowVisible&&this.shadowVisible!=this.ui.editor.graph.shadowVisible&&(this.ui.editor.graph.setShadowVisible(this.shadowVisible),this.shadowVisible=!this.shadowVisible))},Editor.prototype.useCanvasForExport=!1;try{var D=document.createElement("canvas"),k=new Image;k.onload=function(){try{D.getContext("2d").drawImage(k,0,0);var e=D.toDataURL("image/png");Editor.prototype.useCanvasForExport=null!=e&&6<e.length}catch(e){}};k.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1px" height="1px" version="1.1"><foreignObject pointer-events="all" width="1" height="1"><div xmlns="http://www.w3.org/1999/xhtml"></div></foreignObject></svg>')))}catch(e){}}(),function(){var e=new mxObjectCodec(new ChangePageSetup,["ui","previousColor","previousImage","previousFormat"]);e.beforeDecode=function(e,t,i){return i.ui=e.ui,t},e.afterDecode=function(e,t,i){return i.previousColor=i.color,i.previousImage=i.image,i.previousFormat=i.format,null!=i.foldingEnabled&&(i.foldingEnabled=!i.foldingEnabled),null!=i.mathEnabled&&(i.mathEnabled=!i.mathEnabled),null!=i.shadowVisible&&(i.shadowVisible=!i.shadowVisible),i},mxCodecRegistry.register(e)}(),function(){var e=new mxObjectCodec(new ChangeGridColor,["ui"]);e.beforeDecode=function(e,t,i){return i.ui=e.ui,t},mxCodecRegistry.register(e)}();