<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5" ><![endif]-->
<!DOCTYPE html>
<html>
<head>
    <title>Flowchart Maker &amp; Online Diagram Software</title>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="Description" content="diagrams.net is free online diagram software for making flowcharts, process diagrams, org charts, UML, ER and network diagrams">
    <meta name="Keywords" content="diagram, online, flow chart, flowchart maker, uml, erd">
    <meta itemprop="name" content="diagrams.net - free flowchart maker and diagrams online">
	<meta itemprop="description" content="diagrams.net is a free online diagramming application  and flowchart maker . You can use it to create UML, entity relationship,
		org charts, BPMN and BPM, database schema and networks. Also possible are telecommunication network, workflow, flowcharts, maps overlays and GIS, electronic 
		circuit and social network diagrams.">
	<meta itemprop="image" content="https://lh4.googleusercontent.com/-cLKEldMbT_E/Tx8qXDuw6eI/AAAAAAAAAAs/Ke0pnlk8Gpg/w500-h344-k/BPMN%2Bdiagram%2Brc2f.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="msapplication-config" content="images/browserconfig.xml">
    <meta name="mobile-web-app-capable" content="yes">
	<meta name="theme-color" content="#d89000">
	<script src="js/jquery/jquery-3.3.1.min.js"></script>
	<script src="kityformula/kityformula/js/kitygraph.all.js"></script>
	<script src="kityformula/kityformula/js/kity-formula-render.all.js"></script>
	<script src="kityformula/kityformula/js/kity-formula-parser.all.min.js"></script>
	<script src="kityformula/kityformula/js/kityformula-editor.all.min.js"></script>
	<script src="kityformula/kitygraph.js"></script>
	<script type="text/javascript">
		/**
		 * URL Parameters and protocol description are here:
		 *
		 * https://desk.draw.io/support/solutions/articles/16000042546-what-url-parameters-are-supported
		 *
		 * Parameters for developers:
		 *
		 * - dev=1: For developers only
		 * - test=1: For developers only
		 * - export=URL for export: For developers only
		 * - ignoremime=1: For developers only (see DriveClient.js). Use Cmd-S to override mime.
		 * - createindex=1: For developers only (see etc/build/README)
		 * - filesupport=0: For developers only (see Editor.js in core)
		 * - savesidebar=1: For developers only (see Sidebar.js)
		 * - pages=1: For developers only (see Pages.js)
		 * - lic=email: For developers only (see LicenseServlet.java)
		 * --
		 * - networkshapes=1: For testing network shapes (temporary)
		 */
		var urlParams = (function()
		{
			var result = new Object();
			var params = window.location.search.slice(1).split('&');
			
			for (var i = 0; i < params.length; i++)
			{
				idx = params[i].indexOf('=');
				
				if (idx > 0)
				{
					result[params[i].substring(0, idx)] = params[i].substring(idx + 1);
				}
			}
			
			return result;
		})();
		
		// Forces CDN caches by passing URL parameters via URL hash
		if (window.location.hash != null && window.location.hash.substring(0, 2) == '#P')
		{
			try
			{
				urlParams = JSON.parse(decodeURIComponent(window.location.hash.substring(2)));
				
				if (urlParams.hash != null)
				{
					window.location.hash = urlParams.hash;
				}
			}
			catch (e)
			{
				// ignore
			}
		}
		
		// Global variable for desktop
		var mxIsElectron = window && window.process && window.process.type;

		// Redirects page if required
		if (urlParams['dev'] != '1')
		{
			(function()
			{
				var proto = window.location.protocol;
				
				if (!mxIsElectron)
				{
					var host = window.location.host;
		
					// Redirects apex, drive and rt to www
					if (host === 'draw.io' || host === 'rt.draw.io' || host === 'drive.draw.io')
					{
						host = 'www.draw.io';
					}
					
					var href = proto + '//' + host + window.location.href.substring(
							window.location.protocol.length +
							window.location.host.length + 2);
		
					// Redirects if href changes
					if (href != window.location.href)
					{
						window.location.href = href;
					}
				}
			})();
		}
		
		/**
		 * Adds meta tag to the page.
		 */
		function mxmeta(name, content, httpEquiv)
		{
			try
			{
				var s = document.createElement('meta');
				
				if (name != null) 
				{
					s.setAttribute('name', name);
				}

				s.setAttribute('content', content);
				
				if (httpEquiv != null) 
				{
					s.setAttribute('http-equiv', httpEquiv);
				}

			  	var t = document.getElementsByTagName('meta')[0];
			  	t.parentNode.insertBefore(s, t);
			}
			catch (e)
			{
				// ignore
			}
		};
		
		/**
		 * Synchronously adds scripts to the page.
		 */
		function mxscript(src, onLoad, id, dataAppKey, noWrite)
		{
			var defer = onLoad == null && !noWrite;
			
			if ((urlParams['dev'] != '1' && typeof document.createElement('canvas').getContext === "function") ||
				onLoad != null || noWrite)
			{
				var s = document.createElement('script');
				s.setAttribute('type', 'text/javascript');
				s.setAttribute('defer', 'true');
				s.setAttribute('src', src);

				if (id != null)
				{
					s.setAttribute('id', id);
				}
				
				if (dataAppKey != null)
				{
					s.setAttribute('data-app-key', dataAppKey);
				}
				
				if (onLoad != null)
				{
					var r = false;
				
					s.onload = s.onreadystatechange = function()
					{
						if (!r && (!this.readyState || this.readyState == 'complete'))
						{
				      		r = true;
				      		onLoad();
						}
				  	};
				}
			  	
			  	var t = document.getElementsByTagName('script')[0];
			  	
			  	if (t != null)
			  	{
			  		t.parentNode.insertBefore(s, t);
			  	}
			}
			else
			{
				document.write('<script src="' + src + '"' + ((id != null) ? ' id="' + id +'" ' : '') +
					((dataAppKey != null) ? ' data-app-key="' + dataAppKey +'" ' : '') + '></scr' + 'ipt>');
			}
		};

		/**
		 * Asynchronously adds scripts to the page.
		 */
		function mxinclude(src)
		{
			var g = document.createElement('script');
			g.type = 'text/javascript';
			g.async = true;
			g.src = src;
			
		    var s = document.getElementsByTagName('script')[0];
		    s.parentNode.insertBefore(g, s);
		};
		
		/**
		 * Adds meta tags with application name (depends on offline URL parameter)
		 */
		(function()
		{
			var name = 'diagrams.net';
			mxmeta('apple-mobile-web-app-title', name);
			mxmeta('application-name', name);

			if (mxIsElectron)
			{
				mxmeta(null, 'default-src \'self\' \'unsafe-inline\'; connect-src \'self\' https://*.draw.io https://fonts.googleapis.com https://fonts.gstatic.com; img-src * data:; media-src *; font-src *; style-src-elem \'self\' \'unsafe-inline\' https://fonts.googleapis.com', 'Content-Security-Policy');
			}
		})();
		
		// Checks for local storage
		var isLocalStorage = false;
		
		try
		{
			isLocalStorage = urlParams['local'] != '1' && typeof(localStorage) != 'undefined';
		}
		catch (e)
		{
			// ignored
		}

		var mxScriptsLoaded = false, mxWinLoaded = false;
		
		function checkAllLoaded()
		{
			if (mxScriptsLoaded && mxWinLoaded)
			{
				App.main();		// app入口
			}
		};
		
		var t0 = new Date();
		// Changes paths for local development environment
		// Used to request grapheditor/mxgraph sources in dev mode				
		var szURL = '';
		
		szURL = '//' + document.location.host + document.location.pathname.replace('index.html','');   // host='10.5.4.181:5255'
		var mxDevUrl = document.location.protocol + szURL; 		// mxDevUrl = '//devhost.jgraph.com/drawio/src/main';
		
		// Used to request draw.io sources in dev mode
		var drawDevUrl = document.location.protocol + szURL; 	// drawDevUrl = '//devhost.jgraph.com/drawio/src/main/webapp/';
		var geBasePath = drawDevUrl + '/js/grapheditor';
		var mxBasePath = mxDevUrl + '/mxgraph';
		
		if (document.location.protocol == 'file:')
		{
			geBasePath = './js/grapheditor';
			mxBasePath = './mxgraph';
			drawDevUrl = './';
			
			// Forces includes for dev environment in node.js
			mxForceIncludes = true;
		}

		mxscript(drawDevUrl + 'js/PreConfig.js');
		mxscript(drawDevUrl + 'js/diagramly/Init.js');
		mxscript(geBasePath + '/Init.js');
		mxscript(mxBasePath + '/mxClient.js');
		
		// Adds all JS code that depends on mxClient. This indirection via Devel.js is
		// required in some browsers to make sure mxClient.js (and the files that it
		// loads asynchronously) are available when the code loaded in Devel.js runs.
		mxscript(drawDevUrl + 'js/diagramly/Devel.js');
		
		// Electron
		if (mxIsElectron)
		{
			mxscript('js/diagramly/DesktopLibrary.js');
			mxscript('js/diagramly/ElectronApp.js');
		}
		
		mxscript(drawDevUrl + 'js/PostConfig.js');

		// Adds basic error handling
		window.onerror = function()
		{
			var status = document.getElementById('geStatus');
			
			if (status != null)
			{
				status.innerHTML = 'Page could not be loaded. Please try refreshing.';
			}
		};
	</script>
	<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
	<link rel="mask-icon" href="images/safari-pinned-tab.svg" color="#d89000">
	<link rel="stylesheet" type="text/css" href="js/croppie/croppie.min.css">
	<link rel="stylesheet" type="text/css" href="styles/grapheditor.css">
	<link rel="stylesheet" type="text/css" href="styles/specialSharacters.css">
	<link rel="manifest" href="images/manifest.json">
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="stylesheet" href="kityformula/kityformula/assets/styles/base.css">
	<link rel="stylesheet" href="kityformula/kityformula/assets/styles/ui.css">
	<link rel="stylesheet" href="kityformula/kityformula/assets/styles/scrollbar.css">
	<style type="text/css">
		body { overflow:hidden; }
		div.picker { z-index: 10007; }
		.geSidebarContainer .geTitle input {
			font-size:8pt;
			color:#606060;
		}
		.geBlock {
			z-index:-3;
			margin:100px;
			margin-top:40px;
			margin-bottom:30px;
			padding:20px;
			text-align:center;
			min-width:50%;
		}
		.geBlock h1, .geBlock h2 {
			margin-top:0px;
			padding-top:0px;
		}
		.geEditor *:not(.geScrollable)::-webkit-scrollbar {
		    width:14px;
		    height:14px;
		}
		.geEditor ::-webkit-scrollbar-track {
			background-clip:padding-box;
			border:solid transparent;
			border-width:1px;
		}
		.geEditor ::-webkit-scrollbar-corner {
			background-color:transparent;
		}
		.geEditor ::-webkit-scrollbar-thumb {
			background-color:rgba(0,0,0,.1);
			background-clip:padding-box;
			border:solid transparent;
			border-radius:10px;
		}
		.geEditor ::-webkit-scrollbar-thumb:hover {
			background-color:rgba(0,0,0,.4);
		}
		.geTemplate {
			border:1px solid transparent;
			display:inline-block;
			_display:inline;
			vertical-align:top;
			border-radius:3px;
			overflow:hidden;
			font-size:14pt;
			cursor:pointer;
			margin:5px;
		}
	</style>
	<!-- Workaround for binary XHR in IE 9/10, see App.loadUrl -->
	<!--[if (IE 9)|(IE 10)]><!-->
		<script type="text/vbscript">
			Function mxUtilsBinaryToArray(Binary)
				Dim i
				ReDim byteArray(LenB(Binary))
				For i = 1 To LenB(Binary)
					byteArray(i-1) = AscB(MidB(Binary, i, 1))
				Next
				mxUtilsBinaryToArray = byteArray
			End Function
		</script>
	<!--<![endif]-->
</head>

<body class="geEditor">
<div id="geInfo">
	<div class="geBlock">
		<h1>画图软件</h1>
		<p>
			您可以将其用作流程图生成器、网络图软件，在线创建UML，作为ER图工具，设计数据库模式、在线构建BPMN、制作电路图等。可以导入.vsdx文件，更多功能正在开发中... 
		</p>
		<h2 id="geStatus">加载中 请耐心等待...</h2>
		<p>
			请确保 javascript 可用
		</p>
	</div>

</div>
  
  <div class="kf-model">
    <div id="kfEditorContainer" class="kf-editor">
      <div class="kf-header-container" style="background-color:#fff;">
		  <!--
        <img src="images/seasky.png" style="width: 24px; margin: -1px 10px 0 10px;"> 
		  -->
        <span style="line-height: 27px; margin-left: 10px;">数学公式</span>
        <div class="kf-header" style="background-color:#fff;"></div>
        <span class="kf-help">帮助</span>
        <span class="kf-save">保存</span>
        <div class="closeKfIcon">
          <g id="kity_g_30"><g id="kity_g_32"><text id="kity_text_33" text-rendering="geometricPrecision" xml:space="preserve" font-family="KF AMS MAIN" font-size="50" x="0" y="40">×</text></g></g>
        </div>
        <div class="kf-help-container">
          <p>函数公式操作说明</p>
            <img class="full-image" src="images/banner.png">
          <p>1、用鼠标点击“此处键入公式”，才能录入公式；</p>
          <p>2、点击右下角"确定"，保存公式，并退出；</p>
        </div>
      </div>
      <div id="tips" class="tips">
          sorry! Beta版本仅支持IE9及以上版本的浏览器，正式版本将会支持低版本浏览器，谢谢您的关注！
      </div>
    </div>
  </div>
  <div class="special-sharacters-model">
    <div class="special-sharacters-container">
      <div class="special-sharacters-header">
        特殊字符
        <div class="closeIcon" onclick="$('.special-sharacters-model').hide()">
          <g id="kity_g_30"><g id="kity_g_32"><text id="kity_text_33" text-rendering="geometricPrecision" xml:space="preserve" font-family="KF AMS MAIN" font-size="50" x="0" y="40">×</text></g></g>
        </div>
      </div>
	  <div style="text-align:center; background-color: rgb(200, 226, 202);">
		复制操作：选中文本，按Ctrl+C右击“复制”文本
	  </div>
      <div class="special-sharacters-content">
        <!-- <p class="special-sharacters-title" onclick="toggleText(0)">
          <img class="arrow-right" src="images/touch-submenu.png" alt="">
          <img class="arrow-up" src="images/touch-submenu.png" alt="">
          数字
        </p>
        <div class="special-sharacters-text">
          12345678910
        </div> -->
      </div>
    </div>
  </div>
<script type="text/javascript">
  $('.kf-model').click(function() {
    $('.kf-help-container').fadeOut(100)
  })
  $('.kf-help-container').click(function(event) {
    event.stopPropagation()
  })
  $('.kf-help').click(function(event) {
    $('.kf-help-container').fadeIn(100)
    event.stopPropagation()
  })
  function toggleText(index) {
    $('.special-sharacters-title').eq(index).find('.arrow-up').toggle()
    $('.special-sharacters-title').eq(index).find('.arrow-right').toggle()
    $('.special-sharacters-text').eq(index).toggle()
  }
/**
 * Main
 */
if (navigator.userAgent != null && navigator.userAgent.toLowerCase().
	indexOf(' electron/') >= 0 && typeof process !== 'undefined' && process.versions.electron < 5)
{
	// Redirects old Electron app to latest version
	var div = document.getElementById('geInfo');
	
	if (div != null)
	{
		div.innerHTML = '<center><h2>You are using an out of date version of this app.<br>Please download the latest version ' +
			'<a href="https://github.com/jgraph/drawio-desktop/releases/latest" target="_blank">here</a>.</h2></center>';
	}
}
else
{
	if (urlParams['dev'] != '1' && typeof document.createElement('canvas').getContext === "function")
	{
		window.addEventListener('load', function()
		{
			mxWinLoaded = true;
			checkAllLoaded();	// app入口
		});
	}
	else
	{
		App.main();	
	}
}
</script>
</body>
</html>
